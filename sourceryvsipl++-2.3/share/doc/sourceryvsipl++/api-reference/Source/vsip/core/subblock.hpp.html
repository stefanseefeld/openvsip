<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<!-- Source/vsip/core/subblock.hpp.html -->
<!-- this view was generated by Source -->
<head>
<meta content="text/html; charset=iso-8859-1" http-equiv="Content-Type"/>
<title>Synopsis - vsip/core/subblock.hpp</title>
<link href="../../../synopsis.css" type="text/css" rel="stylesheet"/>
<script src="../../../synopsis.js" type="text/javascript"></script>
</head>
<body class="Source" onload="load()">
<div class="navigation">
<span class="normal"><a href="../../../Scopes/global.html">Global Namespace</a></span>
<span class="normal"><a href="../../../InheritanceTree.html">Inheritance Tree</a></span>
<span class="normal"><a href="../../../InheritanceGraph.html">Inheritance Graph</a></span>
<span class="normal"><a href="../../../NameIndex.html">Name Index</a></span>
</div>
File: <b>vsip/core/subblock.hpp</b><pre class="sxr"><a id="line1"></a><span class="lineno">   1</span><span class="line"><span class="comment">/* Copyright (c) 2005, 2006, 2008 by CodeSourcery.  All rights reserved. */</span></span>
<a id="line2"></a><span class="lineno">   2</span>
<a id="line3"></a><span class="lineno">   3</span><span class="line"><span class="comment">/** @file    vsip/core/subblock.hpp</span></span>
<a id="line4"></a><span class="lineno">   4</span><span class="line"><span class="comment">    @author  Zack Weinberg</span></span>
<a id="line5"></a><span class="lineno">   5</span><span class="line"><span class="comment">    @date    2005-01-28</span></span>
<a id="line6"></a><span class="lineno">   6</span><span class="line"><span class="comment">    @brief   VSIPL++ Library: Subblock classes.</span></span>
<a id="line7"></a><span class="lineno">   7</span><span class="line"><span class="comment"/></span>
<a id="line8"></a><span class="lineno">   8</span><span class="line"><span class="comment">  This file implements Block-interface classes which wrap other Blocks</span></span>
<a id="line9"></a><span class="lineno">   9</span><span class="line"><span class="comment">  and rearrange the data they carry.  Currently we provide four wrappers:</span></span>
<a id="line10"></a><span class="lineno">  10</span><span class="line"><span class="comment"/></span>
<a id="line11"></a><span class="lineno">  11</span><span class="line"><span class="comment">  1) Component_block: For blocks with complex values, expose only the</span></span>
<a id="line12"></a><span class="lineno">  12</span><span class="line"><span class="comment">     real or imaginary components of those values.  Could be</span></span>
<a id="line13"></a><span class="lineno">  13</span><span class="line"><span class="comment">     generalized to blocks with other non-scalar element types,</span></span>
<a id="line14"></a><span class="lineno">  14</span><span class="line"><span class="comment">     e.g. quaternions, if anyone ever wants them.</span></span>
<a id="line15"></a><span class="lineno">  15</span><span class="line"><span class="comment"/></span>
<a id="line16"></a><span class="lineno">  16</span><span class="line"><span class="comment">  2) Transposed_block, Permuted_block: Reorder the indices of an</span></span>
<a id="line17"></a><span class="lineno">  17</span><span class="line"><span class="comment">     N-dimensional block (N&gt;1).</span></span>
<a id="line18"></a><span class="lineno">  18</span><span class="line"><span class="comment"/></span>
<a id="line19"></a><span class="lineno">  19</span><span class="line"><span class="comment">  3) Sliced_block: Bind one of the indices of an N-dimensional block (N&gt;1)</span></span>
<a id="line20"></a><span class="lineno">  20</span><span class="line"><span class="comment">     to a constant, producing an (N-1)-dimensional block.  For example,</span></span>
<a id="line21"></a><span class="lineno">  21</span><span class="line"><span class="comment">     this can be used to extract a row or column vector from a matrix.</span></span>
<a id="line22"></a><span class="lineno">  22</span><span class="line"><span class="comment"/></span>
<a id="line23"></a><span class="lineno">  23</span><span class="line"><span class="comment">  4) Subset_block: Without changing the dimensionality of a block,</span></span>
<a id="line24"></a><span class="lineno">  24</span><span class="line"><span class="comment">     restrict access to a subset of its values: every other element of</span></span>
<a id="line25"></a><span class="lineno">  25</span><span class="line"><span class="comment">     a 1-dimensional vector, or the upper left 3x3 of a 9x9 matrix.</span></span>
<a id="line26"></a><span class="lineno">  26</span><span class="line"><span class="comment">     The subset pattern is restricted to what can be expressed by a</span></span>
<a id="line27"></a><span class="lineno">  27</span><span class="line"><span class="comment">     Domain&lt;N&gt; where N is the underlying block's dimensionality.   */</span></span>
<a id="line28"></a><span class="lineno">  28</span>
<a id="line29"></a><span class="lineno">  29</span><span class="line">#ifndef VSIP_CORE_SUBBLOCK_HPP</span>
<a id="line30"></a><span class="lineno">  30</span><span class="line">#define VSIP_CORE_SUBBLOCK_HPP</span>
<a id="line31"></a><span class="lineno">  31</span>
<a id="line32"></a><span class="lineno">  32</span><span class="line"><span class="comment">/***********************************************************************</span></span>
<a id="line33"></a><span class="lineno">  33</span><span class="line"><span class="comment">  Included Files</span></span>
<a id="line34"></a><span class="lineno">  34</span><span class="line"><span class="comment">***********************************************************************/</span></span>
<a id="line35"></a><span class="lineno">  35</span>
<a id="line36"></a><span class="lineno">  36</span><span class="line">#include &lt;vsip/support.hpp&gt;</span>
<a id="line37"></a><span class="lineno">  37</span><span class="line">#include &lt;vsip/domain.hpp&gt;</span>
<a id="line38"></a><span class="lineno">  38</span><span class="line">#include &lt;vsip/core/map_fwd.hpp&gt;</span>
<a id="line39"></a><span class="lineno">  39</span><span class="line">#include &lt;vsip/core/refcount.hpp&gt;</span>
<a id="line40"></a><span class="lineno">  40</span><span class="line">#include &lt;vsip/core/static_assert.hpp&gt;</span>
<a id="line41"></a><span class="lineno">  41</span><span class="line">#include &lt;vsip/core/noncopyable.hpp&gt;</span>
<a id="line42"></a><span class="lineno">  42</span><span class="line">#include &lt;vsip/core/domain_utils.hpp&gt;</span>
<a id="line43"></a><span class="lineno">  43</span><span class="line">#include &lt;vsip/core/storage.hpp&gt;</span>
<a id="line44"></a><span class="lineno">  44</span><span class="line">#include &lt;vsip/core/parallel/local_map.hpp&gt;</span>
<a id="line45"></a><span class="lineno">  45</span><span class="line">#include &lt;vsip/core/parallel/subset_map_decl.hpp&gt;</span>
<a id="line46"></a><span class="lineno">  46</span><span class="line">#include &lt;vsip/core/parallel/transpose_map_decl.hpp&gt;</span>
<a id="line47"></a><span class="lineno">  47</span><span class="line">#include &lt;complex&gt;</span>
<a id="line48"></a><span class="lineno">  48</span>
<a id="line49"></a><span class="lineno">  49</span><span class="line"><span class="comment">/***********************************************************************</span></span>
<a id="line50"></a><span class="lineno">  50</span><span class="line"><span class="comment">  Declarations</span></span>
<a id="line51"></a><span class="lineno">  51</span><span class="line"><span class="comment">***********************************************************************/</span></span>
<a id="line52"></a><span class="lineno">  52</span>
<a id="line53"></a><span class="lineno">  53</span><span class="line"><span class="keyword">namespace</span> <a href="../../../Scopes/vsip.html" title="namespace vsip">vsip</a></span>
<a id="line54"></a><span class="lineno">  54</span><span class="line">{</span>
<a id="line55"></a><span class="lineno">  55</span>
<a id="line56"></a><span class="lineno">  56</span><span class="line"><span class="keyword">namespace</span> <a href="../../../Scopes/vsip/impl.html" title="namespace vsip::impl">impl</a></span>
<a id="line57"></a><span class="lineno">  57</span><span class="line">{</span>
<a id="line58"></a><span class="lineno">  58</span>
<a id="line59"></a><span class="lineno">  59</span><span class="line"><span class="comment">/// The Component_block class applies an &quot;Extractor&quot; policy to all</span></span>
<a id="line60"></a><span class="lineno">  60</span><span class="line"><span class="comment">/// accesses via get() and put().  Everything else is deferred to the</span></span>
<a id="line61"></a><span class="lineno">  61</span><span class="line"><span class="comment">/// underlying block.</span></span>
<a id="line62"></a><span class="lineno">  62</span><span class="line">template &lt;typename Block,</span>
<a id="line63"></a><span class="lineno">  63</span><span class="line">          template &lt;typename&gt; class Extractor&gt;</span>
<a id="line64"></a><span class="lineno">  64</span><span class="line"><span class="keyword">class</span> <a href="../../../Scopes/vsip/impl/Component_block.html" title="class vsip::impl::Component_block">Component_block</a> : <span class="keyword">public</span> <a href="../../../Scopes/vsip/impl/Non_assignable.html" title="class vsip::impl::Non_assignable">impl::Non_assignable</a></span>
<a id="line65"></a><span class="lineno">  65</span><span class="line">{</span>
<a id="line66"></a><span class="lineno">  66</span><span class="line">  <span class="keyword">typedef</span> Extractor&lt;typename Block::value_type&gt; <a href="../../../Scopes/vsip/impl/Component_block.html#extr_" title="typedef vsip::impl::Component_block::extr_">extr_</a>;</span>
<a id="line67"></a><span class="lineno">  67</span><span class="line"><span class="keyword">public</span>:</span>
<a id="line68"></a><span class="lineno">  68</span><span class="line">  <span class="comment">// Compile-time values and types.</span></span>
<a id="line69"></a><span class="lineno">  69</span><span class="line"><span class="comment">  // The type of elements of this block is determined by the Extractor</span></span>
<a id="line70"></a><span class="lineno">  70</span><span class="line"><span class="comment">  // instantiated for the Block's value_type.</span></span>
<a id="line71"></a><span class="lineno">  71</span><span class="line">  static <a href="../../../Scopes/vsip.html#dimension_type" title="typedef vsip::dimension_type">dimension_type const</a> <a href="../../../Scopes/vsip/impl/Component_block.html#dim" title="data member vsip::impl::Component_block::dim">dim</a> = Block::dim;</span>
<a id="line72"></a><span class="lineno">  72</span><span class="line">  <span class="keyword">typedef</span> typename extr_::value_type  <a href="../../../Scopes/vsip/impl/Component_block.html#value_type" title="typedef vsip::impl::Component_block::value_type">value_type</a>;</span>
<a id="line73"></a><span class="lineno">  73</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Component_block.html#value_type" title="typedef vsip::impl::Component_block::value_type">value_type</a>&amp;       <a href="../../../Scopes/vsip/impl/Component_block.html#reference_type" title="typedef vsip::impl::Component_block::reference_type">reference_type</a>;</span>
<a id="line74"></a><span class="lineno">  74</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Component_block.html#value_type" title="typedef vsip::impl::Component_block::value_type">value_type const</a>&amp; <a href="../../../Scopes/vsip/impl/Component_block.html#const_reference_type" title="typedef vsip::impl::Component_block::const_reference_type">const_reference_type</a>;</span>
<a id="line75"></a><span class="lineno">  75</span><span class="line">  <span class="keyword">typedef</span> typename Block::map_type <a href="../../../Scopes/vsip/impl/Component_block.html#map_type" title="typedef vsip::impl::Component_block::map_type">map_type</a>;</span>
<a id="line76"></a><span class="lineno">  76</span>
<a id="line77"></a><span class="lineno">  77</span><span class="line">  <span class="comment">// Constructors and destructors.</span></span>
<a id="line78"></a><span class="lineno">  78</span><span class="line">  <a href="../../../Scopes/vsip/impl/Component_block.html#Component_block_lconst.Component_block_A_r" title="member function vsip::impl::Component_block::Component_block(const Component_block&amp;)">Component_block</a>(<a href="../../../Scopes/vsip/impl/Component_block.html" title="class vsip::impl::Component_block">Component_block const</a>&amp; b) : blk_(&amp;*b.blk_) {}</span>
<a id="line79"></a><span class="lineno">  79</span><span class="line">  <a href="../../../Scopes/vsip/impl/Component_block.html#Component_block_lBlock_A_r" title="member function vsip::impl::Component_block::Component_block(Block&amp;)">Component_block</a>(Block &amp;blk) <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a> : blk_ (&amp;blk) {}</span>
<a id="line80"></a><span class="lineno">  80</span><span class="line">  <a href="../../../Scopes/vsip/impl/Component_block.html#_tComponent_block_l_r" title="member function vsip::impl::Component_block::~Component_block()">~Component_block</a>() <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a> {}</span>
<a id="line81"></a><span class="lineno">  81</span>
<a id="line82"></a><span class="lineno">  82</span><span class="line">  <span class="comment">// Accessors.</span></span>
<a id="line83"></a><span class="lineno">  83</span><span class="line">  <a href="../../../Scopes/vsip.html#length_type" title="typedef vsip::length_type">length_type</a> <a href="../../../Scopes/vsip/impl/Component_block.html#size_l_rconst" title="member function vsip::impl::Component_block::size()const">size</a>() const <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a> { <span class="keyword">return</span> <a href="../../../Scopes/vsip/impl/Component_block.html#blk_" title="data member vsip::impl::Component_block::blk_">blk_</a>-&gt;size();}</span>
<a id="line84"></a><span class="lineno">  84</span><span class="line">  <a href="../../../Scopes/vsip.html#length_type" title="typedef vsip::length_type">length_type</a> <a href="../../../Scopes/vsip/impl/Component_block.html#size_ldimension_type_cdimension_type_rconst" title="member function vsip::impl::Component_block::size(dimension_type,dimension_type)const">size</a>(<a href="../../../Scopes/vsip.html#dimension_type" title="typedef vsip::dimension_type">dimension_type</a> block_d, <a href="../../../Scopes/vsip.html#dimension_type" title="typedef vsip::dimension_type">dimension_type</a> d) const <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line85"></a><span class="lineno">  85</span><span class="line">  { <span class="keyword">return</span> <a href="../../../Scopes/vsip/impl/Component_block.html#blk_" title="data member vsip::impl::Component_block::blk_">blk_</a>-&gt;size(<a href="" title="parameter block_d">block_d</a>, <a href="" title="parameter d">d</a>);}</span>
<a id="line86"></a><span class="lineno">  86</span><span class="line">  <span class="comment">// These are noops as Component_block is helt by-value.</span></span>
<a id="line87"></a><span class="lineno">  87</span><span class="line">  <span class="keyword">void</span> <a href="../../../Scopes/vsip/impl/Component_block.html#increment_count_l_rconst" title="member function vsip::impl::Component_block::increment_count()const">increment_count</a>() const <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a> {}</span>
<a id="line88"></a><span class="lineno">  88</span><span class="line">  <span class="keyword">void</span> <a href="../../../Scopes/vsip/impl/Component_block.html#decrement_count_l_rconst" title="member function vsip::impl::Component_block::decrement_count()const">decrement_count</a>() const <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a> {}</span>
<a id="line89"></a><span class="lineno">  89</span><span class="line">  <a href="../../../Scopes/vsip/impl/Component_block.html#map_type" title="typedef vsip::impl::Component_block::map_type">map_type const</a>&amp; <a href="../../../Scopes/vsip/impl/Component_block.html#map_l_rconst" title="member function vsip::impl::Component_block::map()const">map</a>() const { <span class="keyword">return</span> <a href="../../../Scopes/vsip/impl/Component_block.html#blk_" title="data member vsip::impl::Component_block::blk_">blk_</a>-&gt;map();}</span>
<a id="line90"></a><span class="lineno">  90</span>
<a id="line91"></a><span class="lineno">  91</span><span class="line">  <span class="comment">// Data accessors.</span></span>
<a id="line92"></a><span class="lineno">  92</span><span class="line">  <a href="../../../Scopes/vsip/impl/Component_block.html#value_type" title="typedef vsip::impl::Component_block::value_type">value_type</a> <a href="../../../Scopes/vsip/impl/Component_block.html#get_lindex_type_rconst" title="member function vsip::impl::Component_block::get(index_type)const">get</a>(<a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> i) const <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line93"></a><span class="lineno">  93</span><span class="line">  { <span class="keyword">return</span> <a href="../../../Scopes/vsip/impl/Component_block.html#get_lindex_type_rconst" title="member function vsip::impl::Component_block::get(index_type)const">extr_::get</a>(<a href="../../../Scopes/vsip/impl/Component_block.html#blk_" title="data member vsip::impl::Component_block::blk_">blk_</a>-&gt;get(<a href="" title="parameter i">i</a>));}</span>
<a id="line94"></a><span class="lineno">  94</span><span class="line">  <a href="../../../Scopes/vsip/impl/Component_block.html#value_type" title="typedef vsip::impl::Component_block::value_type">value_type</a> <a href="../../../Scopes/vsip/impl/Component_block.html#get_lindex_type_cindex_type_rconst" title="member function vsip::impl::Component_block::get(index_type,index_type)const">get</a>(<a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> i, <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> j) const <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line95"></a><span class="lineno">  95</span><span class="line">  { <span class="keyword">return</span> <a href="../../../Scopes/vsip/impl/Component_block.html#get_lindex_type_rconst" title="member function vsip::impl::Component_block::get(index_type)const">extr_::get</a>(<a href="../../../Scopes/vsip/impl/Component_block.html#blk_" title="data member vsip::impl::Component_block::blk_">blk_</a>-&gt;get(<a href="" title="parameter i">i</a>, <a href="" title="parameter j">j</a>));}</span>
<a id="line96"></a><span class="lineno">  96</span><span class="line">  <a href="../../../Scopes/vsip/impl/Component_block.html#value_type" title="typedef vsip::impl::Component_block::value_type">value_type</a> <a href="../../../Scopes/vsip/impl/Component_block.html#get_lindex_type_cindex_type_cindex_type_rconst" title="member function vsip::impl::Component_block::get(index_type,index_type,index_type)const">get</a>(<a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> i, <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> j, <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> k) const <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line97"></a><span class="lineno">  97</span><span class="line">  { <span class="keyword">return</span> <a href="../../../Scopes/vsip/impl/Component_block.html#get_lindex_type_rconst" title="member function vsip::impl::Component_block::get(index_type)const">extr_::get</a>(<a href="../../../Scopes/vsip/impl/Component_block.html#blk_" title="data member vsip::impl::Component_block::blk_">blk_</a>-&gt;get(<a href="" title="parameter i">i</a>, <a href="" title="parameter j">j</a>, <a href="" title="parameter k">k</a>));}</span>
<a id="line98"></a><span class="lineno">  98</span>
<a id="line99"></a><span class="lineno">  99</span><span class="line">  <span class="keyword">void</span> <a href="../../../Scopes/vsip/impl/Component_block.html#put_lindex_type_cvalue_type_r" title="member function vsip::impl::Component_block::put(index_type,value_type)">put</a>(<a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> i, <a href="../../../Scopes/vsip/impl/Component_block.html#value_type" title="typedef vsip::impl::Component_block::value_type">value_type</a> val) <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line100"></a><span class="lineno"> 100</span><span class="line">  {</span>
<a id="line101"></a><span class="lineno"> 101</span><span class="line">    typename Block::value_type <a href="" title="local variable tmp">tmp</a> = <a href="../../../Scopes/vsip/impl/Component_block.html#blk_" title="data member vsip::impl::Component_block::blk_">blk_</a>-&gt;get(<a href="" title="parameter i">i</a>);</span>
<a id="line102"></a><span class="lineno"> 102</span><span class="line">    extr_::set(<a href="" title="local variable tmp">tmp</a>, <a href="" title="parameter val">val</a>);</span>
<a id="line103"></a><span class="lineno"> 103</span><span class="line">    <a href="../../../Scopes/vsip/impl/Component_block.html#blk_" title="data member vsip::impl::Component_block::blk_">blk_</a>-&gt;put(<a href="" title="parameter i">i</a>, <a href="" title="local variable tmp">tmp</a>);</span>
<a id="line104"></a><span class="lineno"> 104</span><span class="line">  }</span>
<a id="line105"></a><span class="lineno"> 105</span><span class="line">  <span class="keyword">void</span> <a href="../../../Scopes/vsip/impl/Component_block.html#put_lindex_type_cindex_type_cvalue_type_r" title="member function vsip::impl::Component_block::put(index_type,index_type,value_type)">put</a>(<a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> i, <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> j, <a href="../../../Scopes/vsip/impl/Component_block.html#value_type" title="typedef vsip::impl::Component_block::value_type">value_type</a> val) <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line106"></a><span class="lineno"> 106</span><span class="line">  {</span>
<a id="line107"></a><span class="lineno"> 107</span><span class="line">    typename Block::value_type <a href="" title="local variable tmp">tmp</a> = <a href="../../../Scopes/vsip/impl/Component_block.html#blk_" title="data member vsip::impl::Component_block::blk_">blk_</a>-&gt;get(<a href="" title="parameter i">i</a>, <a href="" title="parameter j">j</a>);</span>
<a id="line108"></a><span class="lineno"> 108</span><span class="line">    extr_::set(<a href="" title="local variable tmp">tmp</a>, <a href="" title="parameter val">val</a>);</span>
<a id="line109"></a><span class="lineno"> 109</span><span class="line">    <a href="../../../Scopes/vsip/impl/Component_block.html#blk_" title="data member vsip::impl::Component_block::blk_">blk_</a>-&gt;put(<a href="" title="parameter i">i</a>, <a href="" title="parameter j">j</a>, <a href="" title="local variable tmp">tmp</a>);</span>
<a id="line110"></a><span class="lineno"> 110</span><span class="line">  }</span>
<a id="line111"></a><span class="lineno"> 111</span><span class="line">  <span class="keyword">void</span> <a href="../../../Scopes/vsip/impl/Component_block.html#put_lindex_type_cindex_type_cindex_type_cvalue_type_r" title="member function vsip::impl::Component_block::put(index_type,index_type,index_type,value_type)">put</a>(<a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> i, <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> j, <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> k, <a href="../../../Scopes/vsip/impl/Component_block.html#value_type" title="typedef vsip::impl::Component_block::value_type">value_type</a> val) <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line112"></a><span class="lineno"> 112</span><span class="line">  {</span>
<a id="line113"></a><span class="lineno"> 113</span><span class="line">    typename Block::value_type <a href="" title="local variable tmp">tmp</a> = <a href="../../../Scopes/vsip/impl/Component_block.html#blk_" title="data member vsip::impl::Component_block::blk_">blk_</a>-&gt;get(<a href="" title="parameter i">i</a>, <a href="" title="parameter j">j</a>, <a href="" title="parameter k">k</a>);</span>
<a id="line114"></a><span class="lineno"> 114</span><span class="line">    extr_::set(<a href="" title="local variable tmp">tmp</a>, <a href="" title="parameter val">val</a>);</span>
<a id="line115"></a><span class="lineno"> 115</span><span class="line">    <a href="../../../Scopes/vsip/impl/Component_block.html#blk_" title="data member vsip::impl::Component_block::blk_">blk_</a>-&gt;put(<a href="" title="parameter i">i</a>, <a href="" title="parameter j">j</a>, <a href="" title="parameter k">k</a>, <a href="" title="local variable tmp">tmp</a>);</span>
<a id="line116"></a><span class="lineno"> 116</span><span class="line">  }</span>
<a id="line117"></a><span class="lineno"> 117</span>
<a id="line118"></a><span class="lineno"> 118</span><span class="line">  <span class="comment">// Support Direct_data interface.</span></span>
<a id="line119"></a><span class="lineno"> 119</span><span class="line"><span class="keyword">public</span>:</span>
<a id="line120"></a><span class="lineno"> 120</span><span class="line">  <span class="keyword">typedef</span> impl::<a href="../../../Scopes/vsip/impl/Storage.html" title="struct vsip::impl::Storage">Storage</a>&lt;<a href="../../../Scopes/vsip/impl/Block_layout.html#complex_type" title="typedef vsip::impl::Block_layout::complex_type">typename Block_layout&lt;Block&gt;::complex_type</a>, value_type&gt;</span>
<a id="line121"></a><span class="lineno"> 121</span><span class="line">		<a href="../../../Scopes/vsip/impl/Component_block.html#storage_type" title="typedef vsip::impl::Component_block::storage_type">storage_type</a>;</span>
<a id="line122"></a><span class="lineno"> 122</span><span class="line">  <span class="keyword">typedef</span> typename storage_type::type       <a href="../../../Scopes/vsip/impl/Component_block.html#data_type" title="typedef vsip::impl::Component_block::data_type">data_type</a>;</span>
<a id="line123"></a><span class="lineno"> 123</span><span class="line">  <span class="keyword">typedef</span> typename storage_type::const_type <a href="../../../Scopes/vsip/impl/Component_block.html#const_data_type" title="typedef vsip::impl::Component_block::const_data_type">const_data_type</a>;</span>
<a id="line124"></a><span class="lineno"> 124</span>
<a id="line125"></a><span class="lineno"> 125</span><span class="line">  <a href="../../../Scopes/vsip/impl/Component_block.html#data_type" title="typedef vsip::impl::Component_block::data_type">data_type</a>       <a href="../../../Scopes/vsip/impl/Component_block.html#impl_data_l_r" title="member function vsip::impl::Component_block::impl_data()">impl_data</a>()       <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line126"></a><span class="lineno"> 126</span><span class="line">  { </span>
<a id="line127"></a><span class="lineno"> 127</span><span class="line">    <span class="keyword">return</span> extr_::get_ptr(<a href="../../../Scopes/vsip/impl/Component_block.html#blk_" title="data member vsip::impl::Component_block::blk_">blk_</a>-&gt;impl_data());</span>
<a id="line128"></a><span class="lineno"> 128</span><span class="line">  }</span>
<a id="line129"></a><span class="lineno"> 129</span>
<a id="line130"></a><span class="lineno"> 130</span><span class="line">  <a href="../../../Scopes/vsip/impl/Component_block.html#const_data_type" title="typedef vsip::impl::Component_block::const_data_type">const_data_type</a> <a href="../../../Scopes/vsip/impl/Component_block.html#impl_data_l_rconst" title="member function vsip::impl::Component_block::impl_data()const">impl_data</a>() const <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line131"></a><span class="lineno"> 131</span><span class="line">  { </span>
<a id="line132"></a><span class="lineno"> 132</span><span class="line">    <span class="keyword">return</span> extr_::get_ptr(<a href="../../../Scopes/vsip/impl/Component_block.html#blk_" title="data member vsip::impl::Component_block::blk_">blk_</a>-&gt;impl_data());</span>
<a id="line133"></a><span class="lineno"> 133</span><span class="line">  }</span>
<a id="line134"></a><span class="lineno"> 134</span>
<a id="line135"></a><span class="lineno"> 135</span><span class="line">  <a href="../../../Scopes/vsip.html#stride_type" title="typedef vsip::stride_type">stride_type</a> <a href="../../../Scopes/vsip/impl/Component_block.html#impl_stride_ldimension_type_cdimension_type_rconst" title="member function vsip::impl::Component_block::impl_stride(dimension_type,dimension_type)const">impl_stride</a>(<a href="../../../Scopes/vsip.html#dimension_type" title="typedef vsip::dimension_type">dimension_type</a> Dim, <a href="../../../Scopes/vsip.html#dimension_type" title="typedef vsip::dimension_type">dimension_type</a> d)</span>
<a id="line136"></a><span class="lineno"> 136</span><span class="line">     const <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line137"></a><span class="lineno"> 137</span><span class="line">  {</span>
<a id="line138"></a><span class="lineno"> 138</span><span class="line">    <a href="" title="macro call">assert</a>(Dim == dim &amp;&amp; d&lt;dim);</span>
<a id="line139"></a><span class="lineno"> 139</span><span class="line">    <span class="keyword">if</span> (Type_equal&lt;typename Block_layout&lt;Block&gt;::complex_type,</span>
<a id="line140"></a><span class="lineno"> 140</span><span class="line">	           Cmplx_split_fmt&gt;::value)</span>
<a id="line141"></a><span class="lineno"> 141</span><span class="line">      <span class="keyword">return</span> <span class="literal">1</span>*<a href="../../../Scopes/vsip/impl/Component_block.html#blk_" title="data member vsip::impl::Component_block::blk_">blk_</a>-&gt;impl_stride(dim, <a href="" title="parameter d">d</a>);</span>
<a id="line142"></a><span class="lineno"> 142</span><span class="line">    <span class="keyword">else</span></span>
<a id="line143"></a><span class="lineno"> 143</span><span class="line">      <span class="keyword">return</span> <span class="literal">2</span>*<a href="../../../Scopes/vsip/impl/Component_block.html#blk_" title="data member vsip::impl::Component_block::blk_">blk_</a>-&gt;impl_stride(dim, <a href="" title="parameter d">d</a>);</span>
<a id="line144"></a><span class="lineno"> 144</span><span class="line">  }</span>
<a id="line145"></a><span class="lineno"> 145</span>
<a id="line146"></a><span class="lineno"> 146</span><span class="line">  <span class="comment">// Implementation specific.</span></span>
<a id="line147"></a><span class="lineno"> 147</span><span class="line"><span class="keyword">public</span>:</span>
<a id="line148"></a><span class="lineno"> 148</span><span class="line">  Block const&amp; <a href="../../../Scopes/vsip/impl/Component_block.html#impl_block_l_rconst" title="member function vsip::impl::Component_block::impl_block()const">impl_block</a>() const { <span class="keyword">return</span> *<span class="keyword">this</span>-&gt;blk_;}</span>
<a id="line149"></a><span class="lineno"> 149</span><span class="line">  Block &amp; <a href="../../../Scopes/vsip/impl/Component_block.html#impl_block_l_r" title="member function vsip::impl::Component_block::impl_block()">impl_block</a>() { <span class="keyword">return</span> *<span class="keyword">this</span>-&gt;blk_;}</span>
<a id="line150"></a><span class="lineno"> 150</span>
<a id="line151"></a><span class="lineno"> 151</span><span class="line"><span class="keyword">private</span>:</span>
<a id="line152"></a><span class="lineno"> 152</span><span class="line">  <span class="comment">// Data members.</span></span>
<a id="line153"></a><span class="lineno"> 153</span><span class="line">  typename View_block_storage&lt;Block&gt;::type <a href="../../../Scopes/vsip/impl/Component_block.html#blk_" title="data member vsip::impl::Component_block::blk_">blk_</a>;</span>
<a id="line154"></a><span class="lineno"> 154</span><span class="line">};</span>
<a id="line155"></a><span class="lineno"> 155</span>
<a id="line156"></a><span class="lineno"> 156</span><span class="line"><span class="comment">/// Store Component_blocks by-value.</span></span>
<a id="line157"></a><span class="lineno"> 157</span><span class="line">template &lt;typename Block,</span>
<a id="line158"></a><span class="lineno"> 158</span><span class="line">          template &lt;typename&gt; class Extractor&gt;</span>
<a id="line159"></a><span class="lineno"> 159</span><span class="line"><span class="keyword">struct</span> <a href="../../../Scopes/vsip/impl/View_block_storage.LComponent_block.LBlock.cExtractor.R.R.html" title="struct vsip::impl::View_block_storage&lt;Component_block&lt;Block,Extractor&gt;&gt;">View_block_storage&lt;Component_block&lt;Block, Extractor&gt; &gt;</a></span>
<a id="line160"></a><span class="lineno"> 160</span><span class="line">  : <a href="../../../Scopes/vsip/impl/By_value_block_storage.html" title="struct vsip::impl::By_value_block_storage">By_value_block_storage</a>&lt;<a href="../../../Scopes/vsip/impl/Component_block.html" title="class vsip::impl::Component_block">Component_block</a>&lt;Block, Extractor&gt; &gt;</span>
<a id="line161"></a><span class="lineno"> 161</span><span class="line">{};</span>
<a id="line162"></a><span class="lineno"> 162</span>
<a id="line163"></a><span class="lineno"> 163</span>
<a id="line164"></a><span class="lineno"> 164</span><span class="line"><span class="comment">/// Extractor classes for real and imaginary components.</span></span>
<a id="line165"></a><span class="lineno"> 165</span><span class="line">template &lt;typename Cplx&gt;</span>
<a id="line166"></a><span class="lineno"> 166</span><span class="line"><span class="keyword">class</span> <a href="../../../Scopes/vsip/impl/Real_extractor.html" title="class vsip::impl::Real_extractor">Real_extractor</a></span>
<a id="line167"></a><span class="lineno"> 167</span><span class="line">{</span>
<a id="line168"></a><span class="lineno"> 168</span><span class="line"><span class="keyword">public</span>:</span>
<a id="line169"></a><span class="lineno"> 169</span><span class="line">  <span class="keyword">typedef</span> typename Cplx::value_type  <a href="../../../Scopes/vsip/impl/Real_extractor.html#value_type" title="typedef vsip::impl::Real_extractor::value_type">value_type</a>;</span>
<a id="line170"></a><span class="lineno"> 170</span>
<a id="line171"></a><span class="lineno"> 171</span><span class="line">  static <a href="../../../Scopes/vsip/impl/Real_extractor.html#value_type" title="typedef vsip::impl::Real_extractor::value_type">value_type</a> <a href="../../../Scopes/vsip/impl/Real_extractor.html#get_lCplx_r" title="member function vsip::impl::Real_extractor::get(Cplx)">get</a>(Cplx val) <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a> { <span class="keyword">return</span> <a href="" title="parameter val">val</a>.real();}</span>
<a id="line172"></a><span class="lineno"> 172</span><span class="line">  static <span class="keyword">void</span> <a href="../../../Scopes/vsip/impl/Real_extractor.html#set_lCplx_A_cvalue_type_r" title="member function vsip::impl::Real_extractor::set(Cplx&amp;,value_type)">set</a>(Cplx&amp; elt, <a href="../../../Scopes/vsip/impl/Real_extractor.html#value_type" title="typedef vsip::impl::Real_extractor::value_type">value_type</a> val) <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a> </span>
<a id="line173"></a><span class="lineno"> 173</span><span class="line">  {</span>
<a id="line174"></a><span class="lineno"> 174</span><span class="line">    <a href="" title="parameter elt">elt</a> = Cplx(<a href="" title="parameter val">val</a>, <a href="" title="parameter elt">elt</a>.imag());</span>
<a id="line175"></a><span class="lineno"> 175</span><span class="line">  }</span>
<a id="line176"></a><span class="lineno"> 176</span>
<a id="line177"></a><span class="lineno"> 177</span><span class="line">  </span>
<a id="line178"></a><span class="lineno"> 178</span><span class="line">  static <a href="../../../Scopes/vsip/impl/Real_extractor.html#value_type" title="typedef vsip::impl::Real_extractor::value_type">value_type</a>* <a href="" title="member function vsip::impl::Real_extractor::get_ptr(std::complex&lt;value_type&gt;*)">get_ptr</a>(<a href="" title="struct std::complex">complex</a>&lt;<a href="../../../Scopes/vsip/impl/Real_extractor.html#value_type" title="typedef vsip::impl::Real_extractor::value_type">value_type</a>&gt;* data)</span>
<a id="line179"></a><span class="lineno"> 179</span><span class="line">    { <span class="keyword">return</span> reinterpret_cast&lt;value_type*&gt;(<a href="" title="parameter data">data</a>); }</span>
<a id="line180"></a><span class="lineno"> 180</span>
<a id="line181"></a><span class="lineno"> 181</span><span class="line">  static <a href="../../../Scopes/vsip/impl/Real_extractor.html#value_type" title="typedef vsip::impl::Real_extractor::value_type">value_type</a>* <a href="" title="member function vsip::impl::Real_extractor::get_ptr(const std::pair&lt;value_type*,value_type*&gt;&amp;)">get_ptr</a>(std::<a href="" title="struct std::pair">pair</a>&lt;<a href="../../../Scopes/vsip/impl/Real_extractor.html#value_type" title="typedef vsip::impl::Real_extractor::value_type">value_type</a>*, value_type*&gt; const&amp; data)</span>
<a id="line182"></a><span class="lineno"> 182</span><span class="line">    { <span class="keyword">return</span> <a href="" title="parameter data">data</a>.<a href="" title="data member std::pair::first">first</a>; }</span>
<a id="line183"></a><span class="lineno"> 183</span><span class="line">};</span>
<a id="line184"></a><span class="lineno"> 184</span>
<a id="line185"></a><span class="lineno"> 185</span><span class="line">template &lt;typename Cplx&gt;</span>
<a id="line186"></a><span class="lineno"> 186</span><span class="line"><span class="keyword">class</span> <a href="../../../Scopes/vsip/impl/Imag_extractor.html" title="class vsip::impl::Imag_extractor">Imag_extractor</a></span>
<a id="line187"></a><span class="lineno"> 187</span><span class="line">{</span>
<a id="line188"></a><span class="lineno"> 188</span><span class="line"><span class="keyword">public</span>:</span>
<a id="line189"></a><span class="lineno"> 189</span><span class="line">  <span class="keyword">typedef</span> typename Cplx::value_type  <a href="../../../Scopes/vsip/impl/Imag_extractor.html#value_type" title="typedef vsip::impl::Imag_extractor::value_type">value_type</a>;</span>
<a id="line190"></a><span class="lineno"> 190</span>
<a id="line191"></a><span class="lineno"> 191</span><span class="line">  static <a href="../../../Scopes/vsip/impl/Imag_extractor.html#value_type" title="typedef vsip::impl::Imag_extractor::value_type">value_type</a> <a href="../../../Scopes/vsip/impl/Imag_extractor.html#get_lCplx_r" title="member function vsip::impl::Imag_extractor::get(Cplx)">get</a>(Cplx val) <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a> { <span class="keyword">return</span> <a href="" title="parameter val">val</a>.imag();}</span>
<a id="line192"></a><span class="lineno"> 192</span><span class="line">  static <span class="keyword">void</span> <a href="../../../Scopes/vsip/impl/Imag_extractor.html#set_lCplx_A_cvalue_type_r" title="member function vsip::impl::Imag_extractor::set(Cplx&amp;,value_type)">set</a>(Cplx&amp; elt, <a href="../../../Scopes/vsip/impl/Imag_extractor.html#value_type" title="typedef vsip::impl::Imag_extractor::value_type">value_type</a> val) <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a> </span>
<a id="line193"></a><span class="lineno"> 193</span><span class="line">  {</span>
<a id="line194"></a><span class="lineno"> 194</span><span class="line">    <a href="" title="parameter elt">elt</a> = Cplx(<a href="" title="parameter elt">elt</a>.real(), <a href="" title="parameter val">val</a>);</span>
<a id="line195"></a><span class="lineno"> 195</span><span class="line">  }</span>
<a id="line196"></a><span class="lineno"> 196</span>
<a id="line197"></a><span class="lineno"> 197</span><span class="line">  static <a href="../../../Scopes/vsip/impl/Imag_extractor.html#value_type" title="typedef vsip::impl::Imag_extractor::value_type">value_type</a>* <a href="" title="member function vsip::impl::Imag_extractor::get_ptr(std::complex&lt;value_type&gt;*)">get_ptr</a>(<a href="" title="struct std::complex">complex</a>&lt;<a href="../../../Scopes/vsip/impl/Imag_extractor.html#value_type" title="typedef vsip::impl::Imag_extractor::value_type">value_type</a>&gt;* data)</span>
<a id="line198"></a><span class="lineno"> 198</span><span class="line">    { <span class="keyword">return</span> reinterpret_cast&lt;value_type*&gt;(<a href="" title="parameter data">data</a>) + <span class="literal">1</span>; }</span>
<a id="line199"></a><span class="lineno"> 199</span>
<a id="line200"></a><span class="lineno"> 200</span><span class="line">  static <a href="../../../Scopes/vsip/impl/Imag_extractor.html#value_type" title="typedef vsip::impl::Imag_extractor::value_type">value_type</a>* <a href="" title="member function vsip::impl::Imag_extractor::get_ptr(const std::pair&lt;value_type*,value_type*&gt;&amp;)">get_ptr</a>(std::<a href="" title="struct std::pair">pair</a>&lt;<a href="../../../Scopes/vsip/impl/Imag_extractor.html#value_type" title="typedef vsip::impl::Imag_extractor::value_type">value_type</a>*, value_type*&gt; const&amp; data)</span>
<a id="line201"></a><span class="lineno"> 201</span><span class="line">    { <span class="keyword">return</span> <a href="" title="parameter data">data</a>.<a href="" title="data member std::pair::second">second</a>; }</span>
<a id="line202"></a><span class="lineno"> 202</span><span class="line">};</span>
<a id="line203"></a><span class="lineno"> 203</span>
<a id="line204"></a><span class="lineno"> 204</span>
<a id="line205"></a><span class="lineno"> 205</span>
<a id="line206"></a><span class="lineno"> 206</span><span class="line">template &lt;typename Block,</span>
<a id="line207"></a><span class="lineno"> 207</span><span class="line">          template &lt;typename&gt; class Extractor&gt;</span>
<a id="line208"></a><span class="lineno"> 208</span><span class="line"><span class="keyword">struct</span> <a href="../../../Scopes/vsip/impl/Block_layout.LComponent_block.LBlock.cExtractor.R.R.html" title="struct vsip::impl::Block_layout&lt;Component_block&lt;Block,Extractor&gt;&gt;">Block_layout&lt;Component_block&lt;Block, Extractor&gt; &gt;</a></span>
<a id="line209"></a><span class="lineno"> 209</span><span class="line">{</span>
<a id="line210"></a><span class="lineno"> 210</span><span class="line">  <span class="comment">// Dimension: Same</span></span>
<a id="line211"></a><span class="lineno"> 211</span><span class="line"><span class="comment">  // Access   : Same</span></span>
<a id="line212"></a><span class="lineno"> 212</span><span class="line"><span class="comment">  // Order    : Same</span></span>
<a id="line213"></a><span class="lineno"> 213</span><span class="line"><span class="comment">  // Stride   : If split -&gt; same</span></span>
<a id="line214"></a><span class="lineno"> 214</span><span class="line"><span class="comment">  //          : else     -&gt; unknown</span></span>
<a id="line215"></a><span class="lineno"> 215</span><span class="line"><span class="comment">  // Cmplx    : Same</span></span>
<a id="line216"></a><span class="lineno"> 216</span>
<a id="line217"></a><span class="lineno"> 217</span><span class="line">  static <a href="../../../Scopes/vsip.html#dimension_type" title="typedef vsip::dimension_type">dimension_type const</a> <a href="../../../Scopes/vsip/impl/Block_layout.LComponent_block.LBlock.cExtractor.R.R.html#dim" title="data member vsip::impl::Block_layout&lt;Component_block&lt;Block,Extractor&gt;&gt;::dim">dim</a> = Block::dim;</span>
<a id="line218"></a><span class="lineno"> 218</span>
<a id="line219"></a><span class="lineno"> 219</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Block_layout.html#access_type" title="typedef vsip::impl::Block_layout::access_type">typename Block_layout&lt;Block&gt;::access_type</a>  <a href="../../../Scopes/vsip/impl/Block_layout.LComponent_block.LBlock.cExtractor.R.R.html#access_type" title="typedef vsip::impl::Block_layout&lt;Component_block&lt;Block,Extractor&gt;&gt;::access_type">access_type</a>;</span>
<a id="line220"></a><span class="lineno"> 220</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Block_layout.html#order_type" title="typedef vsip::impl::Block_layout::order_type">typename Block_layout&lt;Block&gt;::order_type</a>   <a href="../../../Scopes/vsip/impl/Block_layout.LComponent_block.LBlock.cExtractor.R.R.html#order_type" title="typedef vsip::impl::Block_layout&lt;Component_block&lt;Block,Extractor&gt;&gt;::order_type">order_type</a>;</span>
<a id="line221"></a><span class="lineno"> 221</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Block_layout.html#complex_type" title="typedef vsip::impl::Block_layout::complex_type">typename Block_layout&lt;Block&gt;::complex_type</a> <a href="../../../Scopes/vsip/impl/Block_layout.LComponent_block.LBlock.cExtractor.R.R.html#complex_type" title="typedef vsip::impl::Block_layout&lt;Component_block&lt;Block,Extractor&gt;&gt;::complex_type">complex_type</a>;</span>
<a id="line222"></a><span class="lineno"> 222</span>
<a id="line223"></a><span class="lineno"> 223</span><span class="line">  <span class="keyword">typedef</span> typename</span>
<a id="line224"></a><span class="lineno"> 224</span><span class="line">    ITE_Type&lt;Type_equal&lt;complex_type, Cmplx_split_fmt&gt;::value,</span>
<a id="line225"></a><span class="lineno"> 225</span><span class="line">	     As_type&lt;typename Block_layout&lt;Block&gt;::pack_type&gt;,</span>
<a id="line226"></a><span class="lineno"> 226</span><span class="line">	     As_type&lt;Stride_unknown&gt; &gt;::type <a href="../../../Scopes/vsip/impl/Block_layout.LComponent_block.LBlock.cExtractor.R.R.html#pack_type" title="typedef vsip::impl::Block_layout&lt;Component_block&lt;Block,Extractor&gt;&gt;::pack_type">pack_type</a>;</span>
<a id="line227"></a><span class="lineno"> 227</span>
<a id="line228"></a><span class="lineno"> 228</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Layout.html" title="struct vsip::impl::Layout">Layout</a>&lt;<a href="../../../Scopes/vsip/impl/Block_layout.LComponent_block.LBlock.cExtractor.R.R.html#dim" title="data member vsip::impl::Block_layout&lt;Component_block&lt;Block,Extractor&gt;&gt;::dim">dim</a>, order_type, pack_type, complex_type&gt; <a href="../../../Scopes/vsip/impl/Block_layout.LComponent_block.LBlock.cExtractor.R.R.html#layout_type" title="typedef vsip::impl::Block_layout&lt;Component_block&lt;Block,Extractor&gt;&gt;::layout_type">layout_type</a>;</span>
<a id="line229"></a><span class="lineno"> 229</span><span class="line">};</span>
<a id="line230"></a><span class="lineno"> 230</span>
<a id="line231"></a><span class="lineno"> 231</span><span class="line">template &lt;typename BlockT, template &lt;typename&gt; class Extractor&gt;</span>
<a id="line232"></a><span class="lineno"> 232</span><span class="line"><span class="keyword">struct</span> <a href="../../../Scopes/vsip/impl/Is_modifiable_block.LComponent_block.LBlockT.cExtractor.R.R.html" title="struct vsip::impl::Is_modifiable_block&lt;Component_block&lt;BlockT,Extractor&gt;&gt;">Is_modifiable_block&lt;Component_block&lt;BlockT, Extractor&gt; &gt;</a></span>
<a id="line233"></a><span class="lineno"> 233</span><span class="line">  : <a href="../../../Scopes/vsip/impl/Is_modifiable_block.html" title="struct vsip::impl::Is_modifiable_block">Is_modifiable_block</a>&lt;BlockT&gt;</span>
<a id="line234"></a><span class="lineno"> 234</span><span class="line">{};</span>
<a id="line235"></a><span class="lineno"> 235</span>
<a id="line236"></a><span class="lineno"> 236</span>
<a id="line237"></a><span class="lineno"> 237</span>
<a id="line238"></a><span class="lineno"> 238</span><span class="line"><span class="comment">/// Functor to create map for a subset block from its parent block's map.</span></span>
<a id="line239"></a><span class="lineno"> 239</span><span class="line"><span class="comment">/// (not a map class)</span></span>
<a id="line240"></a><span class="lineno"> 240</span><span class="line">template &lt;dimension_type Dim,</span>
<a id="line241"></a><span class="lineno"> 241</span><span class="line">	  typename       MapT&gt;</span>
<a id="line242"></a><span class="lineno"> 242</span><span class="line"><span class="keyword">struct</span> <a href="../../../Scopes/vsip/impl/Subset_block_map.html" title="struct vsip::impl::Subset_block_map">Subset_block_map</a></span>
<a id="line243"></a><span class="lineno"> 243</span><span class="line">{</span>
<a id="line244"></a><span class="lineno"> 244</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Map_subdomain.html#type" title="typedef vsip::impl::Map_subdomain::type">typename Map_subdomain&lt;Dim, MapT&gt;::type</a> <a href="../../../Scopes/vsip/impl/Subset_block_map.html#type" title="typedef vsip::impl::Subset_block_map::type">type</a>;</span>
<a id="line245"></a><span class="lineno"> 245</span>
<a id="line246"></a><span class="lineno"> 246</span><span class="line">  static <a href="../../../Scopes/vsip/impl/Subset_block_map.html#type" title="typedef vsip::impl::Subset_block_map::type">type</a> <a href="../../../Scopes/vsip/impl/Subset_block_map.html#convert_map_lconst.MapT_A_cconst.Domain_LDim_R_A_r" title="member function vsip::impl::Subset_block_map::convert_map(const MapT&amp;,const Domain&lt;Dim&gt;&amp;)">convert_map</a>(MapT const&amp;        map,</span>
<a id="line247"></a><span class="lineno"> 247</span><span class="line">			  <a href="../../../Scopes/vsip/Domain.html" title="class vsip::Domain">Domain</a>&lt;Dim&gt; const&amp; dom)</span>
<a id="line248"></a><span class="lineno"> 248</span><span class="line">  {</span>
<a id="line249"></a><span class="lineno"> 249</span><span class="line">    <span class="keyword">return</span> Map_subdomain&lt;Dim, MapT&gt;::project(<a href="" title="parameter map">map</a>, <a href="" title="parameter dom">dom</a>);</span>
<a id="line250"></a><span class="lineno"> 250</span><span class="line">  }</span>
<a id="line251"></a><span class="lineno"> 251</span>
<a id="line252"></a><span class="lineno"> 252</span><span class="line">  static <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> <a href="../../../Scopes/vsip/impl/Subset_block_map.html#parent_subblock_lconst.MapT_A_cconst.Domain_LDim_R_A_cindex_type_r" title="member function vsip::impl::Subset_block_map::parent_subblock(const MapT&amp;,const Domain&lt;Dim&gt;&amp;,index_type)">parent_subblock</a>(MapT const&amp;        map,</span>
<a id="line253"></a><span class="lineno"> 253</span><span class="line">				    <a href="../../../Scopes/vsip/Domain.html" title="class vsip::Domain">Domain</a>&lt;Dim&gt; const&amp; dom,</span>
<a id="line254"></a><span class="lineno"> 254</span><span class="line">				    <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a>         sb)</span>
<a id="line255"></a><span class="lineno"> 255</span><span class="line">  {</span>
<a id="line256"></a><span class="lineno"> 256</span><span class="line">    <span class="keyword">return</span> <a href="../../../Scopes/vsip/impl/Subset_block_map.html#parent_subblock_lconst.MapT_A_cconst.Domain_LDim_R_A_cindex_type_r" title="member function vsip::impl::Subset_block_map::parent_subblock(const MapT&amp;,const Domain&lt;Dim&gt;&amp;,index_type)">Map_subdomain&lt;Dim, MapT&gt;::parent_subblock</a>(<a href="" title="parameter map">map</a>, <a href="" title="parameter dom">dom</a>, <a href="" title="parameter sb">sb</a>);</span>
<a id="line257"></a><span class="lineno"> 257</span><span class="line">  }</span>
<a id="line258"></a><span class="lineno"> 258</span><span class="line">};</span>
<a id="line259"></a><span class="lineno"> 259</span>
<a id="line260"></a><span class="lineno"> 260</span>
<a id="line261"></a><span class="lineno"> 261</span>
<a id="line262"></a><span class="lineno"> 262</span><span class="line"><span class="comment">/// The Subset_block class maps all accesses through a Domain instance</span></span>
<a id="line263"></a><span class="lineno"> 263</span><span class="line"><span class="comment">/// before forwarding to the underlying block.  Thus, for instance, if</span></span>
<a id="line264"></a><span class="lineno"> 264</span><span class="line"><span class="comment">/// a 1-dimensional vector of length N is the underlying block, and the</span></span>
<a id="line265"></a><span class="lineno"> 265</span><span class="line"><span class="comment">/// Domain instance in use is Domain&lt;1&gt;(N/2)*2, then the Subset_block class</span></span>
<a id="line266"></a><span class="lineno"> 266</span><span class="line"><span class="comment">/// will expose every other element of the underlying block.</span></span>
<a id="line267"></a><span class="lineno"> 267</span><span class="line">template &lt;typename Block&gt;</span>
<a id="line268"></a><span class="lineno"> 268</span><span class="line"><span class="keyword">class</span> <a href="../../../Scopes/vsip/impl/Subset_block.html" title="class vsip::impl::Subset_block">Subset_block</a> : <span class="keyword">public</span> <a href="../../../Scopes/vsip/impl/Non_assignable.html" title="class vsip::impl::Non_assignable">Non_assignable</a></span>
<a id="line269"></a><span class="lineno"> 269</span><span class="line">{</span>
<a id="line270"></a><span class="lineno"> 270</span><span class="line"><span class="keyword">public</span>:</span>
<a id="line271"></a><span class="lineno"> 271</span><span class="line">  <span class="comment">// Compile-time values and types.</span></span>
<a id="line272"></a><span class="lineno"> 272</span><span class="line">  static <a href="../../../Scopes/vsip.html#dimension_type" title="typedef vsip::dimension_type">dimension_type const</a> <a href="../../../Scopes/vsip/impl/Subset_block.html#dim" title="data member vsip::impl::Subset_block::dim">dim</a> = Block::dim;</span>
<a id="line273"></a><span class="lineno"> 273</span><span class="line">  <span class="keyword">typedef</span> typename Block::value_type <a href="../../../Scopes/vsip/impl/Subset_block.html#value_type" title="typedef vsip::impl::Subset_block::value_type">value_type</a>;</span>
<a id="line274"></a><span class="lineno"> 274</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Subset_block.html#value_type" title="typedef vsip::impl::Subset_block::value_type">value_type</a>&amp;                <a href="../../../Scopes/vsip/impl/Subset_block.html#reference_type" title="typedef vsip::impl::Subset_block::reference_type">reference_type</a>;</span>
<a id="line275"></a><span class="lineno"> 275</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Subset_block.html#value_type" title="typedef vsip::impl::Subset_block::value_type">value_type const</a>&amp;          <a href="../../../Scopes/vsip/impl/Subset_block.html#const_reference_type" title="typedef vsip::impl::Subset_block::const_reference_type">const_reference_type</a>;</span>
<a id="line276"></a><span class="lineno"> 276</span>
<a id="line277"></a><span class="lineno"> 277</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Subset_block_map.html" title="struct vsip::impl::Subset_block_map">Subset_block_map</a>&lt;<a href="../../../Scopes/vsip/impl/Subset_block.html#dim" title="data member vsip::impl::Subset_block::dim">dim</a>, typename Block::map_type&gt; <a href="../../../Scopes/vsip/impl/Subset_block.html#map_functor" title="typedef vsip::impl::Subset_block::map_functor">map_functor</a>;</span>
<a id="line278"></a><span class="lineno"> 278</span><span class="line">  <span class="keyword">typedef</span> typename map_functor::type <a href="../../../Scopes/vsip/impl/Subset_block.html#map_type" title="typedef vsip::impl::Subset_block::map_type">map_type</a>;</span>
<a id="line279"></a><span class="lineno"> 279</span>
<a id="line280"></a><span class="lineno"> 280</span><span class="line">  <span class="comment">// Constructors and destructors.</span></span>
<a id="line281"></a><span class="lineno"> 281</span><span class="line">  <a href="../../../Scopes/vsip/impl/Subset_block.html#Subset_block_lconst.Domain_Ldim_R_A_cBlock_A_r" title="member function vsip::impl::Subset_block::Subset_block(const Domain&lt;dim&gt;&amp;,Block&amp;)">Subset_block</a>(<a href="../../../Scopes/vsip/Domain.html" title="class vsip::Domain">Domain</a>&lt;<a href="../../../Scopes/vsip/impl/Subset_block.html#dim" title="data member vsip::impl::Subset_block::dim">dim</a>&gt; const&amp; dom, Block &amp;blk) <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line282"></a><span class="lineno"> 282</span><span class="line">    : blk_ (&amp;blk),</span>
<a id="line283"></a><span class="lineno"> 283</span><span class="line">      dom_ (dom),</span>
<a id="line284"></a><span class="lineno"> 284</span><span class="line">      map_ (map_functor::convert_map(blk.map(), dom_))</span>
<a id="line285"></a><span class="lineno"> 285</span><span class="line">  {</span>
<a id="line286"></a><span class="lineno"> 286</span><span class="line">    // Sanity check that all of the Domain indices are within the</span>
<a id="line287"></a><span class="lineno"> 287</span><span class="line">    // underlying block's range.  (If domain is empty, value</span>
<a id="line288"></a><span class="lineno"> 288</span><span class="line">    // returned by impl_last() is not valid.)</span>
<a id="line289"></a><span class="lineno"> 289</span><span class="line">    <span class="keyword">for</span> (<a href="../../../Scopes/vsip.html#dimension_type" title="typedef vsip::dimension_type">dimension_type</a> <a href="" title="local variable `for::d">d</a> = <span class="literal">0</span>; <a href="" title="local variable `for::d">d</a> &lt; dim; <a href="" title="local variable `for::d">d</a>++)</span>
<a id="line290"></a><span class="lineno"> 290</span><span class="line">    {</span>
<a id="line291"></a><span class="lineno"> 291</span><span class="line">      <a href="" title="macro call">assert</a>(dom_[d].size() == 0 || dom_[d].first() &lt; blk_-&gt;size(dim, d));</span>
<a id="line292"></a><span class="lineno"> 292</span><span class="line">      <a href="" title="macro call">assert</a>(dom_[d].size() == 0 || dom_[d].impl_last() &lt; blk_-&gt;size(dim, d));</span>
<a id="line293"></a><span class="lineno"> 293</span><span class="line">    }</span>
<a id="line294"></a><span class="lineno"> 294</span><span class="line">    <a href="../../../Scopes/vsip/impl/Subset_block.html#map_" title="data member vsip::impl::Subset_block::map_">map_</a>.impl_apply(<a href="../../../Scopes/vsip/impl.html#block_domain_lconst.BlockT_A_r" title="function template vsip::impl::block_domain(const BlockT&amp;)">block_domain&lt;dim&gt;</a>(*<span class="keyword">this</span>));</span>
<a id="line295"></a><span class="lineno"> 295</span><span class="line">  }</span>
<a id="line296"></a><span class="lineno"> 296</span>
<a id="line297"></a><span class="lineno"> 297</span><span class="line">  <a href="../../../Scopes/vsip/impl/Subset_block.html#Subset_block_lconst.Subset_block_A_r" title="member function vsip::impl::Subset_block::Subset_block(const Subset_block&amp;)">Subset_block</a>(<a href="../../../Scopes/vsip/impl/Subset_block.html" title="class vsip::impl::Subset_block">Subset_block const</a>&amp; b)</span>
<a id="line298"></a><span class="lineno"> 298</span><span class="line">    : blk_ (&amp;*b.blk_),</span>
<a id="line299"></a><span class="lineno"> 299</span><span class="line">      dom_ (b.dom_),</span>
<a id="line300"></a><span class="lineno"> 300</span><span class="line">      map_ (b.map_)</span>
<a id="line301"></a><span class="lineno"> 301</span><span class="line">  {</span>
<a id="line302"></a><span class="lineno"> 302</span><span class="line">    <a href="../../../Scopes/vsip/impl/Subset_block.html#map_" title="data member vsip::impl::Subset_block::map_">map_</a>.impl_apply(<a href="../../../Scopes/vsip/impl.html#block_domain_lconst.BlockT_A_r" title="function template vsip::impl::block_domain(const BlockT&amp;)">block_domain&lt;dim&gt;</a>(*<span class="keyword">this</span>));</span>
<a id="line303"></a><span class="lineno"> 303</span><span class="line">  }</span>
<a id="line304"></a><span class="lineno"> 304</span>
<a id="line305"></a><span class="lineno"> 305</span><span class="line">  <a href="../../../Scopes/vsip/impl/Subset_block.html#_tSubset_block_l_r" title="member function vsip::impl::Subset_block::~Subset_block()">~Subset_block</a>() <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a> {}</span>
<a id="line306"></a><span class="lineno"> 306</span>
<a id="line307"></a><span class="lineno"> 307</span><span class="line">  <span class="comment">// Accessors.</span></span>
<a id="line308"></a><span class="lineno"> 308</span><span class="line"><span class="comment">  // The size of a Subset is the (total) size of its Domain(s), not</span></span>
<a id="line309"></a><span class="lineno"> 309</span><span class="line"><span class="comment">  // the size of the underlying block.</span></span>
<a id="line310"></a><span class="lineno"> 310</span><span class="line">  <a href="../../../Scopes/vsip.html#length_type" title="typedef vsip::length_type">length_type</a> <a href="../../../Scopes/vsip/impl/Subset_block.html#size_l_rconst" title="member function vsip::impl::Subset_block::size()const">size</a>() const <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a> { <span class="keyword">return</span> <a href="../../../Scopes/vsip/impl/Subset_block.html#dom_" title="data member vsip::impl::Subset_block::dom_">dom_</a>.size();}</span>
<a id="line311"></a><span class="lineno"> 311</span><span class="line">  <a href="../../../Scopes/vsip.html#length_type" title="typedef vsip::length_type">length_type</a> <a href="../../../Scopes/vsip/impl/Subset_block.html#size_ldimension_type_cdimension_type_rconst" title="member function vsip::impl::Subset_block::size(dimension_type,dimension_type)const">size</a>(<a href="../../../Scopes/vsip.html#dimension_type" title="typedef vsip::dimension_type">dimension_type</a> block_d, <a href="../../../Scopes/vsip.html#dimension_type" title="typedef vsip::dimension_type">dimension_type</a> d) const <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line312"></a><span class="lineno"> 312</span><span class="line">  {</span>
<a id="line313"></a><span class="lineno"> 313</span><span class="line">    <a href="" title="macro call">assert</a>(block_d == dim);</span>
<a id="line314"></a><span class="lineno"> 314</span><span class="line">    <a href="" title="macro call">assert</a>(d &lt; block_d);</span>
<a id="line315"></a><span class="lineno"> 315</span><span class="line">    <span class="keyword">return</span> <a href="../../../Scopes/vsip/impl/Subset_block.html#dom_" title="data member vsip::impl::Subset_block::dom_">dom_</a>[<a href="" title="parameter d">d</a>].size();</span>
<a id="line316"></a><span class="lineno"> 316</span><span class="line">  }</span>
<a id="line317"></a><span class="lineno"> 317</span>
<a id="line318"></a><span class="lineno"> 318</span><span class="line">  <span class="comment">// These are noops as Subset_block is held by-value.</span></span>
<a id="line319"></a><span class="lineno"> 319</span><span class="line">  <span class="keyword">void</span> <a href="../../../Scopes/vsip/impl/Subset_block.html#increment_count_l_rconst" title="member function vsip::impl::Subset_block::increment_count()const">increment_count</a>() const <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a> {}</span>
<a id="line320"></a><span class="lineno"> 320</span><span class="line">  <span class="keyword">void</span> <a href="../../../Scopes/vsip/impl/Subset_block.html#decrement_count_l_rconst" title="member function vsip::impl::Subset_block::decrement_count()const">decrement_count</a>() const <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a> {}</span>
<a id="line321"></a><span class="lineno"> 321</span><span class="line">  <a href="../../../Scopes/vsip/impl/Subset_block.html#map_type" title="typedef vsip::impl::Subset_block::map_type">map_type const</a>&amp; <a href="../../../Scopes/vsip/impl/Subset_block.html#map_l_rconst" title="member function vsip::impl::Subset_block::map()const">map</a>() const { <span class="keyword">return</span> <span class="keyword">this</span>-&gt;map_;}</span>
<a id="line322"></a><span class="lineno"> 322</span>
<a id="line323"></a><span class="lineno"> 323</span><span class="line">  <a href="../../../Scopes/vsip/impl/Subset_block.html#value_type" title="typedef vsip::impl::Subset_block::value_type">value_type</a> <a href="../../../Scopes/vsip/impl/Subset_block.html#get_lindex_type_rconst" title="member function vsip::impl::Subset_block::get(index_type)const">get</a>(<a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> i) const <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line324"></a><span class="lineno"> 324</span><span class="line">  {</span>
<a id="line325"></a><span class="lineno"> 325</span><span class="line">    <a href="" title="macro call">assert</a>(i &lt; this-&gt;size(1, 0));</span>
<a id="line326"></a><span class="lineno"> 326</span><span class="line">    <span class="keyword">return</span> <a href="../../../Scopes/vsip/impl/Subset_block.html#blk_" title="data member vsip::impl::Subset_block::blk_">blk_</a>-&gt;get(<a href="../../../Scopes/vsip/impl/Subset_block.html#dom_" title="data member vsip::impl::Subset_block::dom_">dom_</a>[<span class="literal">0</span>].impl_nth(<a href="" title="parameter i">i</a>));</span>
<a id="line327"></a><span class="lineno"> 327</span><span class="line">  }</span>
<a id="line328"></a><span class="lineno"> 328</span><span class="line">  <a href="../../../Scopes/vsip/impl/Subset_block.html#value_type" title="typedef vsip::impl::Subset_block::value_type">value_type</a> <a href="../../../Scopes/vsip/impl/Subset_block.html#get_lindex_type_cindex_type_rconst" title="member function vsip::impl::Subset_block::get(index_type,index_type)const">get</a>(<a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> i, <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> j) const <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line329"></a><span class="lineno"> 329</span><span class="line">  {</span>
<a id="line330"></a><span class="lineno"> 330</span><span class="line">    <a href="" title="macro call">assert</a>(i &lt; this-&gt;size(2, 0));</span>
<a id="line331"></a><span class="lineno"> 331</span><span class="line">    <a href="" title="macro call">assert</a>(j &lt; this-&gt;size(2, 1));</span>
<a id="line332"></a><span class="lineno"> 332</span><span class="line">    <span class="keyword">return</span> <a href="../../../Scopes/vsip/impl/Subset_block.html#blk_" title="data member vsip::impl::Subset_block::blk_">blk_</a>-&gt;get(<a href="../../../Scopes/vsip/impl/Subset_block.html#dom_" title="data member vsip::impl::Subset_block::dom_">dom_</a>[<span class="literal">0</span>].impl_nth(<a href="" title="parameter i">i</a>),</span>
<a id="line333"></a><span class="lineno"> 333</span><span class="line">		     <a href="../../../Scopes/vsip/impl/Subset_block.html#dom_" title="data member vsip::impl::Subset_block::dom_">dom_</a>[<span class="literal">1</span>].impl_nth(<a href="" title="parameter j">j</a>));</span>
<a id="line334"></a><span class="lineno"> 334</span><span class="line">  }</span>
<a id="line335"></a><span class="lineno"> 335</span><span class="line">  <a href="../../../Scopes/vsip/impl/Subset_block.html#value_type" title="typedef vsip::impl::Subset_block::value_type">value_type</a> <a href="../../../Scopes/vsip/impl/Subset_block.html#get_lindex_type_cindex_type_cindex_type_rconst" title="member function vsip::impl::Subset_block::get(index_type,index_type,index_type)const">get</a>(<a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> i, <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> j, <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> k) const <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line336"></a><span class="lineno"> 336</span><span class="line">  {</span>
<a id="line337"></a><span class="lineno"> 337</span><span class="line">    <a href="" title="macro call">assert</a>(i &lt; this-&gt;size(3, 0));</span>
<a id="line338"></a><span class="lineno"> 338</span><span class="line">    <a href="" title="macro call">assert</a>(j &lt; this-&gt;size(3, 1));</span>
<a id="line339"></a><span class="lineno"> 339</span><span class="line">    <a href="" title="macro call">assert</a>(k &lt; this-&gt;size(3, 2));</span>
<a id="line340"></a><span class="lineno"> 340</span><span class="line">    <span class="keyword">return</span> <a href="../../../Scopes/vsip/impl/Subset_block.html#blk_" title="data member vsip::impl::Subset_block::blk_">blk_</a>-&gt;get(<a href="../../../Scopes/vsip/impl/Subset_block.html#dom_" title="data member vsip::impl::Subset_block::dom_">dom_</a>[<span class="literal">0</span>].impl_nth(<a href="" title="parameter i">i</a>),</span>
<a id="line341"></a><span class="lineno"> 341</span><span class="line">		     <a href="../../../Scopes/vsip/impl/Subset_block.html#dom_" title="data member vsip::impl::Subset_block::dom_">dom_</a>[<span class="literal">1</span>].impl_nth(<a href="" title="parameter j">j</a>),</span>
<a id="line342"></a><span class="lineno"> 342</span><span class="line">		     <a href="../../../Scopes/vsip/impl/Subset_block.html#dom_" title="data member vsip::impl::Subset_block::dom_">dom_</a>[<span class="literal">2</span>].impl_nth(<a href="" title="parameter k">k</a>));</span>
<a id="line343"></a><span class="lineno"> 343</span><span class="line">  }</span>
<a id="line344"></a><span class="lineno"> 344</span>
<a id="line345"></a><span class="lineno"> 345</span><span class="line">  <span class="keyword">void</span> <a href="../../../Scopes/vsip/impl/Subset_block.html#put_lindex_type_cvalue_type_r" title="member function vsip::impl::Subset_block::put(index_type,value_type)">put</a>(<a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> i, <a href="../../../Scopes/vsip/impl/Subset_block.html#value_type" title="typedef vsip::impl::Subset_block::value_type">value_type</a> val) <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line346"></a><span class="lineno"> 346</span><span class="line">  {</span>
<a id="line347"></a><span class="lineno"> 347</span><span class="line">    <a href="../../../Scopes/vsip/impl/Subset_block.html#blk_" title="data member vsip::impl::Subset_block::blk_">blk_</a>-&gt;put(<a href="../../../Scopes/vsip/impl/Subset_block.html#dom_" title="data member vsip::impl::Subset_block::dom_">dom_</a>[<span class="literal">0</span>].impl_nth(<a href="" title="parameter i">i</a>), <a href="" title="parameter val">val</a>);</span>
<a id="line348"></a><span class="lineno"> 348</span><span class="line">  }</span>
<a id="line349"></a><span class="lineno"> 349</span><span class="line">  <span class="keyword">void</span> <a href="../../../Scopes/vsip/impl/Subset_block.html#put_lindex_type_cindex_type_cvalue_type_r" title="member function vsip::impl::Subset_block::put(index_type,index_type,value_type)">put</a>(<a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> i, <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> j, <a href="../../../Scopes/vsip/impl/Subset_block.html#value_type" title="typedef vsip::impl::Subset_block::value_type">value_type</a> val) <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line350"></a><span class="lineno"> 350</span><span class="line">  {</span>
<a id="line351"></a><span class="lineno"> 351</span><span class="line">    <a href="../../../Scopes/vsip/impl/Subset_block.html#blk_" title="data member vsip::impl::Subset_block::blk_">blk_</a>-&gt;put(<a href="../../../Scopes/vsip/impl/Subset_block.html#dom_" title="data member vsip::impl::Subset_block::dom_">dom_</a>[<span class="literal">0</span>].impl_nth(<a href="" title="parameter i">i</a>),</span>
<a id="line352"></a><span class="lineno"> 352</span><span class="line">	      <a href="../../../Scopes/vsip/impl/Subset_block.html#dom_" title="data member vsip::impl::Subset_block::dom_">dom_</a>[<span class="literal">1</span>].impl_nth(<a href="" title="parameter j">j</a>), <a href="" title="parameter val">val</a>);</span>
<a id="line353"></a><span class="lineno"> 353</span><span class="line">  }</span>
<a id="line354"></a><span class="lineno"> 354</span><span class="line">  <span class="keyword">void</span> <a href="../../../Scopes/vsip/impl/Subset_block.html#put_lindex_type_cindex_type_cindex_type_cvalue_type_r" title="member function vsip::impl::Subset_block::put(index_type,index_type,index_type,value_type)">put</a>(<a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> i, <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> j, <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> k, <a href="../../../Scopes/vsip/impl/Subset_block.html#value_type" title="typedef vsip::impl::Subset_block::value_type">value_type</a> val) <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line355"></a><span class="lineno"> 355</span><span class="line">  {</span>
<a id="line356"></a><span class="lineno"> 356</span><span class="line">    <a href="../../../Scopes/vsip/impl/Subset_block.html#blk_" title="data member vsip::impl::Subset_block::blk_">blk_</a>-&gt;put(<a href="../../../Scopes/vsip/impl/Subset_block.html#dom_" title="data member vsip::impl::Subset_block::dom_">dom_</a>[<span class="literal">0</span>].impl_nth(<a href="" title="parameter i">i</a>),</span>
<a id="line357"></a><span class="lineno"> 357</span><span class="line">	      <a href="../../../Scopes/vsip/impl/Subset_block.html#dom_" title="data member vsip::impl::Subset_block::dom_">dom_</a>[<span class="literal">1</span>].impl_nth(<a href="" title="parameter j">j</a>),</span>
<a id="line358"></a><span class="lineno"> 358</span><span class="line">	      <a href="../../../Scopes/vsip/impl/Subset_block.html#dom_" title="data member vsip::impl::Subset_block::dom_">dom_</a>[<span class="literal">2</span>].impl_nth(<a href="" title="parameter k">k</a>), <a href="" title="parameter val">val</a>);</span>
<a id="line359"></a><span class="lineno"> 359</span><span class="line">  }</span>
<a id="line360"></a><span class="lineno"> 360</span>
<a id="line361"></a><span class="lineno"> 361</span>
<a id="line362"></a><span class="lineno"> 362</span><span class="line">  Block const&amp; <a href="../../../Scopes/vsip/impl/Subset_block.html#impl_block_l_rconst" title="member function vsip::impl::Subset_block::impl_block()const">impl_block</a>() const { <span class="keyword">return</span> *<span class="keyword">this</span>-&gt;blk_; }</span>
<a id="line363"></a><span class="lineno"> 363</span><span class="line">  Block &amp; <a href="../../../Scopes/vsip/impl/Subset_block.html#impl_block_l_r" title="member function vsip::impl::Subset_block::impl_block()">impl_block</a>() { <span class="keyword">return</span> *<span class="keyword">this</span>-&gt;blk_;}</span>
<a id="line364"></a><span class="lineno"> 364</span><span class="line">  <a href="../../../Scopes/vsip/Domain.html" title="class vsip::Domain">Domain</a>&lt;<a href="../../../Scopes/vsip/impl/Subset_block.html#dim" title="data member vsip::impl::Subset_block::dim">dim</a>&gt; const&amp; <a href="../../../Scopes/vsip/impl/Subset_block.html#impl_domain_l_rconst" title="member function vsip::impl::Subset_block::impl_domain()const">impl_domain</a>() const { <span class="keyword">return</span> <span class="keyword">this</span>-&gt;dom_; }</span>
<a id="line365"></a><span class="lineno"> 365</span>
<a id="line366"></a><span class="lineno"> 366</span>
<a id="line367"></a><span class="lineno"> 367</span><span class="line">  <span class="comment">// Lvalue interface</span></span>
<a id="line368"></a><span class="lineno"> 368</span><span class="line">  <a href="../../../Scopes/vsip/impl/Subset_block.html#reference_type" title="typedef vsip::impl::Subset_block::reference_type">reference_type</a> <a href="../../../Scopes/vsip/impl/Subset_block.html#impl_ref_lindex_type_r" title="member function vsip::impl::Subset_block::impl_ref(index_type)">impl_ref</a>(<a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> i) <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line369"></a><span class="lineno"> 369</span><span class="line">  {</span>
<a id="line370"></a><span class="lineno"> 370</span><span class="line">    <span class="keyword">return</span> <a href="../../../Scopes/vsip/impl/Subset_block.html#blk_" title="data member vsip::impl::Subset_block::blk_">blk_</a>-&gt;impl_ref(<a href="../../../Scopes/vsip/impl/Subset_block.html#dom_" title="data member vsip::impl::Subset_block::dom_">dom_</a>[<span class="literal">0</span>].impl_nth(<a href="" title="parameter i">i</a>));</span>
<a id="line371"></a><span class="lineno"> 371</span><span class="line">  }</span>
<a id="line372"></a><span class="lineno"> 372</span><span class="line">  <a href="../../../Scopes/vsip/impl/Subset_block.html#reference_type" title="typedef vsip::impl::Subset_block::reference_type">reference_type</a> <a href="../../../Scopes/vsip/impl/Subset_block.html#impl_ref_lindex_type_cindex_type_r" title="member function vsip::impl::Subset_block::impl_ref(index_type,index_type)">impl_ref</a>(<a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> i, <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> j) <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line373"></a><span class="lineno"> 373</span><span class="line">  {</span>
<a id="line374"></a><span class="lineno"> 374</span><span class="line">    <span class="keyword">return</span> <a href="../../../Scopes/vsip/impl/Subset_block.html#blk_" title="data member vsip::impl::Subset_block::blk_">blk_</a>-&gt;impl_ref(<a href="../../../Scopes/vsip/impl/Subset_block.html#dom_" title="data member vsip::impl::Subset_block::dom_">dom_</a>[<span class="literal">0</span>].impl_nth(<a href="" title="parameter i">i</a>),</span>
<a id="line375"></a><span class="lineno"> 375</span><span class="line">                          <a href="../../../Scopes/vsip/impl/Subset_block.html#dom_" title="data member vsip::impl::Subset_block::dom_">dom_</a>[<span class="literal">1</span>].impl_nth(<a href="" title="parameter j">j</a>));</span>
<a id="line376"></a><span class="lineno"> 376</span><span class="line">  }</span>
<a id="line377"></a><span class="lineno"> 377</span><span class="line">  <a href="../../../Scopes/vsip/impl/Subset_block.html#reference_type" title="typedef vsip::impl::Subset_block::reference_type">reference_type</a> <a href="../../../Scopes/vsip/impl/Subset_block.html#impl_ref_lindex_type_cindex_type_cindex_type_r" title="member function vsip::impl::Subset_block::impl_ref(index_type,index_type,index_type)">impl_ref</a>(<a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> i, <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> j, <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> k) <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line378"></a><span class="lineno"> 378</span><span class="line">  {</span>
<a id="line379"></a><span class="lineno"> 379</span><span class="line">    <span class="keyword">return</span> <a href="../../../Scopes/vsip/impl/Subset_block.html#blk_" title="data member vsip::impl::Subset_block::blk_">blk_</a>-&gt;impl_ref(<a href="../../../Scopes/vsip/impl/Subset_block.html#dom_" title="data member vsip::impl::Subset_block::dom_">dom_</a>[<span class="literal">0</span>].impl_nth(<a href="" title="parameter i">i</a>),</span>
<a id="line380"></a><span class="lineno"> 380</span><span class="line">                          <a href="../../../Scopes/vsip/impl/Subset_block.html#dom_" title="data member vsip::impl::Subset_block::dom_">dom_</a>[<span class="literal">1</span>].impl_nth(<a href="" title="parameter j">j</a>),</span>
<a id="line381"></a><span class="lineno"> 381</span><span class="line">                          <a href="../../../Scopes/vsip/impl/Subset_block.html#dom_" title="data member vsip::impl::Subset_block::dom_">dom_</a>[<span class="literal">2</span>].impl_nth(<a href="" title="parameter k">k</a>));</span>
<a id="line382"></a><span class="lineno"> 382</span><span class="line">  }</span>
<a id="line383"></a><span class="lineno"> 383</span>
<a id="line384"></a><span class="lineno"> 384</span><span class="line">  <span class="comment">// Support Direct_data interface.</span></span>
<a id="line385"></a><span class="lineno"> 385</span><span class="line"><span class="keyword">public</span>:</span>
<a id="line386"></a><span class="lineno"> 386</span><span class="line">  <span class="keyword">typedef</span> impl::<a href="../../../Scopes/vsip/impl/Storage.html" title="struct vsip::impl::Storage">Storage</a>&lt;<a href="../../../Scopes/vsip/impl/Block_layout.html#complex_type" title="typedef vsip::impl::Block_layout::complex_type">typename Block_layout&lt;Block&gt;::complex_type</a>, value_type&gt;</span>
<a id="line387"></a><span class="lineno"> 387</span><span class="line">		<a href="../../../Scopes/vsip/impl/Subset_block.html#storage_type" title="typedef vsip::impl::Subset_block::storage_type">storage_type</a>;</span>
<a id="line388"></a><span class="lineno"> 388</span><span class="line">  <span class="keyword">typedef</span> typename storage_type::type       <a href="../../../Scopes/vsip/impl/Subset_block.html#data_type" title="typedef vsip::impl::Subset_block::data_type">data_type</a>;</span>
<a id="line389"></a><span class="lineno"> 389</span><span class="line">  <span class="keyword">typedef</span> typename storage_type::const_type <a href="../../../Scopes/vsip/impl/Subset_block.html#const_data_type" title="typedef vsip::impl::Subset_block::const_data_type">const_data_type</a>;</span>
<a id="line390"></a><span class="lineno"> 390</span>
<a id="line391"></a><span class="lineno"> 391</span><span class="line">  <a href="../../../Scopes/vsip/impl.html#par_ll_pbuf_type" title="typedef vsip::impl::par_ll_pbuf_type">par_ll_pbuf_type</a> <a href="../../../Scopes/vsip/impl/Subset_block.html#impl_ll_pbuf_l_r" title="member function vsip::impl::Subset_block::impl_ll_pbuf()">impl_ll_pbuf</a>() <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line392"></a><span class="lineno"> 392</span><span class="line">  { <span class="keyword">return</span> <a href="../../../Scopes/vsip/impl/Subset_block.html#blk_" title="data member vsip::impl::Subset_block::blk_">blk_</a>-&gt;impl_ll_pbuf(); }</span>
<a id="line393"></a><span class="lineno"> 393</span>
<a id="line394"></a><span class="lineno"> 394</span><span class="line">  <a href="../../../Scopes/vsip.html#stride_type" title="typedef vsip::stride_type">stride_type</a> <a href="../../../Scopes/vsip/impl/Subset_block.html#impl_offset_l_r" title="member function vsip::impl::Subset_block::impl_offset()">impl_offset</a>() <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line395"></a><span class="lineno"> 395</span><span class="line">  {</span>
<a id="line396"></a><span class="lineno"> 396</span><span class="line">    <a href="../../../Scopes/vsip.html#stride_type" title="typedef vsip::stride_type">stride_type</a> <a href="" title="local variable offset">offset</a> = <a href="../../../Scopes/vsip/impl/Subset_block.html#blk_" title="data member vsip::impl::Subset_block::blk_">blk_</a>-&gt;impl_offset();</span>
<a id="line397"></a><span class="lineno"> 397</span><span class="line">    <span class="keyword">for</span> (<a href="../../../Scopes/vsip.html#dimension_type" title="typedef vsip::dimension_type">dimension_type</a> <a href="" title="local variable `for::d">d</a>=<span class="literal">0</span>; <a href="" title="local variable `for::d">d</a>&lt;dim; ++<a href="" title="local variable `for::d">d</a>)</span>
<a id="line398"></a><span class="lineno"> 398</span><span class="line">      <a href="" title="local variable offset">offset</a> += <a href="../../../Scopes/vsip/impl/Subset_block.html#dom_" title="data member vsip::impl::Subset_block::dom_">dom_</a>[<a href="" title="local variable `for::d">d</a>].first() * <a href="../../../Scopes/vsip/impl/Subset_block.html#blk_" title="data member vsip::impl::Subset_block::blk_">blk_</a>-&gt;impl_stride(dim, <a href="" title="local variable `for::d">d</a>);</span>
<a id="line399"></a><span class="lineno"> 399</span><span class="line">    <span class="keyword">return</span> <a href="" title="local variable offset">offset</a>;</span>
<a id="line400"></a><span class="lineno"> 400</span><span class="line">  }</span>
<a id="line401"></a><span class="lineno"> 401</span>
<a id="line402"></a><span class="lineno"> 402</span><span class="line">  <a href="../../../Scopes/vsip/impl/Subset_block.html#data_type" title="typedef vsip::impl::Subset_block::data_type">data_type</a>       <a href="../../../Scopes/vsip/impl/Subset_block.html#impl_data_l_r" title="member function vsip::impl::Subset_block::impl_data()">impl_data</a>()       <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line403"></a><span class="lineno"> 403</span><span class="line">  { </span>
<a id="line404"></a><span class="lineno"> 404</span><span class="line">    <a href="../../../Scopes/vsip/impl/Subset_block.html#data_type" title="typedef vsip::impl::Subset_block::data_type">data_type</a> <a href="" title="local variable ptr">ptr</a> = <a href="../../../Scopes/vsip/impl/Subset_block.html#blk_" title="data member vsip::impl::Subset_block::blk_">blk_</a>-&gt;impl_data();</span>
<a id="line405"></a><span class="lineno"> 405</span><span class="line">    <span class="keyword">for</span> (<a href="../../../Scopes/vsip.html#dimension_type" title="typedef vsip::dimension_type">dimension_type</a> <a href="" title="local variable `for::d">d</a>=<span class="literal">0</span>; <a href="" title="local variable `for::d">d</a>&lt;dim; ++<a href="" title="local variable `for::d">d</a>)</span>
<a id="line406"></a><span class="lineno"> 406</span><span class="line">      <a href="" title="local variable ptr">ptr</a> = storage_type::offset(<a href="" title="local variable ptr">ptr</a>,</span>
<a id="line407"></a><span class="lineno"> 407</span><span class="line">				 <a href="../../../Scopes/vsip/impl/Subset_block.html#dom_" title="data member vsip::impl::Subset_block::dom_">dom_</a>[<a href="" title="local variable `for::d">d</a>].first() * <a href="../../../Scopes/vsip/impl/Subset_block.html#blk_" title="data member vsip::impl::Subset_block::blk_">blk_</a>-&gt;impl_stride(dim, <a href="" title="local variable `for::d">d</a>));</span>
<a id="line408"></a><span class="lineno"> 408</span><span class="line">    <span class="keyword">return</span> <a href="" title="local variable ptr">ptr</a>;</span>
<a id="line409"></a><span class="lineno"> 409</span><span class="line">  }</span>
<a id="line410"></a><span class="lineno"> 410</span>
<a id="line411"></a><span class="lineno"> 411</span><span class="line">  <a href="../../../Scopes/vsip/impl/Subset_block.html#const_data_type" title="typedef vsip::impl::Subset_block::const_data_type">const_data_type</a> <a href="../../../Scopes/vsip/impl/Subset_block.html#impl_data_l_rconst" title="member function vsip::impl::Subset_block::impl_data()const">impl_data</a>() const <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line412"></a><span class="lineno"> 412</span><span class="line">  { </span>
<a id="line413"></a><span class="lineno"> 413</span><span class="line">    <a href="../../../Scopes/vsip/impl/Subset_block.html#data_type" title="typedef vsip::impl::Subset_block::data_type">data_type</a> <a href="" title="local variable ptr">ptr</a> = <a href="../../../Scopes/vsip/impl/Subset_block.html#blk_" title="data member vsip::impl::Subset_block::blk_">blk_</a>-&gt;impl_data();</span>
<a id="line414"></a><span class="lineno"> 414</span><span class="line">    <span class="keyword">for</span> (<a href="../../../Scopes/vsip.html#dimension_type" title="typedef vsip::dimension_type">dimension_type</a> <a href="" title="local variable `for::d">d</a>=<span class="literal">0</span>; <a href="" title="local variable `for::d">d</a>&lt;dim; ++<a href="" title="local variable `for::d">d</a>)</span>
<a id="line415"></a><span class="lineno"> 415</span><span class="line">      <a href="" title="local variable ptr">ptr</a> = storage_type::offset(<a href="" title="local variable ptr">ptr</a>,</span>
<a id="line416"></a><span class="lineno"> 416</span><span class="line">				 <a href="../../../Scopes/vsip/impl/Subset_block.html#dom_" title="data member vsip::impl::Subset_block::dom_">dom_</a>[<a href="" title="local variable `for::d">d</a>].first() * <a href="../../../Scopes/vsip/impl/Subset_block.html#blk_" title="data member vsip::impl::Subset_block::blk_">blk_</a>-&gt;impl_stride(dim, <a href="" title="local variable `for::d">d</a>));</span>
<a id="line417"></a><span class="lineno"> 417</span><span class="line">    <span class="keyword">return</span> <a href="" title="local variable ptr">ptr</a>;</span>
<a id="line418"></a><span class="lineno"> 418</span><span class="line">  }</span>
<a id="line419"></a><span class="lineno"> 419</span>
<a id="line420"></a><span class="lineno"> 420</span><span class="line">  <a href="../../../Scopes/vsip.html#stride_type" title="typedef vsip::stride_type">stride_type</a> <a href="../../../Scopes/vsip/impl/Subset_block.html#impl_stride_ldimension_type_cdimension_type_rconst" title="member function vsip::impl::Subset_block::impl_stride(dimension_type,dimension_type)const">impl_stride</a>(<a href="../../../Scopes/vsip.html#dimension_type" title="typedef vsip::dimension_type">dimension_type</a> Dim, <a href="../../../Scopes/vsip.html#dimension_type" title="typedef vsip::dimension_type">dimension_type</a> d)</span>
<a id="line421"></a><span class="lineno"> 421</span><span class="line">     const <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line422"></a><span class="lineno"> 422</span><span class="line">  {</span>
<a id="line423"></a><span class="lineno"> 423</span><span class="line">    <a href="" title="macro call">assert</a>(Dim == dim &amp;&amp; d&lt;dim);</span>
<a id="line424"></a><span class="lineno"> 424</span><span class="line">    <span class="keyword">return</span> <a href="../../../Scopes/vsip/impl/Subset_block.html#blk_" title="data member vsip::impl::Subset_block::blk_">blk_</a>-&gt;impl_stride(dim, <a href="" title="parameter d">d</a>) * <a href="../../../Scopes/vsip/impl/Subset_block.html#dom_" title="data member vsip::impl::Subset_block::dom_">dom_</a>[<a href="" title="parameter d">d</a>].stride();</span>
<a id="line425"></a><span class="lineno"> 425</span><span class="line">  }</span>
<a id="line426"></a><span class="lineno"> 426</span>
<a id="line427"></a><span class="lineno"> 427</span><span class="line"><span class="keyword">private</span>:</span>
<a id="line428"></a><span class="lineno"> 428</span><span class="line">  <span class="comment">// Data members.</span></span>
<a id="line429"></a><span class="lineno"> 429</span><span class="line">  typename View_block_storage&lt;Block&gt;::type <a href="../../../Scopes/vsip/impl/Subset_block.html#blk_" title="data member vsip::impl::Subset_block::blk_">blk_</a>;</span>
<a id="line430"></a><span class="lineno"> 430</span><span class="line">  <a href="../../../Scopes/vsip/Domain.html" title="class vsip::Domain">Domain</a>&lt;<a href="../../../Scopes/vsip/impl/Subset_block.html#dim" title="data member vsip::impl::Subset_block::dim">dim</a>&gt; <a href="../../../Scopes/vsip/impl/Subset_block.html#dom_" title="data member vsip::impl::Subset_block::dom_">dom_</a>;</span>
<a id="line431"></a><span class="lineno"> 431</span><span class="line">  <a href="../../../Scopes/vsip/impl/Subset_block.html#map_type" title="typedef vsip::impl::Subset_block::map_type">map_type</a>    <a href="../../../Scopes/vsip/impl/Subset_block.html#map_" title="data member vsip::impl::Subset_block::map_">map_</a>;</span>
<a id="line432"></a><span class="lineno"> 432</span><span class="line">};</span>
<a id="line433"></a><span class="lineno"> 433</span>
<a id="line434"></a><span class="lineno"> 434</span><span class="line"><span class="comment">// Store Subset_blocks by-value.</span></span>
<a id="line435"></a><span class="lineno"> 435</span><span class="line">template &lt;typename Block&gt;</span>
<a id="line436"></a><span class="lineno"> 436</span><span class="line"><span class="keyword">struct</span> <a href="../../../Scopes/vsip/impl/View_block_storage.LSubset_block.LBlock.R.R.html" title="struct vsip::impl::View_block_storage&lt;Subset_block&lt;Block&gt;&gt;">View_block_storage&lt;Subset_block&lt;Block&gt; &gt;</a></span>
<a id="line437"></a><span class="lineno"> 437</span><span class="line">  : <a href="../../../Scopes/vsip/impl/By_value_block_storage.html" title="struct vsip::impl::By_value_block_storage">By_value_block_storage</a>&lt;<a href="../../../Scopes/vsip/impl/Subset_block.html" title="class vsip::impl::Subset_block">Subset_block</a>&lt;Block&gt; &gt;</span>
<a id="line438"></a><span class="lineno"> 438</span><span class="line">{};</span>
<a id="line439"></a><span class="lineno"> 439</span>
<a id="line440"></a><span class="lineno"> 440</span>
<a id="line441"></a><span class="lineno"> 441</span><span class="line">template &lt;typename BlockT&gt;</span>
<a id="line442"></a><span class="lineno"> 442</span><span class="line"><span class="keyword">struct</span> <a href="../../../Scopes/vsip/impl/Block_root.LSubset_block.LBlockT.R.R.html" title="struct vsip::impl::Block_root&lt;Subset_block&lt;BlockT&gt;&gt;">Block_root&lt;Subset_block&lt;BlockT&gt; &gt;</a></span>
<a id="line443"></a><span class="lineno"> 443</span><span class="line">{</span>
<a id="line444"></a><span class="lineno"> 444</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Block_root.html#type" title="typedef vsip::impl::Block_root::type">typename Block_root&lt;BlockT&gt;::type</a> <a href="../../../Scopes/vsip/impl/Block_root.LSubset_block.LBlockT.R.R.html#type" title="typedef vsip::impl::Block_root&lt;Subset_block&lt;BlockT&gt;&gt;::type">type</a>;</span>
<a id="line445"></a><span class="lineno"> 445</span><span class="line">};</span>
<a id="line446"></a><span class="lineno"> 446</span>
<a id="line447"></a><span class="lineno"> 447</span><span class="line">template &lt;typename       BlockT&gt;</span>
<a id="line448"></a><span class="lineno"> 448</span><span class="line"><a href="../../../Scopes/vsip/impl/Block_root.html#type" title="typedef vsip::impl::Block_root::type">typename Block_root&lt;Subset_block&lt;BlockT&gt; &gt;::type const</a>&amp;</span>
<a id="line449"></a><span class="lineno"> 449</span><span class="line"><a href="" title="function vsip::impl::block_root(const Subset_block&lt;BlockT&gt;&amp;)">block_root</a>(<a href="../../../Scopes/vsip/impl/Subset_block.html" title="class vsip::impl::Subset_block">Subset_block</a>&lt;BlockT&gt; const&amp; block)</span>
<a id="line450"></a><span class="lineno"> 450</span><span class="line">{</span>
<a id="line451"></a><span class="lineno"> 451</span><span class="line">  <span class="keyword">return</span> <a href="" title="function vsip::impl::block_root(const Subset_block&lt;BlockT&gt;&amp;)">block_root</a>(<a href="" title="parameter block">block</a>.<a href="../../../Scopes/vsip/impl/Subset_block.html#impl_block_l_rconst" title="member function vsip::impl::Subset_block::impl_block()const">impl_block</a>());</span>
<a id="line452"></a><span class="lineno"> 452</span><span class="line">}</span>
<a id="line453"></a><span class="lineno"> 453</span>
<a id="line454"></a><span class="lineno"> 454</span>
<a id="line455"></a><span class="lineno"> 455</span>
<a id="line456"></a><span class="lineno"> 456</span><span class="line">template &lt;typename Block&gt;</span>
<a id="line457"></a><span class="lineno"> 457</span><span class="line"><span class="keyword">struct</span> <a href="../../../Scopes/vsip/impl/Block_layout.LSubset_block.LBlock.R.R.html" title="struct vsip::impl::Block_layout&lt;Subset_block&lt;Block&gt;&gt;">Block_layout&lt;Subset_block&lt;Block&gt; &gt;</a></span>
<a id="line458"></a><span class="lineno"> 458</span><span class="line">{</span>
<a id="line459"></a><span class="lineno"> 459</span><span class="line">  <span class="comment">// Dimension: Same</span></span>
<a id="line460"></a><span class="lineno"> 460</span><span class="line"><span class="comment">  // Access   : Same</span></span>
<a id="line461"></a><span class="lineno"> 461</span><span class="line"><span class="comment">  // Order    : Same</span></span>
<a id="line462"></a><span class="lineno"> 462</span><span class="line"><span class="comment">  // Stride   : Stride_unknown</span></span>
<a id="line463"></a><span class="lineno"> 463</span><span class="line"><span class="comment">  // Cmplx    : Same</span></span>
<a id="line464"></a><span class="lineno"> 464</span>
<a id="line465"></a><span class="lineno"> 465</span><span class="line">  static <a href="../../../Scopes/vsip.html#dimension_type" title="typedef vsip::dimension_type">dimension_type const</a> <a href="../../../Scopes/vsip/impl/Block_layout.LSubset_block.LBlock.R.R.html#dim" title="data member vsip::impl::Block_layout&lt;Subset_block&lt;Block&gt;&gt;::dim">dim</a> = Block::dim;</span>
<a id="line466"></a><span class="lineno"> 466</span>
<a id="line467"></a><span class="lineno"> 467</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Block_layout.html#access_type" title="typedef vsip::impl::Block_layout::access_type">typename Block_layout&lt;Block&gt;::access_type</a>  <a href="../../../Scopes/vsip/impl/Block_layout.LSubset_block.LBlock.R.R.html#access_type" title="typedef vsip::impl::Block_layout&lt;Subset_block&lt;Block&gt;&gt;::access_type">access_type</a>;</span>
<a id="line468"></a><span class="lineno"> 468</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Block_layout.html#order_type" title="typedef vsip::impl::Block_layout::order_type">typename Block_layout&lt;Block&gt;::order_type</a>   <a href="../../../Scopes/vsip/impl/Block_layout.LSubset_block.LBlock.R.R.html#order_type" title="typedef vsip::impl::Block_layout&lt;Subset_block&lt;Block&gt;&gt;::order_type">order_type</a>;</span>
<a id="line469"></a><span class="lineno"> 469</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Stride_unknown.html" title="struct vsip::impl::Stride_unknown">Stride_unknown</a>                             <a href="../../../Scopes/vsip/impl/Block_layout.LSubset_block.LBlock.R.R.html#pack_type" title="typedef vsip::impl::Block_layout&lt;Subset_block&lt;Block&gt;&gt;::pack_type">pack_type</a>;</span>
<a id="line470"></a><span class="lineno"> 470</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Block_layout.html#complex_type" title="typedef vsip::impl::Block_layout::complex_type">typename Block_layout&lt;Block&gt;::complex_type</a> <a href="../../../Scopes/vsip/impl/Block_layout.LSubset_block.LBlock.R.R.html#complex_type" title="typedef vsip::impl::Block_layout&lt;Subset_block&lt;Block&gt;&gt;::complex_type">complex_type</a>;</span>
<a id="line471"></a><span class="lineno"> 471</span>
<a id="line472"></a><span class="lineno"> 472</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Layout.html" title="struct vsip::impl::Layout">Layout</a>&lt;<a href="../../../Scopes/vsip/impl/Block_layout.LSubset_block.LBlock.R.R.html#dim" title="data member vsip::impl::Block_layout&lt;Subset_block&lt;Block&gt;&gt;::dim">dim</a>, order_type, pack_type, complex_type&gt; <a href="../../../Scopes/vsip/impl/Block_layout.LSubset_block.LBlock.R.R.html#layout_type" title="typedef vsip::impl::Block_layout&lt;Subset_block&lt;Block&gt;&gt;::layout_type">layout_type</a>;</span>
<a id="line473"></a><span class="lineno"> 473</span><span class="line">};</span>
<a id="line474"></a><span class="lineno"> 474</span>
<a id="line475"></a><span class="lineno"> 475</span><span class="line"><span class="comment">// Subset_block has impl_ref if the underlying block has impl_ref.</span></span>
<a id="line476"></a><span class="lineno"> 476</span><span class="line">template &lt;typename Block&gt;</span>
<a id="line477"></a><span class="lineno"> 477</span><span class="line"><span class="keyword">struct</span> <a href="../../../Scopes/vsip/impl/Lvalue_factory_type.LSubset_block.LBlock.R.R.html" title="struct vsip::impl::Lvalue_factory_type&lt;Subset_block&lt;Block&gt;&gt;">Lvalue_factory_type&lt;Subset_block&lt;Block&gt; &gt;</a></span>
<a id="line478"></a><span class="lineno"> 478</span><span class="line">{</span>
<a id="line479"></a><span class="lineno"> 479</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Lvalue_factory_type/Rebind.html#type" title="typedef vsip::impl::Lvalue_factory_type::Rebind::type">typename Lvalue_factory_type&lt;Block&gt;</a></span>
<a id="line480"></a><span class="lineno"> 480</span><span class="line"><a href="../../../Scopes/vsip/impl/Lvalue_factory_type/Rebind.html#type" title="typedef vsip::impl::Lvalue_factory_type::Rebind::type">    ::template Rebind&lt;Subset_block&lt;Block&gt; &gt;::type</a> <a href="../../../Scopes/vsip/impl/Lvalue_factory_type.LSubset_block.LBlock.R.R.html#type" title="typedef vsip::impl::Lvalue_factory_type&lt;Subset_block&lt;Block&gt;&gt;::type">type</a>;</span>
<a id="line481"></a><span class="lineno"> 481</span><span class="line">  template &lt;typename OtherBlock&gt;</span>
<a id="line482"></a><span class="lineno"> 482</span><span class="line">  <span class="keyword">struct</span> <a href="../../../Scopes/vsip/impl/Lvalue_factory_type.LSubset_block.LBlock.R.R/Rebind.html" title="struct vsip::impl::Lvalue_factory_type&lt;Subset_block&lt;Block&gt;&gt;::Rebind">Rebind</a> {</span>
<a id="line483"></a><span class="lineno"> 483</span><span class="line">    <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Lvalue_factory_type/Rebind.html#type" title="typedef vsip::impl::Lvalue_factory_type::Rebind::type">typename Lvalue_factory_type&lt;Block&gt;</a></span>
<a id="line484"></a><span class="lineno"> 484</span><span class="line"><a href="../../../Scopes/vsip/impl/Lvalue_factory_type/Rebind.html#type" title="typedef vsip::impl::Lvalue_factory_type::Rebind::type">      ::template Rebind&lt;OtherBlock&gt;::type</a> <a href="../../../Scopes/vsip/impl/Lvalue_factory_type.LSubset_block.LBlock.R.R/Rebind.html#type" title="typedef vsip::impl::Lvalue_factory_type&lt;Subset_block&lt;Block&gt;&gt;::Rebind::type">type</a>;</span>
<a id="line485"></a><span class="lineno"> 485</span><span class="line">  };</span>
<a id="line486"></a><span class="lineno"> 486</span><span class="line">};</span>
<a id="line487"></a><span class="lineno"> 487</span>
<a id="line488"></a><span class="lineno"> 488</span><span class="line">template &lt;typename BlockT&gt;</span>
<a id="line489"></a><span class="lineno"> 489</span><span class="line"><span class="keyword">struct</span> <a href="../../../Scopes/vsip/impl/Is_modifiable_block.LSubset_block.LBlockT.R.R.html" title="struct vsip::impl::Is_modifiable_block&lt;Subset_block&lt;BlockT&gt;&gt;">Is_modifiable_block&lt;Subset_block&lt;BlockT&gt; &gt;</a></span>
<a id="line490"></a><span class="lineno"> 490</span><span class="line">  : <a href="../../../Scopes/vsip/impl/Is_modifiable_block.html" title="struct vsip::impl::Is_modifiable_block">Is_modifiable_block</a>&lt;BlockT&gt;</span>
<a id="line491"></a><span class="lineno"> 491</span><span class="line">{};</span>
<a id="line492"></a><span class="lineno"> 492</span>
<a id="line493"></a><span class="lineno"> 493</span>
<a id="line494"></a><span class="lineno"> 494</span>
<a id="line495"></a><span class="lineno"> 495</span><span class="line"><span class="comment">/// The Transposed_block class exchanges the order of indices to a</span></span>
<a id="line496"></a><span class="lineno"> 496</span><span class="line"><span class="comment">/// 2-dimensional block, and the dimensions visible via 2-argument</span></span>
<a id="line497"></a><span class="lineno"> 497</span><span class="line"><span class="comment">/// size().</span></span>
<a id="line498"></a><span class="lineno"> 498</span><span class="line">template &lt;typename Block&gt; </span>
<a id="line499"></a><span class="lineno"> 499</span><span class="line">class Transposed_block;</span>
<a id="line500"></a><span class="lineno"> 500</span>
<a id="line501"></a><span class="lineno"> 501</span>
<a id="line502"></a><span class="lineno"> 502</span><span class="line"><span class="comment">/// Store Transposed_block by-value.</span></span>
<a id="line503"></a><span class="lineno"> 503</span><span class="line">template &lt;typename Block&gt;</span>
<a id="line504"></a><span class="lineno"> 504</span><span class="line"><span class="keyword">struct</span> <a href="../../../Scopes/vsip/impl/View_block_storage.LTransposed_block.LBlock.R.R.html" title="struct vsip::impl::View_block_storage&lt;Transposed_block&lt;Block&gt;&gt;">View_block_storage&lt;Transposed_block&lt;Block&gt; &gt;</a></span>
<a id="line505"></a><span class="lineno"> 505</span><span class="line">  :  <a href="../../../Scopes/vsip/impl/By_value_block_storage.html" title="struct vsip::impl::By_value_block_storage">By_value_block_storage</a>&lt;<a href="../../../Scopes/vsip/impl/Transposed_block.html" title="class vsip::impl::Transposed_block">Transposed_block</a>&lt;Block&gt; &gt;</span>
<a id="line506"></a><span class="lineno"> 506</span><span class="line">{};</span>
<a id="line507"></a><span class="lineno"> 507</span>
<a id="line508"></a><span class="lineno"> 508</span><span class="line">template &lt;typename Block&gt;</span>
<a id="line509"></a><span class="lineno"> 509</span><span class="line"><span class="keyword">class</span> <a href="../../../Scopes/vsip/impl/Transposed_block.html" title="class vsip::impl::Transposed_block">Transposed_block</a></span>
<a id="line510"></a><span class="lineno"> 510</span><span class="line">    : <span class="keyword">public</span> <a href="../../../Scopes/vsip/impl/Compile_time_assert.html" title="struct vsip::impl::Compile_time_assert">impl::Compile_time_assert&lt;Block::dim == 2&gt;</a>,</span>
<a id="line511"></a><span class="lineno"> 511</span><span class="line">      <span class="keyword">public</span> <a href="../../../Scopes/vsip/impl/Non_assignable.html" title="class vsip::impl::Non_assignable">impl::Non_assignable</a></span>
<a id="line512"></a><span class="lineno"> 512</span><span class="line">{</span>
<a id="line513"></a><span class="lineno"> 513</span><span class="line">  <span class="comment">// Compile-time values and types (implementation detail).</span></span>
<a id="line514"></a><span class="lineno"> 514</span><span class="line"><span class="keyword">private</span>:</span>
<a id="line515"></a><span class="lineno"> 515</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Transpose_map_of.html" title="struct vsip::impl::Transpose_map_of">Transpose_map_of</a>&lt;2, typename Block::map_type&gt; <a href="../../../Scopes/vsip/impl/Transposed_block.html#map_functor" title="typedef vsip::impl::Transposed_block::map_functor">map_functor</a>;</span>
<a id="line516"></a><span class="lineno"> 516</span>
<a id="line517"></a><span class="lineno"> 517</span><span class="line">  <span class="comment">// Compile-time values and types (part of block interface).</span></span>
<a id="line518"></a><span class="lineno"> 518</span><span class="line"><span class="keyword">public</span>:</span>
<a id="line519"></a><span class="lineno"> 519</span><span class="line">  static <a href="../../../Scopes/vsip.html#dimension_type" title="typedef vsip::dimension_type">dimension_type const</a> <a href="../../../Scopes/vsip/impl/Transposed_block.html#dim" title="data member vsip::impl::Transposed_block::dim">dim</a> = Block::dim;</span>
<a id="line520"></a><span class="lineno"> 520</span><span class="line">  <span class="keyword">typedef</span> typename Block::value_type <a href="../../../Scopes/vsip/impl/Transposed_block.html#value_type" title="typedef vsip::impl::Transposed_block::value_type">value_type</a>;</span>
<a id="line521"></a><span class="lineno"> 521</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Transposed_block.html#value_type" title="typedef vsip::impl::Transposed_block::value_type">value_type</a>&amp;                <a href="../../../Scopes/vsip/impl/Transposed_block.html#reference_type" title="typedef vsip::impl::Transposed_block::reference_type">reference_type</a>;</span>
<a id="line522"></a><span class="lineno"> 522</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Transposed_block.html#value_type" title="typedef vsip::impl::Transposed_block::value_type">value_type const</a>&amp;          <a href="../../../Scopes/vsip/impl/Transposed_block.html#const_reference_type" title="typedef vsip::impl::Transposed_block::const_reference_type">const_reference_type</a>;</span>
<a id="line523"></a><span class="lineno"> 523</span><span class="line">  <span class="keyword">typedef</span> typename map_functor::type <a href="../../../Scopes/vsip/impl/Transposed_block.html#map_type" title="typedef vsip::impl::Transposed_block::map_type">map_type</a>;</span>
<a id="line524"></a><span class="lineno"> 524</span>
<a id="line525"></a><span class="lineno"> 525</span><span class="line">  <span class="comment">// Constructors and destructors.</span></span>
<a id="line526"></a><span class="lineno"> 526</span><span class="line">  <a href="../../../Scopes/vsip/impl/Transposed_block.html#Transposed_block_lBlock_A_r" title="member function vsip::impl::Transposed_block::Transposed_block(Block&amp;)">Transposed_block</a>(Block &amp;blk) <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line527"></a><span class="lineno"> 527</span><span class="line">    : blk_ (&amp;blk)</span>
<a id="line528"></a><span class="lineno"> 528</span><span class="line">    , map_ (map_functor::project(blk.map()))</span>
<a id="line529"></a><span class="lineno"> 529</span><span class="line">  { <a href="../../../Scopes/vsip/impl/Transposed_block.html#map_" title="data member vsip::impl::Transposed_block::map_">map_</a>.impl_apply(<a href="../../../Scopes/vsip/impl.html#block_domain_lconst.BlockT_A_r" title="function template vsip::impl::block_domain(const BlockT&amp;)">block_domain&lt;dim&gt;</a>(*<span class="keyword">this</span>)); }</span>
<a id="line530"></a><span class="lineno"> 530</span>
<a id="line531"></a><span class="lineno"> 531</span><span class="line">  <a href="../../../Scopes/vsip/impl/Transposed_block.html#Transposed_block_lconst.Transposed_block_A_r" title="member function vsip::impl::Transposed_block::Transposed_block(const Transposed_block&amp;)">Transposed_block</a>(<a href="../../../Scopes/vsip/impl/Transposed_block.html" title="class vsip::impl::Transposed_block">Transposed_block const</a>&amp; b)</span>
<a id="line532"></a><span class="lineno"> 532</span><span class="line">    : blk_ (&amp;*b.blk_)        <span class="comment">// &amp;* work's around holder's lack of copy-cons.</span></span>
<a id="line533"></a><span class="lineno"> 533</span><span class="line">    , map_ (b.map_)</span>
<a id="line534"></a><span class="lineno"> 534</span><span class="line">  { <a href="../../../Scopes/vsip/impl/Transposed_block.html#map_" title="data member vsip::impl::Transposed_block::map_">map_</a>.impl_apply(<a href="../../../Scopes/vsip/impl.html#block_domain_lconst.BlockT_A_r" title="function template vsip::impl::block_domain(const BlockT&amp;)">block_domain&lt;dim&gt;</a>(*<span class="keyword">this</span>)); }</span>
<a id="line535"></a><span class="lineno"> 535</span>
<a id="line536"></a><span class="lineno"> 536</span><span class="line">  <a href="../../../Scopes/vsip/impl/Transposed_block.html#_tTransposed_block_l_r" title="member function vsip::impl::Transposed_block::~Transposed_block()">~Transposed_block</a>() <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line537"></a><span class="lineno"> 537</span><span class="line">    {}</span>
<a id="line538"></a><span class="lineno"> 538</span>
<a id="line539"></a><span class="lineno"> 539</span><span class="line">  <span class="comment">// Accessors.</span></span>
<a id="line540"></a><span class="lineno"> 540</span><span class="line">  <a href="../../../Scopes/vsip.html#length_type" title="typedef vsip::length_type">length_type</a> <a href="../../../Scopes/vsip/impl/Transposed_block.html#size_l_rconst" title="member function vsip::impl::Transposed_block::size()const">size</a>() const <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line541"></a><span class="lineno"> 541</span><span class="line">    { <span class="keyword">return</span> <a href="../../../Scopes/vsip/impl/Transposed_block.html#blk_" title="data member vsip::impl::Transposed_block::blk_">blk_</a>-&gt;size(); }</span>
<a id="line542"></a><span class="lineno"> 542</span><span class="line">  <a href="../../../Scopes/vsip.html#length_type" title="typedef vsip::length_type">length_type</a> <a href="../../../Scopes/vsip/impl/Transposed_block.html#size_ldimension_type_cdimension_type_rconst" title="member function vsip::impl::Transposed_block::size(dimension_type,dimension_type)const">size</a>(<a href="../../../Scopes/vsip.html#dimension_type" title="typedef vsip::dimension_type">dimension_type</a> block_d, <a href="../../../Scopes/vsip.html#dimension_type" title="typedef vsip::dimension_type">dimension_type</a> d) const <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line543"></a><span class="lineno"> 543</span><span class="line">    {</span>
<a id="line544"></a><span class="lineno"> 544</span><span class="line">      <a href="" title="macro call">assert</a> (block_d == 2);</span>
<a id="line545"></a><span class="lineno"> 545</span><span class="line">      <a href="" title="macro call">assert</a> (d &lt;= 1);</span>
<a id="line546"></a><span class="lineno"> 546</span><span class="line">      <span class="keyword">return</span> <a href="../../../Scopes/vsip/impl/Transposed_block.html#blk_" title="data member vsip::impl::Transposed_block::blk_">blk_</a>-&gt;size(<a href="" title="parameter block_d">block_d</a>, !<a href="" title="parameter d">d</a>);</span>
<a id="line547"></a><span class="lineno"> 547</span><span class="line">    }</span>
<a id="line548"></a><span class="lineno"> 548</span><span class="line">  <span class="comment">// These are noops as Transposed_block is held by-value.</span></span>
<a id="line549"></a><span class="lineno"> 549</span><span class="line">  <span class="keyword">void</span> <a href="../../../Scopes/vsip/impl/Transposed_block.html#increment_count_l_rconst" title="member function vsip::impl::Transposed_block::increment_count()const">increment_count</a>() const <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a> {}</span>
<a id="line550"></a><span class="lineno"> 550</span><span class="line">  <span class="keyword">void</span> <a href="../../../Scopes/vsip/impl/Transposed_block.html#decrement_count_l_rconst" title="member function vsip::impl::Transposed_block::decrement_count()const">decrement_count</a>() const <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a> {}</span>
<a id="line551"></a><span class="lineno"> 551</span><span class="line">  <a href="../../../Scopes/vsip/impl/Transposed_block.html#map_type" title="typedef vsip::impl::Transposed_block::map_type">map_type const</a>&amp; <a href="../../../Scopes/vsip/impl/Transposed_block.html#map_l_rconst" title="member function vsip::impl::Transposed_block::map()const">map</a>() const { <span class="keyword">return</span> <a href="../../../Scopes/vsip/impl/Transposed_block.html#map_" title="data member vsip::impl::Transposed_block::map_">map_</a>; }</span>
<a id="line552"></a><span class="lineno"> 552</span>
<a id="line553"></a><span class="lineno"> 553</span><span class="line">  <span class="comment">// Data accessors.</span></span>
<a id="line554"></a><span class="lineno"> 554</span><span class="line">  <a href="../../../Scopes/vsip/impl/Transposed_block.html#value_type" title="typedef vsip::impl::Transposed_block::value_type">value_type</a> <a href="../../../Scopes/vsip/impl/Transposed_block.html#get_lindex_type_cindex_type_rconst" title="member function vsip::impl::Transposed_block::get(index_type,index_type)const">get</a>(<a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> i, <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> j) const <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line555"></a><span class="lineno"> 555</span><span class="line">    { <span class="keyword">return</span> <a href="../../../Scopes/vsip/impl/Transposed_block.html#blk_" title="data member vsip::impl::Transposed_block::blk_">blk_</a>-&gt;get(<a href="" title="parameter j">j</a>, <a href="" title="parameter i">i</a>); }</span>
<a id="line556"></a><span class="lineno"> 556</span>
<a id="line557"></a><span class="lineno"> 557</span><span class="line">  <span class="keyword">void</span> <a href="../../../Scopes/vsip/impl/Transposed_block.html#put_lindex_type_cindex_type_cvalue_type_r" title="member function vsip::impl::Transposed_block::put(index_type,index_type,value_type)">put</a>(<a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> i, <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> j, <a href="../../../Scopes/vsip/impl/Transposed_block.html#value_type" title="typedef vsip::impl::Transposed_block::value_type">value_type</a> val) <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line558"></a><span class="lineno"> 558</span><span class="line">    { <span class="keyword">return</span> <a href="../../../Scopes/vsip/impl/Transposed_block.html#blk_" title="data member vsip::impl::Transposed_block::blk_">blk_</a>-&gt;put(<a href="" title="parameter j">j</a>, <a href="" title="parameter i">i</a>, <a href="" title="parameter val">val</a>); }</span>
<a id="line559"></a><span class="lineno"> 559</span>
<a id="line560"></a><span class="lineno"> 560</span><span class="line">  <a href="../../../Scopes/vsip/impl/Transposed_block.html#reference_type" title="typedef vsip::impl::Transposed_block::reference_type">reference_type</a> <a href="../../../Scopes/vsip/impl/Transposed_block.html#impl_ref_lindex_type_cindex_type_r" title="member function vsip::impl::Transposed_block::impl_ref(index_type,index_type)">impl_ref</a>(<a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> i, <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> j) <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line561"></a><span class="lineno"> 561</span><span class="line">    { <span class="keyword">return</span> <a href="../../../Scopes/vsip/impl/Transposed_block.html#blk_" title="data member vsip::impl::Transposed_block::blk_">blk_</a>-&gt;impl_ref(<a href="" title="parameter j">j</a>, <a href="" title="parameter i">i</a>); }</span>
<a id="line562"></a><span class="lineno"> 562</span>
<a id="line563"></a><span class="lineno"> 563</span><span class="line">  <span class="comment">// Support Direct_data interface.</span></span>
<a id="line564"></a><span class="lineno"> 564</span><span class="line"> <span class="keyword">public</span>:</span>
<a id="line565"></a><span class="lineno"> 565</span><span class="line">  <span class="keyword">typedef</span> impl::<a href="../../../Scopes/vsip/impl/Storage.html" title="struct vsip::impl::Storage">Storage</a>&lt;<a href="../../../Scopes/vsip/impl/Block_layout.html#complex_type" title="typedef vsip::impl::Block_layout::complex_type">typename Block_layout&lt;Block&gt;::complex_type</a>, value_type&gt;</span>
<a id="line566"></a><span class="lineno"> 566</span><span class="line">		<a href="../../../Scopes/vsip/impl/Transposed_block.html#storage_type" title="typedef vsip::impl::Transposed_block::storage_type">storage_type</a>;</span>
<a id="line567"></a><span class="lineno"> 567</span><span class="line">  <span class="keyword">typedef</span> typename storage_type::type       <a href="../../../Scopes/vsip/impl/Transposed_block.html#data_type" title="typedef vsip::impl::Transposed_block::data_type">data_type</a>;</span>
<a id="line568"></a><span class="lineno"> 568</span><span class="line">  <span class="keyword">typedef</span> typename storage_type::const_type <a href="../../../Scopes/vsip/impl/Transposed_block.html#const_data_type" title="typedef vsip::impl::Transposed_block::const_data_type">const_data_type</a>;</span>
<a id="line569"></a><span class="lineno"> 569</span>
<a id="line570"></a><span class="lineno"> 570</span><span class="line">  <a href="../../../Scopes/vsip/impl/Transposed_block.html#data_type" title="typedef vsip::impl::Transposed_block::data_type">data_type</a>       <a href="../../../Scopes/vsip/impl/Transposed_block.html#impl_data_l_r" title="member function vsip::impl::Transposed_block::impl_data()">impl_data</a>()       <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line571"></a><span class="lineno"> 571</span><span class="line">  { <span class="keyword">return</span> <a href="../../../Scopes/vsip/impl/Transposed_block.html#blk_" title="data member vsip::impl::Transposed_block::blk_">blk_</a>-&gt;impl_data(); }</span>
<a id="line572"></a><span class="lineno"> 572</span>
<a id="line573"></a><span class="lineno"> 573</span><span class="line">  <a href="../../../Scopes/vsip/impl/Transposed_block.html#const_data_type" title="typedef vsip::impl::Transposed_block::const_data_type">const_data_type</a> <a href="../../../Scopes/vsip/impl/Transposed_block.html#impl_data_l_rconst" title="member function vsip::impl::Transposed_block::impl_data()const">impl_data</a>() const <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line574"></a><span class="lineno"> 574</span><span class="line">  { <span class="keyword">return</span> <a href="../../../Scopes/vsip/impl/Transposed_block.html#blk_" title="data member vsip::impl::Transposed_block::blk_">blk_</a>-&gt;impl_data(); }</span>
<a id="line575"></a><span class="lineno"> 575</span>
<a id="line576"></a><span class="lineno"> 576</span><span class="line">  <a href="../../../Scopes/vsip.html#stride_type" title="typedef vsip::stride_type">stride_type</a> <a href="../../../Scopes/vsip/impl/Transposed_block.html#impl_stride_ldimension_type_cdimension_type_rconst" title="member function vsip::impl::Transposed_block::impl_stride(dimension_type,dimension_type)const">impl_stride</a>(<a href="../../../Scopes/vsip.html#dimension_type" title="typedef vsip::dimension_type">dimension_type</a> Dim, <a href="../../../Scopes/vsip.html#dimension_type" title="typedef vsip::dimension_type">dimension_type</a> d)</span>
<a id="line577"></a><span class="lineno"> 577</span><span class="line">     const <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line578"></a><span class="lineno"> 578</span><span class="line">  {</span>
<a id="line579"></a><span class="lineno"> 579</span><span class="line">    <a href="" title="macro call">assert</a>(Dim == dim &amp;&amp; d&lt;dim);</span>
<a id="line580"></a><span class="lineno"> 580</span><span class="line">    <span class="keyword">return</span> <a href="../../../Scopes/vsip/impl/Transposed_block.html#blk_" title="data member vsip::impl::Transposed_block::blk_">blk_</a>-&gt;impl_stride(dim, <span class="literal">1</span> - <a href="" title="parameter d">d</a>);</span>
<a id="line581"></a><span class="lineno"> 581</span><span class="line">  }</span>
<a id="line582"></a><span class="lineno"> 582</span>
<a id="line583"></a><span class="lineno"> 583</span><span class="line"><span class="keyword">public</span>:</span>
<a id="line584"></a><span class="lineno"> 584</span><span class="line">  Block const&amp; <a href="../../../Scopes/vsip/impl/Transposed_block.html#impl_block_l_rconst" title="member function vsip::impl::Transposed_block::impl_block()const">impl_block</a>() const { <span class="keyword">return</span> *<span class="keyword">this</span>-&gt;blk_; }</span>
<a id="line585"></a><span class="lineno"> 585</span>
<a id="line586"></a><span class="lineno"> 586</span><span class="line"> <span class="keyword">private</span>:</span>
<a id="line587"></a><span class="lineno"> 587</span><span class="line">  <span class="comment">// Data members.</span></span>
<a id="line588"></a><span class="lineno"> 588</span><span class="line">  typename View_block_storage&lt;Block&gt;::type <a href="../../../Scopes/vsip/impl/Transposed_block.html#blk_" title="data member vsip::impl::Transposed_block::blk_">blk_</a>;</span>
<a id="line589"></a><span class="lineno"> 589</span><span class="line">  <a href="../../../Scopes/vsip/impl/Transposed_block.html#map_type" title="typedef vsip::impl::Transposed_block::map_type">map_type</a>                                 <a href="../../../Scopes/vsip/impl/Transposed_block.html#map_" title="data member vsip::impl::Transposed_block::map_">map_</a>;</span>
<a id="line590"></a><span class="lineno"> 590</span><span class="line">};</span>
<a id="line591"></a><span class="lineno"> 591</span>
<a id="line592"></a><span class="lineno"> 592</span><span class="line"><span class="comment">// Transposed_block impl_ref if the underlying block has impl_ref.</span></span>
<a id="line593"></a><span class="lineno"> 593</span><span class="line">template &lt;typename Block&gt;</span>
<a id="line594"></a><span class="lineno"> 594</span><span class="line"><span class="keyword">struct</span> <a href="../../../Scopes/vsip/impl/Lvalue_factory_type.LTransposed_block.LBlock.R.R.html" title="struct vsip::impl::Lvalue_factory_type&lt;Transposed_block&lt;Block&gt;&gt;">Lvalue_factory_type&lt;Transposed_block&lt;Block&gt; &gt;</a></span>
<a id="line595"></a><span class="lineno"> 595</span><span class="line">{</span>
<a id="line596"></a><span class="lineno"> 596</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Lvalue_factory_type/Rebind.html#type" title="typedef vsip::impl::Lvalue_factory_type::Rebind::type">typename Lvalue_factory_type&lt;Block&gt;</a></span>
<a id="line597"></a><span class="lineno"> 597</span><span class="line"><a href="../../../Scopes/vsip/impl/Lvalue_factory_type/Rebind.html#type" title="typedef vsip::impl::Lvalue_factory_type::Rebind::type">    ::template Rebind&lt;Transposed_block&lt;Block&gt; &gt;::type</a> <a href="../../../Scopes/vsip/impl/Lvalue_factory_type.LTransposed_block.LBlock.R.R.html#type" title="typedef vsip::impl::Lvalue_factory_type&lt;Transposed_block&lt;Block&gt;&gt;::type">type</a>;</span>
<a id="line598"></a><span class="lineno"> 598</span><span class="line">  template &lt;typename OtherBlock&gt;</span>
<a id="line599"></a><span class="lineno"> 599</span><span class="line">  <span class="keyword">struct</span> <a href="../../../Scopes/vsip/impl/Lvalue_factory_type.LTransposed_block.LBlock.R.R/Rebind.html" title="struct vsip::impl::Lvalue_factory_type&lt;Transposed_block&lt;Block&gt;&gt;::Rebind">Rebind</a> {</span>
<a id="line600"></a><span class="lineno"> 600</span><span class="line">    <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Lvalue_factory_type/Rebind.html#type" title="typedef vsip::impl::Lvalue_factory_type::Rebind::type">typename Lvalue_factory_type&lt;Block&gt;</a></span>
<a id="line601"></a><span class="lineno"> 601</span><span class="line"><a href="../../../Scopes/vsip/impl/Lvalue_factory_type/Rebind.html#type" title="typedef vsip::impl::Lvalue_factory_type::Rebind::type">      ::template Rebind&lt;OtherBlock&gt;::type</a> <a href="../../../Scopes/vsip/impl/Lvalue_factory_type.LTransposed_block.LBlock.R.R/Rebind.html#type" title="typedef vsip::impl::Lvalue_factory_type&lt;Transposed_block&lt;Block&gt;&gt;::Rebind::type">type</a>;</span>
<a id="line602"></a><span class="lineno"> 602</span><span class="line">  };</span>
<a id="line603"></a><span class="lineno"> 603</span><span class="line">};</span>
<a id="line604"></a><span class="lineno"> 604</span>
<a id="line605"></a><span class="lineno"> 605</span><span class="line">template &lt;typename BlockT&gt;</span>
<a id="line606"></a><span class="lineno"> 606</span><span class="line"><span class="keyword">struct</span> <a href="../../../Scopes/vsip/impl/Is_modifiable_block.LTransposed_block.LBlockT.R.R.html" title="struct vsip::impl::Is_modifiable_block&lt;Transposed_block&lt;BlockT&gt;&gt;">Is_modifiable_block&lt;Transposed_block&lt;BlockT&gt; &gt;</a></span>
<a id="line607"></a><span class="lineno"> 607</span><span class="line">  : <a href="../../../Scopes/vsip/impl/Is_modifiable_block.html" title="struct vsip::impl::Is_modifiable_block">Is_modifiable_block</a>&lt;BlockT&gt;</span>
<a id="line608"></a><span class="lineno"> 608</span><span class="line">{};</span>
<a id="line609"></a><span class="lineno"> 609</span>
<a id="line610"></a><span class="lineno"> 610</span>
<a id="line611"></a><span class="lineno"> 611</span>
<a id="line612"></a><span class="lineno"> 612</span><span class="line"><span class="comment">// Take transpose of dimension-order.</span></span>
<a id="line613"></a><span class="lineno"> 613</span><span class="line">template &lt;typename T&gt;</span>
<a id="line614"></a><span class="lineno"> 614</span><span class="line">struct Transpose_order;</span>
<a id="line615"></a><span class="lineno"> 615</span>
<a id="line616"></a><span class="lineno"> 616</span><span class="line">template &lt;dimension_type Dim0,</span>
<a id="line617"></a><span class="lineno"> 617</span><span class="line">	  dimension_type Dim1,</span>
<a id="line618"></a><span class="lineno"> 618</span><span class="line">	  dimension_type Dim2&gt;</span>
<a id="line619"></a><span class="lineno"> 619</span><span class="line"><span class="keyword">struct</span> <a href="../../../Scopes/vsip/impl/Transpose_order.Ltuple.LDim0.cDim1.cDim2.R.R.html" title="struct vsip::impl::Transpose_order&lt;tuple&lt;Dim0,Dim1,Dim2&gt;&gt;">Transpose_order&lt;tuple&lt;Dim0, Dim1, Dim2&gt; &gt;</a></span>
<a id="line620"></a><span class="lineno"> 620</span><span class="line">{</span>
<a id="line621"></a><span class="lineno"> 621</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/tuple.html" title="class vsip::tuple">tuple</a>&lt;Dim1, Dim0, Dim2&gt; <a href="../../../Scopes/vsip/impl/Transpose_order.Ltuple.LDim0.cDim1.cDim2.R.R.html#type" title="typedef vsip::impl::Transpose_order&lt;tuple&lt;Dim0,Dim1,Dim2&gt;&gt;::type">type</a>;</span>
<a id="line622"></a><span class="lineno"> 622</span><span class="line">};</span>
<a id="line623"></a><span class="lineno"> 623</span>
<a id="line624"></a><span class="lineno"> 624</span>
<a id="line625"></a><span class="lineno"> 625</span>
<a id="line626"></a><span class="lineno"> 626</span><span class="line">template &lt;typename Block&gt;</span>
<a id="line627"></a><span class="lineno"> 627</span><span class="line"><span class="keyword">struct</span> <a href="../../../Scopes/vsip/impl/Block_layout.LTransposed_block.LBlock.R.R.html" title="struct vsip::impl::Block_layout&lt;Transposed_block&lt;Block&gt;&gt;">Block_layout&lt;Transposed_block&lt;Block&gt; &gt;</a></span>
<a id="line628"></a><span class="lineno"> 628</span><span class="line">{</span>
<a id="line629"></a><span class="lineno"> 629</span><span class="line">  <span class="comment">// Dimension: Same</span></span>
<a id="line630"></a><span class="lineno"> 630</span><span class="line"><span class="comment">  // Access   : Same</span></span>
<a id="line631"></a><span class="lineno"> 631</span><span class="line"><span class="comment">  // Order    : Reversed</span></span>
<a id="line632"></a><span class="lineno"> 632</span><span class="line"><span class="comment">  // Stride   :</span></span>
<a id="line633"></a><span class="lineno"> 633</span><span class="line"><span class="comment">  //    Stride_unit      -&gt; Stride_unit</span></span>
<a id="line634"></a><span class="lineno"> 634</span><span class="line"><span class="comment">  //    Stride_unit_dense -&gt; Stride_unit_dense</span></span>
<a id="line635"></a><span class="lineno"> 635</span><span class="line"><span class="comment">  //    Stride_unit_align -&gt; Stride_unit</span></span>
<a id="line636"></a><span class="lineno"> 636</span><span class="line"><span class="comment">  //    Stride_unknown   -&gt; Stride_unknown</span></span>
<a id="line637"></a><span class="lineno"> 637</span><span class="line"><span class="comment">  // Cmplx    : Same</span></span>
<a id="line638"></a><span class="lineno"> 638</span>
<a id="line639"></a><span class="lineno"> 639</span><span class="line">  static <a href="../../../Scopes/vsip.html#dimension_type" title="typedef vsip::dimension_type">dimension_type const</a> <a href="../../../Scopes/vsip/impl/Block_layout.LTransposed_block.LBlock.R.R.html#dim" title="data member vsip::impl::Block_layout&lt;Transposed_block&lt;Block&gt;&gt;::dim">dim</a> = Block::dim;</span>
<a id="line640"></a><span class="lineno"> 640</span>
<a id="line641"></a><span class="lineno"> 641</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Block_layout.html#access_type" title="typedef vsip::impl::Block_layout::access_type">typename Block_layout&lt;Block&gt;::access_type</a>  <a href="../../../Scopes/vsip/impl/Block_layout.LTransposed_block.LBlock.R.R.html#access_type" title="typedef vsip::impl::Block_layout&lt;Transposed_block&lt;Block&gt;&gt;::access_type">access_type</a>;</span>
<a id="line642"></a><span class="lineno"> 642</span><span class="line">  <span class="keyword">typedef</span> typename Transpose_order&lt;</span>
<a id="line643"></a><span class="lineno"> 643</span><span class="line">                      typename Block_layout&lt;Block&gt;::order_type&gt;::type</span>
<a id="line644"></a><span class="lineno"> 644</span><span class="line">					            <a href="../../../Scopes/vsip/impl/Block_layout.LTransposed_block.LBlock.R.R.html#order_type" title="typedef vsip::impl::Block_layout&lt;Transposed_block&lt;Block&gt;&gt;::order_type">order_type</a>;</span>
<a id="line645"></a><span class="lineno"> 645</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Stride_unknown.html" title="struct vsip::impl::Stride_unknown">Stride_unknown</a>                             <a href="../../../Scopes/vsip/impl/Block_layout.LTransposed_block.LBlock.R.R.html#pack_type" title="typedef vsip::impl::Block_layout&lt;Transposed_block&lt;Block&gt;&gt;::pack_type">pack_type</a>;</span>
<a id="line646"></a><span class="lineno"> 646</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Block_layout.html#complex_type" title="typedef vsip::impl::Block_layout::complex_type">typename Block_layout&lt;Block&gt;::complex_type</a> <a href="../../../Scopes/vsip/impl/Block_layout.LTransposed_block.LBlock.R.R.html#complex_type" title="typedef vsip::impl::Block_layout&lt;Transposed_block&lt;Block&gt;&gt;::complex_type">complex_type</a>;</span>
<a id="line647"></a><span class="lineno"> 647</span>
<a id="line648"></a><span class="lineno"> 648</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Layout.html" title="struct vsip::impl::Layout">Layout</a>&lt;<a href="../../../Scopes/vsip/impl/Block_layout.LTransposed_block.LBlock.R.R.html#dim" title="data member vsip::impl::Block_layout&lt;Transposed_block&lt;Block&gt;&gt;::dim">dim</a>, order_type, pack_type, complex_type&gt; <a href="../../../Scopes/vsip/impl/Block_layout.LTransposed_block.LBlock.R.R.html#layout_type" title="typedef vsip::impl::Block_layout&lt;Transposed_block&lt;Block&gt;&gt;::layout_type">layout_type</a>;</span>
<a id="line649"></a><span class="lineno"> 649</span><span class="line">};</span>
<a id="line650"></a><span class="lineno"> 650</span>
<a id="line651"></a><span class="lineno"> 651</span>
<a id="line652"></a><span class="lineno"> 652</span>
<a id="line653"></a><span class="lineno"> 653</span><span class="line"><span class="comment">/// The Permutor policy class provides functions which do the actual</span></span>
<a id="line654"></a><span class="lineno"> 654</span><span class="line"><span class="comment">/// argument reordering.  There is no general version, but below are</span></span>
<a id="line655"></a><span class="lineno"> 655</span><span class="line"><span class="comment">/// partial specializations for all permutations of &lt;0,1,2&gt;.</span></span>
<a id="line656"></a><span class="lineno"> 656</span><span class="line"><span class="comment">/// Block is the underlying block, Ordering is a tuple.  This class</span></span>
<a id="line657"></a><span class="lineno"> 657</span><span class="line"><span class="comment">/// is not used directly.</span></span>
<a id="line658"></a><span class="lineno"> 658</span><span class="line">template &lt;typename Block, typename Ordering&gt; struct Permutor;</span>
<a id="line659"></a><span class="lineno"> 659</span>
<a id="line660"></a><span class="lineno"> 660</span><span class="line"><span class="comment">/// The Permuted_block class reorders the indices to a 3-dimensional</span></span>
<a id="line661"></a><span class="lineno"> 661</span><span class="line"><span class="comment">/// block, and the dimensions visible via 2-argument size().  The</span></span>
<a id="line662"></a><span class="lineno"> 662</span><span class="line"><span class="comment">/// permutation is specified as a tuple (see [support]).</span></span>
<a id="line663"></a><span class="lineno"> 663</span><span class="line">template &lt;typename Block, typename Ordering&gt;</span>
<a id="line664"></a><span class="lineno"> 664</span><span class="line"><span class="keyword">class</span> <a href="../../../Scopes/vsip/impl/Permuted_block.html" title="class vsip::impl::Permuted_block">Permuted_block</a> : <a href="../../../Scopes/vsip/impl/Compile_time_assert.html" title="struct vsip::impl::Compile_time_assert">Compile_time_assert</a>&lt;Block::dim == 3&gt;,</span>
<a id="line665"></a><span class="lineno"> 665</span><span class="line">                       <a href="../../../Scopes/vsip/impl/Non_assignable.html" title="class vsip::impl::Non_assignable">Non_assignable</a></span>
<a id="line666"></a><span class="lineno"> 666</span><span class="line">{</span>
<a id="line667"></a><span class="lineno"> 667</span><span class="line"><span class="keyword">protected</span>:</span>
<a id="line668"></a><span class="lineno"> 668</span><span class="line">  // Policy class.</span>
<a id="line669"></a><span class="lineno"> 669</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Permutor.html" title="struct vsip::impl::Permutor">Permutor</a>&lt;Block, Ordering&gt; <a href="../../../Scopes/vsip/impl/Permuted_block.html#perm_type" title="typedef vsip::impl::Permuted_block::perm_type">perm_type</a>;</span>
<a id="line670"></a><span class="lineno"> 670</span>
<a id="line671"></a><span class="lineno"> 671</span><span class="line"><span class="keyword">public</span>:</span>
<a id="line672"></a><span class="lineno"> 672</span><span class="line">  <span class="comment">// Compile-time values and types.</span></span>
<a id="line673"></a><span class="lineno"> 673</span><span class="line">  static <a href="../../../Scopes/vsip.html#dimension_type" title="typedef vsip::dimension_type">dimension_type const</a> <a href="../../../Scopes/vsip/impl/Permuted_block.html#dim" title="data member vsip::impl::Permuted_block::dim">dim</a> = Block::dim;</span>
<a id="line674"></a><span class="lineno"> 674</span><span class="line">  <span class="keyword">typedef</span> typename Block::value_type <a href="../../../Scopes/vsip/impl/Permuted_block.html#value_type" title="typedef vsip::impl::Permuted_block::value_type">value_type</a>;</span>
<a id="line675"></a><span class="lineno"> 675</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Permuted_block.html#value_type" title="typedef vsip::impl::Permuted_block::value_type">value_type</a>&amp;       <a href="../../../Scopes/vsip/impl/Permuted_block.html#reference_type" title="typedef vsip::impl::Permuted_block::reference_type">reference_type</a>;</span>
<a id="line676"></a><span class="lineno"> 676</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Permuted_block.html#value_type" title="typedef vsip::impl::Permuted_block::value_type">value_type const</a>&amp; <a href="../../../Scopes/vsip/impl/Permuted_block.html#const_reference_type" title="typedef vsip::impl::Permuted_block::const_reference_type">const_reference_type</a>;</span>
<a id="line677"></a><span class="lineno"> 677</span><span class="line">  <span class="keyword">typedef</span> typename Block::map_type <a href="../../../Scopes/vsip/impl/Permuted_block.html#map_type" title="typedef vsip::impl::Permuted_block::map_type">map_type</a>;</span>
<a id="line678"></a><span class="lineno"> 678</span>
<a id="line679"></a><span class="lineno"> 679</span><span class="line">  <span class="comment">// Constructors and destructors.</span></span>
<a id="line680"></a><span class="lineno"> 680</span><span class="line">  <a href="../../../Scopes/vsip/impl/Permuted_block.html#Permuted_block_lBlock_A_r" title="member function vsip::impl::Permuted_block::Permuted_block(Block&amp;)">Permuted_block</a>(Block &amp;blk) <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line681"></a><span class="lineno"> 681</span><span class="line">    : blk_ (&amp;blk)</span>
<a id="line682"></a><span class="lineno"> 682</span><span class="line">    {}</span>
<a id="line683"></a><span class="lineno"> 683</span><span class="line">  <a href="../../../Scopes/vsip/impl/Permuted_block.html#Permuted_block_lconst.Permuted_block_A_r" title="member function vsip::impl::Permuted_block::Permuted_block(const Permuted_block&amp;)">Permuted_block</a>(<a href="../../../Scopes/vsip/impl/Permuted_block.html" title="class vsip::impl::Permuted_block">Permuted_block const</a>&amp; pb) <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line684"></a><span class="lineno"> 684</span><span class="line">    : blk_ (&amp;*pb.blk_)</span>
<a id="line685"></a><span class="lineno"> 685</span><span class="line">    {}</span>
<a id="line686"></a><span class="lineno"> 686</span><span class="line">  <a href="../../../Scopes/vsip/impl/Permuted_block.html#_tPermuted_block_l_r" title="member function vsip::impl::Permuted_block::~Permuted_block()">~Permuted_block</a>() <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line687"></a><span class="lineno"> 687</span><span class="line">    {}</span>
<a id="line688"></a><span class="lineno"> 688</span>
<a id="line689"></a><span class="lineno"> 689</span><span class="line">  <span class="comment">// Accessors.</span></span>
<a id="line690"></a><span class="lineno"> 690</span><span class="line">  <a href="../../../Scopes/vsip.html#length_type" title="typedef vsip::length_type">length_type</a> <a href="../../../Scopes/vsip/impl/Permuted_block.html#size_l_rconst" title="member function vsip::impl::Permuted_block::size()const">size</a>() const <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line691"></a><span class="lineno"> 691</span><span class="line">    { <span class="keyword">return</span> <a href="../../../Scopes/vsip/impl/Permuted_block.html#blk_" title="data member vsip::impl::Permuted_block::blk_">blk_</a>-&gt;size(); }</span>
<a id="line692"></a><span class="lineno"> 692</span><span class="line">  <a href="../../../Scopes/vsip.html#length_type" title="typedef vsip::length_type">length_type</a> <a href="../../../Scopes/vsip/impl/Permuted_block.html#size_ldimension_type_cdimension_type_rconst" title="member function vsip::impl::Permuted_block::size(dimension_type,dimension_type)const">size</a>(<a href="../../../Scopes/vsip.html#dimension_type" title="typedef vsip::dimension_type">dimension_type</a> block_d, <a href="../../../Scopes/vsip.html#dimension_type" title="typedef vsip::dimension_type">dimension_type</a> d) const <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line693"></a><span class="lineno"> 693</span><span class="line">    { <span class="keyword">return</span> <a href="../../../Scopes/vsip/impl/Permuted_block.html#blk_" title="data member vsip::impl::Permuted_block::blk_">blk_</a>-&gt;size(<a href="" title="parameter block_d">block_d</a>, perm_type::dimension_order(<a href="" title="parameter d">d</a>)); }</span>
<a id="line694"></a><span class="lineno"> 694</span><span class="line">  <span class="comment">// These are noops as Transposed_block is held by-value.</span></span>
<a id="line695"></a><span class="lineno"> 695</span><span class="line">  <span class="keyword">void</span> <a href="../../../Scopes/vsip/impl/Permuted_block.html#increment_count_l_rconst" title="member function vsip::impl::Permuted_block::increment_count()const">increment_count</a>() const <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a> {}</span>
<a id="line696"></a><span class="lineno"> 696</span><span class="line">  <span class="keyword">void</span> <a href="../../../Scopes/vsip/impl/Permuted_block.html#decrement_count_l_rconst" title="member function vsip::impl::Permuted_block::decrement_count()const">decrement_count</a>() const <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a> {}</span>
<a id="line697"></a><span class="lineno"> 697</span><span class="line">  <a href="../../../Scopes/vsip/impl/Permuted_block.html#map_type" title="typedef vsip::impl::Permuted_block::map_type">map_type const</a>&amp; <a href="../../../Scopes/vsip/impl/Permuted_block.html#map_l_rconst" title="member function vsip::impl::Permuted_block::map()const">map</a>() const { <span class="keyword">return</span> <a href="../../../Scopes/vsip/impl/Permuted_block.html#blk_" title="data member vsip::impl::Permuted_block::blk_">blk_</a>-&gt;map(); }</span>
<a id="line698"></a><span class="lineno"> 698</span>
<a id="line699"></a><span class="lineno"> 699</span><span class="line">  <span class="comment">// Data accessors.</span></span>
<a id="line700"></a><span class="lineno"> 700</span><span class="line">  <a href="../../../Scopes/vsip/impl/Permuted_block.html#value_type" title="typedef vsip::impl::Permuted_block::value_type">value_type</a> <a href="../../../Scopes/vsip/impl/Permuted_block.html#get_lindex_type_cindex_type_cindex_type_rconst" title="member function vsip::impl::Permuted_block::get(index_type,index_type,index_type)const">get</a>(<a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> i, <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> j, <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> k) const <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line701"></a><span class="lineno"> 701</span><span class="line">    { <span class="keyword">return</span> perm_type::get(*<a href="../../../Scopes/vsip/impl/Permuted_block.html#blk_" title="data member vsip::impl::Permuted_block::blk_">blk_</a>, <a href="" title="parameter i">i</a>, <a href="" title="parameter j">j</a>, <a href="" title="parameter k">k</a>); }</span>
<a id="line702"></a><span class="lineno"> 702</span>
<a id="line703"></a><span class="lineno"> 703</span><span class="line">  <span class="keyword">void</span> <a href="../../../Scopes/vsip/impl/Permuted_block.html#put_lindex_type_cindex_type_cindex_type_cvalue_type_r" title="member function vsip::impl::Permuted_block::put(index_type,index_type,index_type,value_type)">put</a>(<a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> i, <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> j, <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> k, <a href="../../../Scopes/vsip/impl/Permuted_block.html#value_type" title="typedef vsip::impl::Permuted_block::value_type">value_type</a> val) <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line704"></a><span class="lineno"> 704</span><span class="line">    { perm_type::put(*<a href="../../../Scopes/vsip/impl/Permuted_block.html#blk_" title="data member vsip::impl::Permuted_block::blk_">blk_</a>, <a href="" title="parameter i">i</a>, <a href="" title="parameter j">j</a>, <a href="" title="parameter k">k</a>, <a href="" title="parameter val">val</a>); }</span>
<a id="line705"></a><span class="lineno"> 705</span>
<a id="line706"></a><span class="lineno"> 706</span><span class="line">  <a href="../../../Scopes/vsip/impl/Permuted_block.html#reference_type" title="typedef vsip::impl::Permuted_block::reference_type">reference_type</a> <a href="../../../Scopes/vsip/impl/Permuted_block.html#impl_ref_lindex_type_cindex_type_cindex_type_r" title="member function vsip::impl::Permuted_block::impl_ref(index_type,index_type,index_type)">impl_ref</a>(<a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> i, <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> j, <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> k) <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line707"></a><span class="lineno"> 707</span><span class="line">    { <span class="keyword">return</span> perm_type::impl_ref(*<a href="../../../Scopes/vsip/impl/Permuted_block.html#blk_" title="data member vsip::impl::Permuted_block::blk_">blk_</a>, <a href="" title="parameter i">i</a>, <a href="" title="parameter j">j</a>, <a href="" title="parameter k">k</a>); }</span>
<a id="line708"></a><span class="lineno"> 708</span>
<a id="line709"></a><span class="lineno"> 709</span><span class="line">  Block const&amp; <a href="../../../Scopes/vsip/impl/Permuted_block.html#impl_block_l_rconst" title="member function vsip::impl::Permuted_block::impl_block()const">impl_block</a>() const { <span class="keyword">return</span> *<span class="keyword">this</span>-&gt;blk_; }</span>
<a id="line710"></a><span class="lineno"> 710</span>
<a id="line711"></a><span class="lineno"> 711</span>
<a id="line712"></a><span class="lineno"> 712</span><span class="line">  <span class="comment">// Support Direct_data interface.</span></span>
<a id="line713"></a><span class="lineno"> 713</span><span class="line"><span class="keyword">public</span>:</span>
<a id="line714"></a><span class="lineno"> 714</span><span class="line">  <span class="keyword">typedef</span> impl::<a href="../../../Scopes/vsip/impl/Storage.html" title="struct vsip::impl::Storage">Storage</a>&lt;<a href="../../../Scopes/vsip/impl/Block_layout.html#complex_type" title="typedef vsip::impl::Block_layout::complex_type">typename Block_layout&lt;Block&gt;::complex_type</a>, value_type&gt;</span>
<a id="line715"></a><span class="lineno"> 715</span><span class="line">		<a href="../../../Scopes/vsip/impl/Permuted_block.html#storage_type" title="typedef vsip::impl::Permuted_block::storage_type">storage_type</a>;</span>
<a id="line716"></a><span class="lineno"> 716</span><span class="line">  <span class="keyword">typedef</span> typename storage_type::type       <a href="../../../Scopes/vsip/impl/Permuted_block.html#data_type" title="typedef vsip::impl::Permuted_block::data_type">data_type</a>;</span>
<a id="line717"></a><span class="lineno"> 717</span><span class="line">  <span class="keyword">typedef</span> typename storage_type::const_type <a href="../../../Scopes/vsip/impl/Permuted_block.html#const_data_type" title="typedef vsip::impl::Permuted_block::const_data_type">const_data_type</a>;</span>
<a id="line718"></a><span class="lineno"> 718</span>
<a id="line719"></a><span class="lineno"> 719</span><span class="line">  <a href="../../../Scopes/vsip/impl/Permuted_block.html#data_type" title="typedef vsip::impl::Permuted_block::data_type">data_type</a>       <a href="../../../Scopes/vsip/impl/Permuted_block.html#impl_data_l_r" title="member function vsip::impl::Permuted_block::impl_data()">impl_data</a>()       <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line720"></a><span class="lineno"> 720</span><span class="line">  { <span class="keyword">return</span> <a href="../../../Scopes/vsip/impl/Permuted_block.html#blk_" title="data member vsip::impl::Permuted_block::blk_">blk_</a>-&gt;impl_data(); }</span>
<a id="line721"></a><span class="lineno"> 721</span>
<a id="line722"></a><span class="lineno"> 722</span><span class="line">  <a href="../../../Scopes/vsip/impl/Permuted_block.html#const_data_type" title="typedef vsip::impl::Permuted_block::const_data_type">const_data_type</a> <a href="../../../Scopes/vsip/impl/Permuted_block.html#impl_data_l_rconst" title="member function vsip::impl::Permuted_block::impl_data()const">impl_data</a>() const <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line723"></a><span class="lineno"> 723</span><span class="line">  { <span class="keyword">return</span> <a href="../../../Scopes/vsip/impl/Permuted_block.html#blk_" title="data member vsip::impl::Permuted_block::blk_">blk_</a>-&gt;impl_data(); }</span>
<a id="line724"></a><span class="lineno"> 724</span>
<a id="line725"></a><span class="lineno"> 725</span><span class="line">  <a href="../../../Scopes/vsip.html#stride_type" title="typedef vsip::stride_type">stride_type</a> <a href="../../../Scopes/vsip/impl/Permuted_block.html#impl_stride_ldimension_type_cdimension_type_rconst" title="member function vsip::impl::Permuted_block::impl_stride(dimension_type,dimension_type)const">impl_stride</a>(<a href="../../../Scopes/vsip.html#dimension_type" title="typedef vsip::dimension_type">dimension_type</a> Dim, <a href="../../../Scopes/vsip.html#dimension_type" title="typedef vsip::dimension_type">dimension_type</a> d)</span>
<a id="line726"></a><span class="lineno"> 726</span><span class="line">     const <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line727"></a><span class="lineno"> 727</span><span class="line">  {</span>
<a id="line728"></a><span class="lineno"> 728</span><span class="line">    <a href="" title="macro call">assert</a>(Dim == dim &amp;&amp; d&lt;dim);</span>
<a id="line729"></a><span class="lineno"> 729</span><span class="line">    <span class="keyword">return</span> <a href="../../../Scopes/vsip/impl/Permuted_block.html#blk_" title="data member vsip::impl::Permuted_block::blk_">blk_</a>-&gt;impl_stride(dim,  perm_type::dimension_order(<a href="" title="parameter d">d</a>));</span>
<a id="line730"></a><span class="lineno"> 730</span><span class="line">  }</span>
<a id="line731"></a><span class="lineno"> 731</span>
<a id="line732"></a><span class="lineno"> 732</span><span class="line"> <span class="keyword">private</span>:</span>
<a id="line733"></a><span class="lineno"> 733</span><span class="line">  <span class="comment">// Data members.</span></span>
<a id="line734"></a><span class="lineno"> 734</span><span class="line">  typename View_block_storage&lt;Block&gt;::type <a href="../../../Scopes/vsip/impl/Permuted_block.html#blk_" title="data member vsip::impl::Permuted_block::blk_">blk_</a>;</span>
<a id="line735"></a><span class="lineno"> 735</span><span class="line">};</span>
<a id="line736"></a><span class="lineno"> 736</span>
<a id="line737"></a><span class="lineno"> 737</span>
<a id="line738"></a><span class="lineno"> 738</span><span class="line"><span class="comment">/// Since all Permutor partial specializations differ only in the</span></span>
<a id="line739"></a><span class="lineno"> 739</span><span class="line"><span class="comment">/// permutation chosen, we use a macro to carry all the repeated text.</span></span>
<a id="line740"></a><span class="lineno"> 740</span><span class="line">#define VSIP_IMPL_PERMUTOR_SPECIALIZATION(n0,n1,n2)                     \</span>
<a id="line741"></a><span class="lineno"> 741</span><span class="line">template &lt;typename Block&gt;                                               \</span>
<a id="line742"></a><span class="lineno"> 742</span><span class="line">struct Permutor&lt;Block, tuple&lt;n0, n1, n2&gt; &gt;                              \</span>
<a id="line743"></a><span class="lineno"> 743</span><span class="line">{                                                                       \</span>
<a id="line744"></a><span class="lineno"> 744</span><span class="line">  static dimension_type dimension_order(dimension_type d) VSIP_NOTHROW  \</span>
<a id="line745"></a><span class="lineno"> 745</span><span class="line">    {                                                                   \</span>
<a id="line746"></a><span class="lineno"> 746</span><span class="line">      static const dimension_type permutation[3] = { n0, n1, n2 };      \</span>
<a id="line747"></a><span class="lineno"> 747</span><span class="line">      return permutation[d];                                            \</span>
<a id="line748"></a><span class="lineno"> 748</span><span class="line">    }                                                                   \</span>
<a id="line749"></a><span class="lineno"> 749</span><span class="line">  static typename Block::value_type                                     \</span>
<a id="line750"></a><span class="lineno"> 750</span><span class="line">  get(Block const&amp; blk, index_type i##n0, index_type i##n1,             \</span>
<a id="line751"></a><span class="lineno"> 751</span><span class="line">      index_type i##n2) VSIP_NOTHROW                                    \</span>
<a id="line752"></a><span class="lineno"> 752</span><span class="line">    { return blk.get(i0, i1, i2); }                                     \</span>
<a id="line753"></a><span class="lineno"> 753</span><span class="line">  static void                                                           \</span>
<a id="line754"></a><span class="lineno"> 754</span><span class="line">  put(Block&amp; blk, index_type i##n0, index_type i##n1, index_type i##n2, \</span>
<a id="line755"></a><span class="lineno"> 755</span><span class="line">      typename Block::value_type val) VSIP_NOTHROW                      \</span>
<a id="line756"></a><span class="lineno"> 756</span><span class="line">    { blk.put(i0, i1, i2, val); }                                       \</span>
<a id="line757"></a><span class="lineno"> 757</span><span class="line">  static typename Block::reference_type                                 \</span>
<a id="line758"></a><span class="lineno"> 758</span><span class="line">  impl_ref(Block&amp; blk, index_type i##n0, index_type i##n1,              \</span>
<a id="line759"></a><span class="lineno"> 759</span><span class="line">      index_type i##n2) VSIP_NOTHROW                                    \</span>
<a id="line760"></a><span class="lineno"> 760</span><span class="line">    { return blk.impl_ref(i0, i1, i2); }                                \</span>
<a id="line761"></a><span class="lineno"> 761</span><span class="line">}</span>
<a id="line762"></a><span class="lineno"> 762</span>
<a id="line763"></a><span class="lineno"> 763</span><span class="line"><a href="../../../Scopes/global.html#VSIP_IMPL_PERMUTOR_SPECIALIZATION" title="macro call">VSIP_IMPL_PERMUTOR_SPECIALIZATION</a>(0,1,2);</span>
<a id="line764"></a><span class="lineno"> 764</span><span class="line"><a href="../../../Scopes/global.html#VSIP_IMPL_PERMUTOR_SPECIALIZATION" title="macro call">VSIP_IMPL_PERMUTOR_SPECIALIZATION</a>(1,0,2);</span>
<a id="line765"></a><span class="lineno"> 765</span><span class="line"><a href="../../../Scopes/global.html#VSIP_IMPL_PERMUTOR_SPECIALIZATION" title="macro call">VSIP_IMPL_PERMUTOR_SPECIALIZATION</a>(1,2,0);</span>
<a id="line766"></a><span class="lineno"> 766</span><span class="line"><a href="../../../Scopes/global.html#VSIP_IMPL_PERMUTOR_SPECIALIZATION" title="macro call">VSIP_IMPL_PERMUTOR_SPECIALIZATION</a>(2,1,0);</span>
<a id="line767"></a><span class="lineno"> 767</span><span class="line"><a href="../../../Scopes/global.html#VSIP_IMPL_PERMUTOR_SPECIALIZATION" title="macro call">VSIP_IMPL_PERMUTOR_SPECIALIZATION</a>(2,0,1);</span>
<a id="line768"></a><span class="lineno"> 768</span><span class="line"><a href="../../../Scopes/global.html#VSIP_IMPL_PERMUTOR_SPECIALIZATION" title="macro call">VSIP_IMPL_PERMUTOR_SPECIALIZATION</a>(0,2,1);</span>
<a id="line769"></a><span class="lineno"> 769</span>
<a id="line770"></a><span class="lineno"> 770</span><span class="line">#undef VSIP_IMPL_PERMUTOR_SPECIALIZATION</span>
<a id="line771"></a><span class="lineno"> 771</span>
<a id="line772"></a><span class="lineno"> 772</span>
<a id="line773"></a><span class="lineno"> 773</span>
<a id="line774"></a><span class="lineno"> 774</span><span class="line"><span class="comment">/// Store Permuted_block by-value.</span></span>
<a id="line775"></a><span class="lineno"> 775</span><span class="line">template &lt;typename Block, typename Ordering&gt;</span>
<a id="line776"></a><span class="lineno"> 776</span><span class="line"><span class="keyword">struct</span> <a href="../../../Scopes/vsip/impl/View_block_storage.LPermuted_block.LBlock.cOrdering.R.R.html" title="struct vsip::impl::View_block_storage&lt;Permuted_block&lt;Block,Ordering&gt;&gt;">View_block_storage&lt;Permuted_block&lt;Block, Ordering&gt; &gt;</a></span>
<a id="line777"></a><span class="lineno"> 777</span><span class="line">  : <a href="../../../Scopes/vsip/impl/By_value_block_storage.html" title="struct vsip::impl::By_value_block_storage">By_value_block_storage</a>&lt;<a href="../../../Scopes/vsip/impl/Permuted_block.html" title="class vsip::impl::Permuted_block">Permuted_block</a>&lt;Block, Ordering&gt; &gt;</span>
<a id="line778"></a><span class="lineno"> 778</span><span class="line">{};</span>
<a id="line779"></a><span class="lineno"> 779</span>
<a id="line780"></a><span class="lineno"> 780</span><span class="line"><span class="comment">/// Permuted_block has impl_ref if the underlying block has impl_ref.</span></span>
<a id="line781"></a><span class="lineno"> 781</span><span class="line">template &lt;typename Block, typename Ordering&gt;</span>
<a id="line782"></a><span class="lineno"> 782</span><span class="line"><span class="keyword">struct</span> <a href="../../../Scopes/vsip/impl/Lvalue_factory_type.LPermuted_block.LBlock.cOrdering.R.R.html" title="struct vsip::impl::Lvalue_factory_type&lt;Permuted_block&lt;Block,Ordering&gt;&gt;">Lvalue_factory_type&lt;Permuted_block&lt;Block, Ordering&gt; &gt;</a></span>
<a id="line783"></a><span class="lineno"> 783</span><span class="line">{</span>
<a id="line784"></a><span class="lineno"> 784</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Lvalue_factory_type/Rebind.html#type" title="typedef vsip::impl::Lvalue_factory_type::Rebind::type">typename Lvalue_factory_type&lt;Block&gt;</a></span>
<a id="line785"></a><span class="lineno"> 785</span><span class="line"><a href="../../../Scopes/vsip/impl/Lvalue_factory_type/Rebind.html#type" title="typedef vsip::impl::Lvalue_factory_type::Rebind::type">    ::template Rebind&lt;Permuted_block&lt;Block, Ordering&gt; &gt;::type</a> <a href="../../../Scopes/vsip/impl/Lvalue_factory_type.LPermuted_block.LBlock.cOrdering.R.R.html#type" title="typedef vsip::impl::Lvalue_factory_type&lt;Permuted_block&lt;Block,Ordering&gt;&gt;::type">type</a>;</span>
<a id="line786"></a><span class="lineno"> 786</span><span class="line">  template &lt;typename OtherBlock&gt;</span>
<a id="line787"></a><span class="lineno"> 787</span><span class="line">  <span class="keyword">struct</span> <a href="../../../Scopes/vsip/impl/Lvalue_factory_type.LPermuted_block.LBlock.cOrdering.R.R/Rebind.html" title="struct vsip::impl::Lvalue_factory_type&lt;Permuted_block&lt;Block,Ordering&gt;&gt;::Rebind">Rebind</a> {</span>
<a id="line788"></a><span class="lineno"> 788</span><span class="line">    <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Lvalue_factory_type/Rebind.html#type" title="typedef vsip::impl::Lvalue_factory_type::Rebind::type">typename Lvalue_factory_type&lt;Block&gt;</a></span>
<a id="line789"></a><span class="lineno"> 789</span><span class="line"><a href="../../../Scopes/vsip/impl/Lvalue_factory_type/Rebind.html#type" title="typedef vsip::impl::Lvalue_factory_type::Rebind::type">      ::template Rebind&lt;OtherBlock&gt;::type</a> <a href="../../../Scopes/vsip/impl/Lvalue_factory_type.LPermuted_block.LBlock.cOrdering.R.R/Rebind.html#type" title="typedef vsip::impl::Lvalue_factory_type&lt;Permuted_block&lt;Block,Ordering&gt;&gt;::Rebind::type">type</a>;</span>
<a id="line790"></a><span class="lineno"> 790</span><span class="line">  };</span>
<a id="line791"></a><span class="lineno"> 791</span><span class="line">};</span>
<a id="line792"></a><span class="lineno"> 792</span>
<a id="line793"></a><span class="lineno"> 793</span><span class="line">template &lt;typename BlockT, typename Ordering&gt;</span>
<a id="line794"></a><span class="lineno"> 794</span><span class="line"><span class="keyword">struct</span> <a href="../../../Scopes/vsip/impl/Is_modifiable_block.LPermuted_block.LBlockT.cOrdering.R.R.html" title="struct vsip::impl::Is_modifiable_block&lt;Permuted_block&lt;BlockT,Ordering&gt;&gt;">Is_modifiable_block&lt;Permuted_block&lt;BlockT, Ordering&gt; &gt;</a></span>
<a id="line795"></a><span class="lineno"> 795</span><span class="line">  : <a href="../../../Scopes/vsip/impl/Is_modifiable_block.html" title="struct vsip::impl::Is_modifiable_block">Is_modifiable_block</a>&lt;BlockT&gt;</span>
<a id="line796"></a><span class="lineno"> 796</span><span class="line">{};</span>
<a id="line797"></a><span class="lineno"> 797</span>
<a id="line798"></a><span class="lineno"> 798</span>
<a id="line799"></a><span class="lineno"> 799</span><span class="line"><span class="comment">/// Take permutation of dimension-order.</span></span>
<a id="line800"></a><span class="lineno"> 800</span><span class="line">template &lt;typename PermutionT,		// Tuple expressing permutation</span>
<a id="line801"></a><span class="lineno"> 801</span><span class="line">	  typename OrderT&gt;		// Original dim-order</span>
<a id="line802"></a><span class="lineno"> 802</span><span class="line">struct Permute_order;</span>
<a id="line803"></a><span class="lineno"> 803</span>
<a id="line804"></a><span class="lineno"> 804</span><span class="line">template &lt;dimension_type Dim0, dimension_type Dim1, dimension_type Dim2&gt;</span>
<a id="line805"></a><span class="lineno"> 805</span><span class="line"><span class="keyword">struct</span> <a href="../../../Scopes/vsip/impl/Permute_order.Ltuple.L.S.c.S.c.S.R.ctuple.LDim0.cDim1.cDim2.R.R.html" title="struct vsip::impl::Permute_order&lt;tuple&lt;*,*,*&gt;,tuple&lt;Dim0,Dim1,Dim2&gt;&gt;">Permute_order&lt;tuple&lt;0, 1, 2&gt;, tuple&lt;Dim0, Dim1, Dim2&gt; &gt;</a></span>
<a id="line806"></a><span class="lineno"> 806</span><span class="line">{ <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/tuple.html" title="class vsip::tuple">tuple</a>&lt;Dim0, Dim1, Dim2&gt; <a href="../../../Scopes/vsip/impl/Permute_order.Ltuple.L.S.c.S.c.S.R.ctuple.LDim0.cDim1.cDim2.R.R.html#type" title="typedef vsip::impl::Permute_order&lt;tuple&lt;*,*,*&gt;,tuple&lt;Dim0,Dim1,Dim2&gt;&gt;::type">type</a>; };</span>
<a id="line807"></a><span class="lineno"> 807</span>
<a id="line808"></a><span class="lineno"> 808</span><span class="line">template &lt;dimension_type Dim0, dimension_type Dim1, dimension_type Dim2&gt;</span>
<a id="line809"></a><span class="lineno"> 809</span><span class="line"><span class="keyword">struct</span> <a href="../../../Scopes/vsip/impl/Permute_order.Ltuple.L.S.c.S.c.S.R.ctuple.LDim0.cDim1.cDim2.R.R.html" title="struct vsip::impl::Permute_order&lt;tuple&lt;*,*,*&gt;,tuple&lt;Dim0,Dim1,Dim2&gt;&gt;">Permute_order&lt;tuple&lt;1, 0, 2&gt;, tuple&lt;Dim0, Dim1, Dim2&gt; &gt;</a></span>
<a id="line810"></a><span class="lineno"> 810</span><span class="line">{ <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/tuple.html" title="class vsip::tuple">tuple</a>&lt;Dim1, Dim0, Dim2&gt; <a href="../../../Scopes/vsip/impl/Permute_order.Ltuple.L.S.c.S.c.S.R.ctuple.LDim0.cDim1.cDim2.R.R.html#type" title="typedef vsip::impl::Permute_order&lt;tuple&lt;*,*,*&gt;,tuple&lt;Dim0,Dim1,Dim2&gt;&gt;::type">type</a>; };</span>
<a id="line811"></a><span class="lineno"> 811</span>
<a id="line812"></a><span class="lineno"> 812</span><span class="line">template &lt;dimension_type Dim0, dimension_type Dim1, dimension_type Dim2&gt;</span>
<a id="line813"></a><span class="lineno"> 813</span><span class="line"><span class="keyword">struct</span> <a href="../../../Scopes/vsip/impl/Permute_order.Ltuple.L.S.c.S.c.S.R.ctuple.LDim0.cDim1.cDim2.R.R.html" title="struct vsip::impl::Permute_order&lt;tuple&lt;*,*,*&gt;,tuple&lt;Dim0,Dim1,Dim2&gt;&gt;">Permute_order&lt;tuple&lt;0, 2, 1&gt;, tuple&lt;Dim0, Dim1, Dim2&gt; &gt;</a></span>
<a id="line814"></a><span class="lineno"> 814</span><span class="line">{ <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/tuple.html" title="class vsip::tuple">tuple</a>&lt;Dim0, Dim2, Dim1&gt; <a href="../../../Scopes/vsip/impl/Permute_order.Ltuple.L.S.c.S.c.S.R.ctuple.LDim0.cDim1.cDim2.R.R.html#type" title="typedef vsip::impl::Permute_order&lt;tuple&lt;*,*,*&gt;,tuple&lt;Dim0,Dim1,Dim2&gt;&gt;::type">type</a>; };</span>
<a id="line815"></a><span class="lineno"> 815</span>
<a id="line816"></a><span class="lineno"> 816</span><span class="line">template &lt;dimension_type Dim0, dimension_type Dim1, dimension_type Dim2&gt;</span>
<a id="line817"></a><span class="lineno"> 817</span><span class="line"><span class="keyword">struct</span> <a href="../../../Scopes/vsip/impl/Permute_order.Ltuple.L.S.c.S.c.S.R.ctuple.LDim0.cDim1.cDim2.R.R.html" title="struct vsip::impl::Permute_order&lt;tuple&lt;*,*,*&gt;,tuple&lt;Dim0,Dim1,Dim2&gt;&gt;">Permute_order&lt;tuple&lt;1, 2, 0&gt;, tuple&lt;Dim0, Dim1, Dim2&gt; &gt;</a></span>
<a id="line818"></a><span class="lineno"> 818</span><span class="line">{ <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/tuple.html" title="class vsip::tuple">tuple</a>&lt;Dim1, Dim2, Dim0&gt; <a href="../../../Scopes/vsip/impl/Permute_order.Ltuple.L.S.c.S.c.S.R.ctuple.LDim0.cDim1.cDim2.R.R.html#type" title="typedef vsip::impl::Permute_order&lt;tuple&lt;*,*,*&gt;,tuple&lt;Dim0,Dim1,Dim2&gt;&gt;::type">type</a>; };</span>
<a id="line819"></a><span class="lineno"> 819</span>
<a id="line820"></a><span class="lineno"> 820</span><span class="line">template &lt;dimension_type Dim0, dimension_type Dim1, dimension_type Dim2&gt;</span>
<a id="line821"></a><span class="lineno"> 821</span><span class="line"><span class="keyword">struct</span> <a href="../../../Scopes/vsip/impl/Permute_order.Ltuple.L.S.c.S.c.S.R.ctuple.LDim0.cDim1.cDim2.R.R.html" title="struct vsip::impl::Permute_order&lt;tuple&lt;*,*,*&gt;,tuple&lt;Dim0,Dim1,Dim2&gt;&gt;">Permute_order&lt;tuple&lt;2, 1, 0&gt;, tuple&lt;Dim0, Dim1, Dim2&gt; &gt;</a></span>
<a id="line822"></a><span class="lineno"> 822</span><span class="line">{ <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/tuple.html" title="class vsip::tuple">tuple</a>&lt;Dim2, Dim1, Dim0&gt; <a href="../../../Scopes/vsip/impl/Permute_order.Ltuple.L.S.c.S.c.S.R.ctuple.LDim0.cDim1.cDim2.R.R.html#type" title="typedef vsip::impl::Permute_order&lt;tuple&lt;*,*,*&gt;,tuple&lt;Dim0,Dim1,Dim2&gt;&gt;::type">type</a>; };</span>
<a id="line823"></a><span class="lineno"> 823</span>
<a id="line824"></a><span class="lineno"> 824</span><span class="line">template &lt;dimension_type Dim0, dimension_type Dim1, dimension_type Dim2&gt;</span>
<a id="line825"></a><span class="lineno"> 825</span><span class="line"><span class="keyword">struct</span> <a href="../../../Scopes/vsip/impl/Permute_order.Ltuple.L.S.c.S.c.S.R.ctuple.LDim0.cDim1.cDim2.R.R.html" title="struct vsip::impl::Permute_order&lt;tuple&lt;*,*,*&gt;,tuple&lt;Dim0,Dim1,Dim2&gt;&gt;">Permute_order&lt;tuple&lt;2, 0, 1&gt;, tuple&lt;Dim0, Dim1, Dim2&gt; &gt;</a></span>
<a id="line826"></a><span class="lineno"> 826</span><span class="line">{ <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/tuple.html" title="class vsip::tuple">tuple</a>&lt;Dim2, Dim0, Dim1&gt; <a href="../../../Scopes/vsip/impl/Permute_order.Ltuple.L.S.c.S.c.S.R.ctuple.LDim0.cDim1.cDim2.R.R.html#type" title="typedef vsip::impl::Permute_order&lt;tuple&lt;*,*,*&gt;,tuple&lt;Dim0,Dim1,Dim2&gt;&gt;::type">type</a>; };</span>
<a id="line827"></a><span class="lineno"> 827</span>
<a id="line828"></a><span class="lineno"> 828</span><span class="line">template &lt;typename BlockT, typename PermutionT&gt;</span>
<a id="line829"></a><span class="lineno"> 829</span><span class="line"><span class="keyword">struct</span> <a href="../../../Scopes/vsip/impl/Block_layout.LPermuted_block.LBlockT.cPermutionT.R.R.html" title="struct vsip::impl::Block_layout&lt;Permuted_block&lt;BlockT,PermutionT&gt;&gt;">Block_layout&lt;Permuted_block&lt;BlockT, PermutionT&gt; &gt;</a></span>
<a id="line830"></a><span class="lineno"> 830</span><span class="line">{</span>
<a id="line831"></a><span class="lineno"> 831</span><span class="line">  <span class="comment">// Dimension: Same</span></span>
<a id="line832"></a><span class="lineno"> 832</span><span class="line"><span class="comment">  // Access   : Same</span></span>
<a id="line833"></a><span class="lineno"> 833</span><span class="line"><span class="comment">  // Order    : permuted</span></span>
<a id="line834"></a><span class="lineno"> 834</span><span class="line"><span class="comment">  // Stride   : Stride_unknown</span></span>
<a id="line835"></a><span class="lineno"> 835</span><span class="line"><span class="comment">  // Cmplx    : Same</span></span>
<a id="line836"></a><span class="lineno"> 836</span>
<a id="line837"></a><span class="lineno"> 837</span><span class="line">  static <a href="../../../Scopes/vsip.html#dimension_type" title="typedef vsip::dimension_type">dimension_type const</a> <a href="../../../Scopes/vsip/impl/Block_layout.LPermuted_block.LBlockT.cPermutionT.R.R.html#dim" title="data member vsip::impl::Block_layout&lt;Permuted_block&lt;BlockT,PermutionT&gt;&gt;::dim">dim</a> = BlockT::dim;</span>
<a id="line838"></a><span class="lineno"> 838</span>
<a id="line839"></a><span class="lineno"> 839</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Block_layout.html#access_type" title="typedef vsip::impl::Block_layout::access_type">typename Block_layout&lt;BlockT&gt;::access_type</a>  <a href="../../../Scopes/vsip/impl/Block_layout.LPermuted_block.LBlockT.cPermutionT.R.R.html#access_type" title="typedef vsip::impl::Block_layout&lt;Permuted_block&lt;BlockT,PermutionT&gt;&gt;::access_type">access_type</a>;</span>
<a id="line840"></a><span class="lineno"> 840</span><span class="line">  <span class="keyword">typedef</span> typename Permute_order&lt;PermutionT, </span>
<a id="line841"></a><span class="lineno"> 841</span><span class="line">                      typename Block_layout&lt;BlockT&gt;::order_type&gt;::type</span>
<a id="line842"></a><span class="lineno"> 842</span><span class="line">					            <a href="../../../Scopes/vsip/impl/Block_layout.LPermuted_block.LBlockT.cPermutionT.R.R.html#order_type" title="typedef vsip::impl::Block_layout&lt;Permuted_block&lt;BlockT,PermutionT&gt;&gt;::order_type">order_type</a>;</span>
<a id="line843"></a><span class="lineno"> 843</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Stride_unknown.html" title="struct vsip::impl::Stride_unknown">Stride_unknown</a>                             <a href="../../../Scopes/vsip/impl/Block_layout.LPermuted_block.LBlockT.cPermutionT.R.R.html#pack_type" title="typedef vsip::impl::Block_layout&lt;Permuted_block&lt;BlockT,PermutionT&gt;&gt;::pack_type">pack_type</a>;</span>
<a id="line844"></a><span class="lineno"> 844</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Block_layout.html#complex_type" title="typedef vsip::impl::Block_layout::complex_type">typename Block_layout&lt;BlockT&gt;::complex_type</a> <a href="../../../Scopes/vsip/impl/Block_layout.LPermuted_block.LBlockT.cPermutionT.R.R.html#complex_type" title="typedef vsip::impl::Block_layout&lt;Permuted_block&lt;BlockT,PermutionT&gt;&gt;::complex_type">complex_type</a>;</span>
<a id="line845"></a><span class="lineno"> 845</span>
<a id="line846"></a><span class="lineno"> 846</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Layout.html" title="struct vsip::impl::Layout">Layout</a>&lt;<a href="../../../Scopes/vsip/impl/Block_layout.LPermuted_block.LBlockT.cPermutionT.R.R.html#dim" title="data member vsip::impl::Block_layout&lt;Permuted_block&lt;BlockT,PermutionT&gt;&gt;::dim">dim</a>, order_type, pack_type, complex_type&gt; <a href="../../../Scopes/vsip/impl/Block_layout.LPermuted_block.LBlockT.cPermutionT.R.R.html#layout_type" title="typedef vsip::impl::Block_layout&lt;Permuted_block&lt;BlockT,PermutionT&gt;&gt;::layout_type">layout_type</a>;</span>
<a id="line847"></a><span class="lineno"> 847</span><span class="line">};</span>
<a id="line848"></a><span class="lineno"> 848</span>
<a id="line849"></a><span class="lineno"> 849</span>
<a id="line850"></a><span class="lineno"> 850</span><span class="line">template &lt;typename MapT, dimension_type SubDim&gt;</span>
<a id="line851"></a><span class="lineno"> 851</span><span class="line"><span class="keyword">struct</span> <a href="../../../Scopes/vsip/impl/Sliced_block_map.html" title="struct vsip::impl::Sliced_block_map">Sliced_block_map</a> {};</span>
<a id="line852"></a><span class="lineno"> 852</span>
<a id="line853"></a><span class="lineno"> 853</span><span class="line">template &lt;typename MapT, dimension_type SubDim1, dimension_type SubDim2&gt;</span>
<a id="line854"></a><span class="lineno"> 854</span><span class="line"><span class="keyword">struct</span> <a href="../../../Scopes/vsip/impl/Sliced2_block_map.html" title="struct vsip::impl::Sliced2_block_map">Sliced2_block_map</a> {};</span>
<a id="line855"></a><span class="lineno"> 855</span>
<a id="line856"></a><span class="lineno"> 856</span><span class="line">template &lt;dimension_type Dim, dimension_type SubDim&gt;</span>
<a id="line857"></a><span class="lineno"> 857</span><span class="line"><span class="keyword">struct</span> <a href="../../../Scopes/vsip/impl/Sliced_block_map.LGlobal_map.LDim.R.cSubDim.R.html" title="struct vsip::impl::Sliced_block_map&lt;Global_map&lt;Dim&gt;,SubDim&gt;">Sliced_block_map&lt;Global_map&lt;Dim&gt;, SubDim&gt;</a></span>
<a id="line858"></a><span class="lineno"> 858</span><span class="line">{</span>
<a id="line859"></a><span class="lineno"> 859</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/Global_map.html" title="class vsip::Global_map">Global_map</a>&lt;Dim - 1&gt; <a href="../../../Scopes/vsip/impl/Sliced_block_map.LGlobal_map.LDim.R.cSubDim.R.html#type" title="typedef vsip::impl::Sliced_block_map&lt;Global_map&lt;Dim&gt;,SubDim&gt;::type">type</a>;</span>
<a id="line860"></a><span class="lineno"> 860</span><span class="line">  static <a href="../../../Scopes/vsip/impl/Sliced_block_map.LGlobal_map.LDim.R.cSubDim.R.html#type" title="typedef vsip::impl::Sliced_block_map&lt;Global_map&lt;Dim&gt;,SubDim&gt;::type">type</a> <a href="../../../Scopes/vsip/impl/Sliced_block_map.LGlobal_map.LDim.R.cSubDim.R.html#convert_map_lconst.Global_map_LDim_R_A_cindex_type_r" title="member function vsip::impl::Sliced_block_map&lt;Global_map&lt;Dim&gt;,SubDim&gt;::convert_map(const Global_map&lt;Dim&gt;&amp;,index_type)">convert_map</a>(<a href="../../../Scopes/vsip/Global_map.html" title="class vsip::Global_map">Global_map</a>&lt;Dim&gt; const&amp;, <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a>) { <span class="keyword">return</span> type();}</span>
<a id="line861"></a><span class="lineno"> 861</span><span class="line">}; </span>
<a id="line862"></a><span class="lineno"> 862</span>
<a id="line863"></a><span class="lineno"> 863</span><span class="line">template &lt;dimension_type Dim, dimension_type SubDim&gt;</span>
<a id="line864"></a><span class="lineno"> 864</span><span class="line"><span class="keyword">struct</span> <a href="../../../Scopes/vsip/impl/Sliced_block_map.LLocal_or_global_map.LDim.R.cSubDim.R.html" title="struct vsip::impl::Sliced_block_map&lt;Local_or_global_map&lt;Dim&gt;,SubDim&gt;">Sliced_block_map&lt;Local_or_global_map&lt;Dim&gt;, SubDim&gt;</a></span>
<a id="line865"></a><span class="lineno"> 865</span><span class="line">{</span>
<a id="line866"></a><span class="lineno"> 866</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/Local_or_global_map.html" title="class vsip::Local_or_global_map">Local_or_global_map</a>&lt;Dim - 1&gt; <a href="../../../Scopes/vsip/impl/Sliced_block_map.LLocal_or_global_map.LDim.R.cSubDim.R.html#type" title="typedef vsip::impl::Sliced_block_map&lt;Local_or_global_map&lt;Dim&gt;,SubDim&gt;::type">type</a>;</span>
<a id="line867"></a><span class="lineno"> 867</span><span class="line">  static <a href="../../../Scopes/vsip/impl/Sliced_block_map.LLocal_or_global_map.LDim.R.cSubDim.R.html#type" title="typedef vsip::impl::Sliced_block_map&lt;Local_or_global_map&lt;Dim&gt;,SubDim&gt;::type">type</a> <a href="../../../Scopes/vsip/impl/Sliced_block_map.LLocal_or_global_map.LDim.R.cSubDim.R.html#convert_map_lconst.Local_or_global_map_LDim_R_A_cindex_type_r" title="member function vsip::impl::Sliced_block_map&lt;Local_or_global_map&lt;Dim&gt;,SubDim&gt;::convert_map(const Local_or_global_map&lt;Dim&gt;&amp;,index_type)">convert_map</a>(<a href="../../../Scopes/vsip/Local_or_global_map.html" title="class vsip::Local_or_global_map">Local_or_global_map</a>&lt;Dim&gt; const&amp;, <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a>)</span>
<a id="line868"></a><span class="lineno"> 868</span><span class="line">    { <span class="keyword">return</span> type();}</span>
<a id="line869"></a><span class="lineno"> 869</span><span class="line">}; </span>
<a id="line870"></a><span class="lineno"> 870</span>
<a id="line871"></a><span class="lineno"> 871</span><span class="line">template &lt;dimension_type SubDim&gt;</span>
<a id="line872"></a><span class="lineno"> 872</span><span class="line"><span class="keyword">struct</span> <a href="../../../Scopes/vsip/impl/Sliced_block_map.LLocal_map.cSubDim.R.html" title="struct vsip::impl::Sliced_block_map&lt;Local_map,SubDim&gt;">Sliced_block_map&lt;Local_map, SubDim&gt;</a></span>
<a id="line873"></a><span class="lineno"> 873</span><span class="line">{</span>
<a id="line874"></a><span class="lineno"> 874</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/Local_map.html" title="class vsip::Local_map">Local_map</a> <a href="../../../Scopes/vsip/impl/Sliced_block_map.LLocal_map.cSubDim.R.html#type" title="typedef vsip::impl::Sliced_block_map&lt;Local_map,SubDim&gt;::type">type</a>;</span>
<a id="line875"></a><span class="lineno"> 875</span><span class="line">  static <a href="../../../Scopes/vsip/impl/Sliced_block_map.LLocal_map.cSubDim.R.html#type" title="typedef vsip::impl::Sliced_block_map&lt;Local_map,SubDim&gt;::type">type</a> <a href="../../../Scopes/vsip/impl/Sliced_block_map.LLocal_map.cSubDim.R.html#convert_map_lconst.Local_map_A_cindex_type_r" title="member function vsip::impl::Sliced_block_map&lt;Local_map,SubDim&gt;::convert_map(const Local_map&amp;,index_type)">convert_map</a>(<a href="../../../Scopes/vsip/Local_map.html" title="class vsip::Local_map">Local_map const</a>&amp;, <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a>) { <span class="keyword">return</span> type();}</span>
<a id="line876"></a><span class="lineno"> 876</span><span class="line">}; </span>
<a id="line877"></a><span class="lineno"> 877</span>
<a id="line878"></a><span class="lineno"> 878</span><span class="line">template &lt;dimension_type Dim, dimension_type SubDim&gt;</span>
<a id="line879"></a><span class="lineno"> 879</span><span class="line"><span class="keyword">struct</span> <a href="../../../Scopes/vsip/impl/Sliced_block_map.LScalar_block_map.LDim.R.cSubDim.R.html" title="struct vsip::impl::Sliced_block_map&lt;Scalar_block_map&lt;Dim&gt;,SubDim&gt;">Sliced_block_map&lt;Scalar_block_map&lt;Dim&gt;, SubDim&gt;</a></span>
<a id="line880"></a><span class="lineno"> 880</span><span class="line">{</span>
<a id="line881"></a><span class="lineno"> 881</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Scalar_block_map.html" title="class vsip::impl::Scalar_block_map">Scalar_block_map</a>&lt;Dim - 1&gt; <a href="../../../Scopes/vsip/impl/Sliced_block_map.LScalar_block_map.LDim.R.cSubDim.R.html#type" title="typedef vsip::impl::Sliced_block_map&lt;Scalar_block_map&lt;Dim&gt;,SubDim&gt;::type">type</a>;</span>
<a id="line882"></a><span class="lineno"> 882</span><span class="line">  static <a href="../../../Scopes/vsip/impl/Sliced_block_map.LScalar_block_map.LDim.R.cSubDim.R.html#type" title="typedef vsip::impl::Sliced_block_map&lt;Scalar_block_map&lt;Dim&gt;,SubDim&gt;::type">type</a> <a href="../../../Scopes/vsip/impl/Sliced_block_map.LScalar_block_map.LDim.R.cSubDim.R.html#convert_map_lconst.Scalar_block_map_LDim_R_A_cindex_type_r" title="member function vsip::impl::Sliced_block_map&lt;Scalar_block_map&lt;Dim&gt;,SubDim&gt;::convert_map(const Scalar_block_map&lt;Dim&gt;&amp;,index_type)">convert_map</a>(<a href="../../../Scopes/vsip/impl/Scalar_block_map.html" title="class vsip::impl::Scalar_block_map">Scalar_block_map</a>&lt;Dim&gt; const&amp;, <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a>)</span>
<a id="line883"></a><span class="lineno"> 883</span><span class="line">    { <span class="keyword">return</span> type();}</span>
<a id="line884"></a><span class="lineno"> 884</span><span class="line">}; </span>
<a id="line885"></a><span class="lineno"> 885</span>
<a id="line886"></a><span class="lineno"> 886</span><span class="line">template &lt;typename Dist0,</span>
<a id="line887"></a><span class="lineno"> 887</span><span class="line">          typename Dist1,</span>
<a id="line888"></a><span class="lineno"> 888</span><span class="line">          typename Dist2,</span>
<a id="line889"></a><span class="lineno"> 889</span><span class="line">	  dimension_type D&gt;</span>
<a id="line890"></a><span class="lineno"> 890</span><span class="line"><span class="keyword">struct</span> <a href="../../../Scopes/vsip/impl/Sliced_block_map.LMap.LDist0.cDist1.cDist2.R.cD.R.html" title="struct vsip::impl::Sliced_block_map&lt;Map&lt;Dist0,Dist1,Dist2&gt;,D&gt;">Sliced_block_map&lt;Map&lt;Dist0, Dist1, Dist2&gt;, D&gt;</a></span>
<a id="line891"></a><span class="lineno"> 891</span><span class="line">{</span>
<a id="line892"></a><span class="lineno"> 892</span><span class="line">  <span class="keyword">typedef</span> typename Map_project_1&lt;D, Map&lt;Dist0, Dist1, Dist2&gt; &gt;::type <a href="../../../Scopes/vsip/impl/Sliced_block_map.LMap.LDist0.cDist1.cDist2.R.cD.R.html#type" title="typedef vsip::impl::Sliced_block_map&lt;Map&lt;Dist0,Dist1,Dist2&gt;,D&gt;::type">type</a>;</span>
<a id="line893"></a><span class="lineno"> 893</span>
<a id="line894"></a><span class="lineno"> 894</span><span class="line">  static <a href="../../../Scopes/vsip/impl/Sliced_block_map.LMap.LDist0.cDist1.cDist2.R.cD.R.html#type" title="typedef vsip::impl::Sliced_block_map&lt;Map&lt;Dist0,Dist1,Dist2&gt;,D&gt;::type">type</a> <a href="../../../Scopes/vsip/impl/Sliced_block_map.LMap.LDist0.cDist1.cDist2.R.cD.R.html#convert_map_lconst.Map_LDist0_cDist1_cDist2_R_A_cindex_type_r" title="member function vsip::impl::Sliced_block_map&lt;Map&lt;Dist0,Dist1,Dist2&gt;,D&gt;::convert_map(const Map&lt;Dist0,Dist1,Dist2&gt;&amp;,index_type)">convert_map</a>(<a href="../../../Scopes/vsip/Map.html" title="class vsip::Map">Map</a>&lt;Dist0, Dist1, Dist2&gt; const&amp; map, <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> i)</span>
<a id="line895"></a><span class="lineno"> 895</span><span class="line">  {</span>
<a id="line896"></a><span class="lineno"> 896</span><span class="line">    <span class="keyword">return</span> Map_project_1&lt;D, Map&lt;Dist0, Dist1, Dist2&gt; &gt;::project(<a href="" title="parameter map">map</a>, <a href="" title="parameter i">i</a>);</span>
<a id="line897"></a><span class="lineno"> 897</span><span class="line">  }</span>
<a id="line898"></a><span class="lineno"> 898</span>
<a id="line899"></a><span class="lineno"> 899</span><span class="line">  static <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> <a href="../../../Scopes/vsip/impl/Sliced_block_map.LMap.LDist0.cDist1.cDist2.R.cD.R.html#parent_subblock_lconst.Map_LDist0_cDist1_cDist2_R_A_cindex_type_cindex_type_r" title="member function vsip::impl::Sliced_block_map&lt;Map&lt;Dist0,Dist1,Dist2&gt;,D&gt;::parent_subblock(const Map&lt;Dist0,Dist1,Dist2&gt;&amp;,index_type,index_type)">parent_subblock</a>(<a href="../../../Scopes/vsip/Map.html" title="class vsip::Map">Map</a>&lt;Dist0, Dist1, Dist2&gt; const&amp; map,</span>
<a id="line900"></a><span class="lineno"> 900</span><span class="line">				    <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> i,</span>
<a id="line901"></a><span class="lineno"> 901</span><span class="line">				    <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> sb)</span>
<a id="line902"></a><span class="lineno"> 902</span><span class="line">  {</span>
<a id="line903"></a><span class="lineno"> 903</span><span class="line">    <span class="keyword">return</span> <a href="../../../Scopes/vsip/impl/Sliced_block_map.LMap.LDist0.cDist1.cDist2.R.cD.R.html#parent_subblock_lconst.Map_LDist0_cDist1_cDist2_R_A_cindex_type_cindex_type_r" title="member function vsip::impl::Sliced_block_map&lt;Map&lt;Dist0,Dist1,Dist2&gt;,D&gt;::parent_subblock(const Map&lt;Dist0,Dist1,Dist2&gt;&amp;,index_type,index_type)">Map_project_1&lt;D, Map&lt;Dist0, Dist1, Dist2&gt; &gt;::parent_subblock</a>(<a href="" title="parameter map">map</a>, <a href="" title="parameter i">i</a>, <a href="" title="parameter sb">sb</a>);</span>
<a id="line904"></a><span class="lineno"> 904</span><span class="line">  }</span>
<a id="line905"></a><span class="lineno"> 905</span><span class="line">}; </span>
<a id="line906"></a><span class="lineno"> 906</span>
<a id="line907"></a><span class="lineno"> 907</span><span class="line">template &lt;dimension_type Dim,</span>
<a id="line908"></a><span class="lineno"> 908</span><span class="line">	  dimension_type SubDim1,</span>
<a id="line909"></a><span class="lineno"> 909</span><span class="line">	  dimension_type SubDim2&gt;</span>
<a id="line910"></a><span class="lineno"> 910</span><span class="line"><span class="keyword">struct</span> <a href="../../../Scopes/vsip/impl/Sliced2_block_map.LGlobal_map.LDim.R.cSubDim1.cSubDim2.R.html" title="struct vsip::impl::Sliced2_block_map&lt;Global_map&lt;Dim&gt;,SubDim1,SubDim2&gt;">Sliced2_block_map&lt;Global_map&lt;Dim&gt;, SubDim1, SubDim2&gt;</a></span>
<a id="line911"></a><span class="lineno"> 911</span><span class="line">{</span>
<a id="line912"></a><span class="lineno"> 912</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/Global_map.html" title="class vsip::Global_map">Global_map</a>&lt;Dim - 2&gt; <a href="../../../Scopes/vsip/impl/Sliced2_block_map.LGlobal_map.LDim.R.cSubDim1.cSubDim2.R.html#type" title="typedef vsip::impl::Sliced2_block_map&lt;Global_map&lt;Dim&gt;,SubDim1,SubDim2&gt;::type">type</a>;</span>
<a id="line913"></a><span class="lineno"> 913</span><span class="line">  static <a href="../../../Scopes/vsip/impl/Sliced2_block_map.LGlobal_map.LDim.R.cSubDim1.cSubDim2.R.html#type" title="typedef vsip::impl::Sliced2_block_map&lt;Global_map&lt;Dim&gt;,SubDim1,SubDim2&gt;::type">type</a> <a href="../../../Scopes/vsip/impl/Sliced2_block_map.LGlobal_map.LDim.R.cSubDim1.cSubDim2.R.html#convert_map_lconst.Global_map_LDim_R_A_cindex_type_cindex_type_r" title="member function vsip::impl::Sliced2_block_map&lt;Global_map&lt;Dim&gt;,SubDim1,SubDim2&gt;::convert_map(const Global_map&lt;Dim&gt;&amp;,index_type,index_type)">convert_map</a>(<a href="../../../Scopes/vsip/Global_map.html" title="class vsip::Global_map">Global_map</a>&lt;Dim&gt; const&amp;, <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a>, <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a>) { <span class="keyword">return</span> type();}</span>
<a id="line914"></a><span class="lineno"> 914</span><span class="line">}; </span>
<a id="line915"></a><span class="lineno"> 915</span>
<a id="line916"></a><span class="lineno"> 916</span><span class="line">template &lt;dimension_type SubDim1,</span>
<a id="line917"></a><span class="lineno"> 917</span><span class="line">	  dimension_type SubDim2&gt;</span>
<a id="line918"></a><span class="lineno"> 918</span><span class="line"><span class="keyword">struct</span> <a href="../../../Scopes/vsip/impl/Sliced2_block_map.LLocal_map.cSubDim1.cSubDim2.R.html" title="struct vsip::impl::Sliced2_block_map&lt;Local_map,SubDim1,SubDim2&gt;">Sliced2_block_map&lt;Local_map, SubDim1, SubDim2&gt;</a></span>
<a id="line919"></a><span class="lineno"> 919</span><span class="line">{</span>
<a id="line920"></a><span class="lineno"> 920</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/Local_map.html" title="class vsip::Local_map">Local_map</a> <a href="../../../Scopes/vsip/impl/Sliced2_block_map.LLocal_map.cSubDim1.cSubDim2.R.html#type" title="typedef vsip::impl::Sliced2_block_map&lt;Local_map,SubDim1,SubDim2&gt;::type">type</a>;</span>
<a id="line921"></a><span class="lineno"> 921</span><span class="line">  static <a href="../../../Scopes/vsip/impl/Sliced2_block_map.LLocal_map.cSubDim1.cSubDim2.R.html#type" title="typedef vsip::impl::Sliced2_block_map&lt;Local_map,SubDim1,SubDim2&gt;::type">type</a> <a href="../../../Scopes/vsip/impl/Sliced2_block_map.LLocal_map.cSubDim1.cSubDim2.R.html#convert_map_lconst.Local_map_A_cindex_type_cindex_type_r" title="member function vsip::impl::Sliced2_block_map&lt;Local_map,SubDim1,SubDim2&gt;::convert_map(const Local_map&amp;,index_type,index_type)">convert_map</a>(<a href="../../../Scopes/vsip/Local_map.html" title="class vsip::Local_map">Local_map const</a>&amp;, <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a>, <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a>) { <span class="keyword">return</span> type();}</span>
<a id="line922"></a><span class="lineno"> 922</span><span class="line">}; </span>
<a id="line923"></a><span class="lineno"> 923</span>
<a id="line924"></a><span class="lineno"> 924</span><span class="line">template &lt;typename       Dist0,</span>
<a id="line925"></a><span class="lineno"> 925</span><span class="line">          typename       Dist1,</span>
<a id="line926"></a><span class="lineno"> 926</span><span class="line">          typename       Dist2,</span>
<a id="line927"></a><span class="lineno"> 927</span><span class="line">	  dimension_type SubDim1,</span>
<a id="line928"></a><span class="lineno"> 928</span><span class="line">	  dimension_type SubDim2&gt;</span>
<a id="line929"></a><span class="lineno"> 929</span><span class="line"><span class="keyword">struct</span> <a href="../../../Scopes/vsip/impl/Sliced2_block_map.LMap.LDist0.cDist1.cDist2.R.cSubDim1.cSubDim2.R.html" title="struct vsip::impl::Sliced2_block_map&lt;Map&lt;Dist0,Dist1,Dist2&gt;,SubDim1,SubDim2&gt;">Sliced2_block_map&lt;Map&lt;Dist0, Dist1, Dist2&gt;, SubDim1, SubDim2&gt;</a></span>
<a id="line930"></a><span class="lineno"> 930</span><span class="line">{</span>
<a id="line931"></a><span class="lineno"> 931</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Map_project_2.html" title="struct vsip::impl::Map_project_2">Map_project_2</a>&lt;SubDim1, SubDim2, Map&lt;Dist0, Dist1, Dist2&gt; &gt; <a href="../../../Scopes/vsip/impl/Sliced2_block_map.LMap.LDist0.cDist1.cDist2.R.cSubDim1.cSubDim2.R.html#project_t" title="typedef vsip::impl::Sliced2_block_map&lt;Map&lt;Dist0,Dist1,Dist2&gt;,SubDim1,SubDim2&gt;::project_t">project_t</a>;</span>
<a id="line932"></a><span class="lineno"> 932</span><span class="line">  <span class="keyword">typedef</span> typename project_t::type <a href="../../../Scopes/vsip/impl/Sliced2_block_map.LMap.LDist0.cDist1.cDist2.R.cSubDim1.cSubDim2.R.html#type" title="typedef vsip::impl::Sliced2_block_map&lt;Map&lt;Dist0,Dist1,Dist2&gt;,SubDim1,SubDim2&gt;::type">type</a>;</span>
<a id="line933"></a><span class="lineno"> 933</span>
<a id="line934"></a><span class="lineno"> 934</span><span class="line">  static <a href="../../../Scopes/vsip/impl/Sliced2_block_map.LMap.LDist0.cDist1.cDist2.R.cSubDim1.cSubDim2.R.html#type" title="typedef vsip::impl::Sliced2_block_map&lt;Map&lt;Dist0,Dist1,Dist2&gt;,SubDim1,SubDim2&gt;::type">type</a> <a href="../../../Scopes/vsip/impl/Sliced2_block_map.LMap.LDist0.cDist1.cDist2.R.cSubDim1.cSubDim2.R.html#convert_map_lconst.Map_LDist0_cDist1_cDist2_R_A_cindex_type_cindex_type_r" title="member function vsip::impl::Sliced2_block_map&lt;Map&lt;Dist0,Dist1,Dist2&gt;,SubDim1,SubDim2&gt;::convert_map(const Map&lt;Dist0,Dist1,Dist2&gt;&amp;,index_type,index_type)">convert_map</a>(<a href="../../../Scopes/vsip/Map.html" title="class vsip::Map">Map</a>&lt;Dist0, Dist1, Dist2&gt; const&amp; map,</span>
<a id="line935"></a><span class="lineno"> 935</span><span class="line">			  <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> idx0,</span>
<a id="line936"></a><span class="lineno"> 936</span><span class="line">			  <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> idx1)</span>
<a id="line937"></a><span class="lineno"> 937</span><span class="line">    { <span class="keyword">return</span> project_t::project(<a href="" title="parameter map">map</a>, <a href="" title="parameter idx0">idx0</a>, <a href="" title="parameter idx1">idx1</a>); }</span>
<a id="line938"></a><span class="lineno"> 938</span>
<a id="line939"></a><span class="lineno"> 939</span><span class="line">  static <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> <a href="../../../Scopes/vsip/impl/Sliced2_block_map.LMap.LDist0.cDist1.cDist2.R.cSubDim1.cSubDim2.R.html#parent_subblock_lconst.Map_LDist0_cDist1_cDist2_R_A_cindex_type_cindex_type_cindex_type_r" title="member function vsip::impl::Sliced2_block_map&lt;Map&lt;Dist0,Dist1,Dist2&gt;,SubDim1,SubDim2&gt;::parent_subblock(const Map&lt;Dist0,Dist1,Dist2&gt;&amp;,index_type,index_type,index_type)">parent_subblock</a>(<a href="../../../Scopes/vsip/Map.html" title="class vsip::Map">Map</a>&lt;Dist0, Dist1, Dist2&gt; const&amp; map,</span>
<a id="line940"></a><span class="lineno"> 940</span><span class="line">				    <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> idx0,</span>
<a id="line941"></a><span class="lineno"> 941</span><span class="line">				    <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> idx1,</span>
<a id="line942"></a><span class="lineno"> 942</span><span class="line">				    <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> sb)</span>
<a id="line943"></a><span class="lineno"> 943</span><span class="line">    { <span class="keyword">return</span> <a href="../../../Scopes/vsip/impl/Sliced2_block_map.LMap.LDist0.cDist1.cDist2.R.cSubDim1.cSubDim2.R.html#parent_subblock_lconst.Map_LDist0_cDist1_cDist2_R_A_cindex_type_cindex_type_cindex_type_r" title="member function vsip::impl::Sliced2_block_map&lt;Map&lt;Dist0,Dist1,Dist2&gt;,SubDim1,SubDim2&gt;::parent_subblock(const Map&lt;Dist0,Dist1,Dist2&gt;&amp;,index_type,index_type,index_type)">project_t::parent_subblock</a>(<a href="" title="parameter map">map</a>, <a href="" title="parameter idx0">idx0</a>, <a href="" title="parameter idx1">idx1</a>, <a href="" title="parameter sb">sb</a>); }</span>
<a id="line944"></a><span class="lineno"> 944</span><span class="line">}; </span>
<a id="line945"></a><span class="lineno"> 945</span>
<a id="line946"></a><span class="lineno"> 946</span><span class="line"><span class="comment">/// The Sliced_block class binds one of the indices of the underlying</span></span>
<a id="line947"></a><span class="lineno"> 947</span><span class="line"><span class="comment">/// N-dimensional block to a constant, producing an N-1-dimensional</span></span>
<a id="line948"></a><span class="lineno"> 948</span><span class="line"><span class="comment">/// block.  N must be 2 or 3, and the index chosen must be allowed for</span></span>
<a id="line949"></a><span class="lineno"> 949</span><span class="line"><span class="comment">/// the underlying block.</span></span>
<a id="line950"></a><span class="lineno"> 950</span><span class="line">template &lt;typename Block, dimension_type D&gt; class Sliced_block;</span>
<a id="line951"></a><span class="lineno"> 951</span>
<a id="line952"></a><span class="lineno"> 952</span><span class="line"><span class="comment">/// Store Sliced_block by-value.</span></span>
<a id="line953"></a><span class="lineno"> 953</span><span class="line">template &lt;typename Block, dimension_type D&gt;</span>
<a id="line954"></a><span class="lineno"> 954</span><span class="line"><span class="keyword">struct</span> <a href="../../../Scopes/vsip/impl/View_block_storage.LSliced_block.LBlock.cD.R.R.html" title="struct vsip::impl::View_block_storage&lt;Sliced_block&lt;Block,D&gt;&gt;">View_block_storage&lt;Sliced_block&lt;Block, D&gt; &gt;</a></span>
<a id="line955"></a><span class="lineno"> 955</span><span class="line">  : <a href="../../../Scopes/vsip/impl/By_value_block_storage.html" title="struct vsip::impl::By_value_block_storage">By_value_block_storage</a>&lt;<a href="../../../Scopes/vsip/impl/Sliced_block.html" title="class vsip::impl::Sliced_block">Sliced_block</a>&lt;Block, D&gt; &gt;</span>
<a id="line956"></a><span class="lineno"> 956</span><span class="line">{};</span>
<a id="line957"></a><span class="lineno"> 957</span>
<a id="line958"></a><span class="lineno"> 958</span><span class="line"><span class="comment">/// Sliced_block has impl_ref if the underlying block has impl_ref.</span></span>
<a id="line959"></a><span class="lineno"> 959</span><span class="line">template &lt;typename Block, dimension_type D&gt;</span>
<a id="line960"></a><span class="lineno"> 960</span><span class="line"><span class="keyword">struct</span> <a href="../../../Scopes/vsip/impl/Lvalue_factory_type.LSliced_block.LBlock.cD.R.R.html" title="struct vsip::impl::Lvalue_factory_type&lt;Sliced_block&lt;Block,D&gt;&gt;">Lvalue_factory_type&lt;Sliced_block&lt;Block, D&gt; &gt;</a></span>
<a id="line961"></a><span class="lineno"> 961</span><span class="line">{</span>
<a id="line962"></a><span class="lineno"> 962</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Lvalue_factory_type/Rebind.html#type" title="typedef vsip::impl::Lvalue_factory_type::Rebind::type">typename Lvalue_factory_type&lt;Block&gt;</a></span>
<a id="line963"></a><span class="lineno"> 963</span><span class="line"><a href="../../../Scopes/vsip/impl/Lvalue_factory_type/Rebind.html#type" title="typedef vsip::impl::Lvalue_factory_type::Rebind::type">    ::template Rebind&lt;Sliced_block&lt;Block, D&gt; &gt;::type</a> <a href="../../../Scopes/vsip/impl/Lvalue_factory_type.LSliced_block.LBlock.cD.R.R.html#type" title="typedef vsip::impl::Lvalue_factory_type&lt;Sliced_block&lt;Block,D&gt;&gt;::type">type</a>;</span>
<a id="line964"></a><span class="lineno"> 964</span><span class="line">  template &lt;typename OtherBlock&gt;</span>
<a id="line965"></a><span class="lineno"> 965</span><span class="line">  <span class="keyword">struct</span> <a href="../../../Scopes/vsip/impl/Lvalue_factory_type.LSliced_block.LBlock.cD.R.R/Rebind.html" title="struct vsip::impl::Lvalue_factory_type&lt;Sliced_block&lt;Block,D&gt;&gt;::Rebind">Rebind</a> {</span>
<a id="line966"></a><span class="lineno"> 966</span><span class="line">    <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Lvalue_factory_type/Rebind.html#type" title="typedef vsip::impl::Lvalue_factory_type::Rebind::type">typename Lvalue_factory_type&lt;Block&gt;</a></span>
<a id="line967"></a><span class="lineno"> 967</span><span class="line"><a href="../../../Scopes/vsip/impl/Lvalue_factory_type/Rebind.html#type" title="typedef vsip::impl::Lvalue_factory_type::Rebind::type">      ::template Rebind&lt;OtherBlock&gt;::type</a> <a href="../../../Scopes/vsip/impl/Lvalue_factory_type.LSliced_block.LBlock.cD.R.R/Rebind.html#type" title="typedef vsip::impl::Lvalue_factory_type&lt;Sliced_block&lt;Block,D&gt;&gt;::Rebind::type">type</a>;</span>
<a id="line968"></a><span class="lineno"> 968</span><span class="line">  };</span>
<a id="line969"></a><span class="lineno"> 969</span><span class="line">};</span>
<a id="line970"></a><span class="lineno"> 970</span>
<a id="line971"></a><span class="lineno"> 971</span><span class="line">template &lt;typename BlockT, dimension_type D&gt;</span>
<a id="line972"></a><span class="lineno"> 972</span><span class="line"><span class="keyword">struct</span> <a href="../../../Scopes/vsip/impl/Is_modifiable_block.LSliced_block.LBlockT.cD.R.R.html" title="struct vsip::impl::Is_modifiable_block&lt;Sliced_block&lt;BlockT,D&gt;&gt;">Is_modifiable_block&lt;Sliced_block&lt;BlockT, D&gt; &gt;</a></span>
<a id="line973"></a><span class="lineno"> 973</span><span class="line">  : <a href="../../../Scopes/vsip/impl/Is_modifiable_block.html" title="struct vsip::impl::Is_modifiable_block">Is_modifiable_block</a>&lt;BlockT&gt;</span>
<a id="line974"></a><span class="lineno"> 974</span><span class="line">{};</span>
<a id="line975"></a><span class="lineno"> 975</span>
<a id="line976"></a><span class="lineno"> 976</span><span class="line">template &lt;typename Block, dimension_type D&gt; </span>
<a id="line977"></a><span class="lineno"> 977</span><span class="line"><span class="keyword">class</span> <a href="../../../Scopes/vsip/impl/Sliced_block_base.html" title="class vsip::impl::Sliced_block_base">Sliced_block_base</a> : <span class="keyword">public</span> <a href="../../../Scopes/vsip/impl/Compile_time_assert.html" title="struct vsip::impl::Compile_time_assert">impl::Compile_time_assert&lt;(Block::dim &gt;= 2)&gt;</a>,</span>
<a id="line978"></a><span class="lineno"> 978</span><span class="line">			  <span class="keyword">public</span> <a href="../../../Scopes/vsip/impl/Non_assignable.html" title="class vsip::impl::Non_assignable">impl::Non_assignable</a></span>
<a id="line979"></a><span class="lineno"> 979</span><span class="line">{</span>
<a id="line980"></a><span class="lineno"> 980</span><span class="line"><span class="keyword">public</span>:</span>
<a id="line981"></a><span class="lineno"> 981</span><span class="line">  <span class="comment">// Compile-time values and types.</span></span>
<a id="line982"></a><span class="lineno"> 982</span><span class="line">  static <a href="../../../Scopes/vsip.html#dimension_type" title="typedef vsip::dimension_type">dimension_type const</a> <a href="../../../Scopes/vsip/impl/Sliced_block_base.html#dim" title="data member vsip::impl::Sliced_block_base::dim">dim</a> = Block::dim - <span class="literal">1</span>;</span>
<a id="line983"></a><span class="lineno"> 983</span><span class="line">  <span class="keyword">typedef</span> typename Block::value_type <a href="../../../Scopes/vsip/impl/Sliced_block_base.html#value_type" title="typedef vsip::impl::Sliced_block_base::value_type">value_type</a>;</span>
<a id="line984"></a><span class="lineno"> 984</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Sliced_block_base.html#value_type" title="typedef vsip::impl::Sliced_block_base::value_type">value_type</a>&amp;                <a href="../../../Scopes/vsip/impl/Sliced_block_base.html#reference_type" title="typedef vsip::impl::Sliced_block_base::reference_type">reference_type</a>;</span>
<a id="line985"></a><span class="lineno"> 985</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Sliced_block_base.html#value_type" title="typedef vsip::impl::Sliced_block_base::value_type">value_type const</a>&amp;          <a href="../../../Scopes/vsip/impl/Sliced_block_base.html#const_reference_type" title="typedef vsip::impl::Sliced_block_base::const_reference_type">const_reference_type</a>;</span>
<a id="line986"></a><span class="lineno"> 986</span><span class="line">  <span class="keyword">typedef</span> typename Sliced_block_map&lt;typename Block::map_type,</span>
<a id="line987"></a><span class="lineno"> 987</span><span class="line">                                    D&gt;::type <a href="../../../Scopes/vsip/impl/Sliced_block_base.html#map_type" title="typedef vsip::impl::Sliced_block_base::map_type">map_type</a>;</span>
<a id="line988"></a><span class="lineno"> 988</span>
<a id="line989"></a><span class="lineno"> 989</span><span class="line">  <span class="comment">// Constructors and destructors.</span></span>
<a id="line990"></a><span class="lineno"> 990</span><span class="line">  <a href="../../../Scopes/vsip/impl/Sliced_block_base.html#Sliced_block_base_lconst.Sliced_block_base_A_r" title="member function vsip::impl::Sliced_block_base::Sliced_block_base(const Sliced_block_base&amp;)">Sliced_block_base</a>(<a href="../../../Scopes/vsip/impl/Sliced_block_base.html" title="class vsip::impl::Sliced_block_base">Sliced_block_base const</a>&amp; sb) <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line991"></a><span class="lineno"> 991</span><span class="line">    : map_(sb.map_), blk_(&amp;*sb.blk_), index_(sb.index_)</span>
<a id="line992"></a><span class="lineno"> 992</span><span class="line">  { <a href="../../../Scopes/vsip/impl/Sliced_block_base.html#map_" title="data member vsip::impl::Sliced_block_base::map_">map_</a>.impl_apply(<a href="../../../Scopes/vsip/impl.html#block_domain_lconst.BlockT_A_r" title="function template vsip::impl::block_domain(const BlockT&amp;)">block_domain&lt;dim&gt;</a>(*<span class="keyword">this</span>)); }</span>
<a id="line993"></a><span class="lineno"> 993</span><span class="line">  <a href="../../../Scopes/vsip/impl/Sliced_block_base.html#Sliced_block_base_lBlock_A_cindex_type_r" title="member function vsip::impl::Sliced_block_base::Sliced_block_base(Block&amp;,index_type)">Sliced_block_base</a>(Block &amp;blk, <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> i) <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line994"></a><span class="lineno"> 994</span><span class="line">    : map_(Sliced_block_map&lt;typename Block::map_type,</span>
<a id="line995"></a><span class="lineno"> 995</span><span class="line">	                    D&gt;::convert_map(blk.map(), i)),</span>
<a id="line996"></a><span class="lineno"> 996</span><span class="line">      blk_(&amp;blk),</span>
<a id="line997"></a><span class="lineno"> 997</span><span class="line">      index_(i)</span>
<a id="line998"></a><span class="lineno"> 998</span><span class="line">  { <a href="../../../Scopes/vsip/impl/Sliced_block_base.html#map_" title="data member vsip::impl::Sliced_block_base::map_">map_</a>.impl_apply(<a href="../../../Scopes/vsip/impl.html#block_domain_lconst.BlockT_A_r" title="function template vsip::impl::block_domain(const BlockT&amp;)">block_domain&lt;dim&gt;</a>(*<span class="keyword">this</span>)); }</span>
<a id="line999"></a><span class="lineno"> 999</span><span class="line">  <a href="../../../Scopes/vsip/impl/Sliced_block_base.html#_tSliced_block_base_l_r" title="member function vsip::impl::Sliced_block_base::~Sliced_block_base()">~Sliced_block_base</a>() <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a> {}</span>
<a id="line1000"></a><span class="lineno">1000</span>
<a id="line1001"></a><span class="lineno">1001</span><span class="line">  <a href="../../../Scopes/vsip/impl/Sliced_block_base.html#map_type" title="typedef vsip::impl::Sliced_block_base::map_type">map_type const</a>&amp; <a href="../../../Scopes/vsip/impl/Sliced_block_base.html#map_l_rconst" title="member function vsip::impl::Sliced_block_base::map()const">map</a>() const { <span class="keyword">return</span> <a href="../../../Scopes/vsip/impl/Sliced_block_base.html#map_" title="data member vsip::impl::Sliced_block_base::map_">map_</a>;}</span>
<a id="line1002"></a><span class="lineno">1002</span>
<a id="line1003"></a><span class="lineno">1003</span><span class="line">  <span class="comment">// Accessors.</span></span>
<a id="line1004"></a><span class="lineno">1004</span><span class="line"><span class="comment">  // The total size of a sliced block is the total size of the underlying</span></span>
<a id="line1005"></a><span class="lineno">1005</span><span class="line"><span class="comment">  // block, divided by the size of the bound index.</span></span>
<a id="line1006"></a><span class="lineno">1006</span><span class="line">  <a href="../../../Scopes/vsip.html#length_type" title="typedef vsip::length_type">length_type</a> <a href="../../../Scopes/vsip/impl/Sliced_block_base.html#size_l_rconst" title="member function vsip::impl::Sliced_block_base::size()const">size</a>() const <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line1007"></a><span class="lineno">1007</span><span class="line">  { <span class="keyword">return</span> index_ == no_index ? <span class="literal">0</span> : <a href="../../../Scopes/vsip/impl/Sliced_block_base.html#blk_" title="data member vsip::impl::Sliced_block_base::blk_">blk_</a>-&gt;size() / <a href="../../../Scopes/vsip/impl/Sliced_block_base.html#blk_" title="data member vsip::impl::Sliced_block_base::blk_">blk_</a>-&gt;size(Block::dim, D);}</span>
<a id="line1008"></a><span class="lineno">1008</span><span class="line">  <a href="../../../Scopes/vsip.html#length_type" title="typedef vsip::length_type">length_type</a> <a href="../../../Scopes/vsip/impl/Sliced_block_base.html#size_ldimension_type_cdimension_type_rconst" title="member function vsip::impl::Sliced_block_base::size(dimension_type,dimension_type)const">size</a>(<a href="../../../Scopes/vsip.html#dimension_type" title="typedef vsip::dimension_type">dimension_type</a> block_d, <a href="../../../Scopes/vsip.html#dimension_type" title="typedef vsip::dimension_type">dimension_type</a> d) const <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line1009"></a><span class="lineno">1009</span><span class="line">  { <span class="keyword">return</span> index_ == no_index ? <span class="literal">0</span> :</span>
<a id="line1010"></a><span class="lineno">1010</span><span class="line">      <a href="../../../Scopes/vsip/impl/Sliced_block_base.html#blk_" title="data member vsip::impl::Sliced_block_base::blk_">blk_</a>-&gt;size(<a href="" title="parameter block_d">block_d</a> + <span class="literal">1</span>, Compare&lt;dimension_type, D&gt;() &gt; <a href="" title="parameter d">d</a> ? <a href="" title="parameter d">d</a> : <a href="" title="parameter d">d</a> + <span class="literal">1</span>);</span>
<a id="line1011"></a><span class="lineno">1011</span><span class="line">  }</span>
<a id="line1012"></a><span class="lineno">1012</span><span class="line">  <span class="comment">// These are noops as Sliced_block is helt by-value.</span></span>
<a id="line1013"></a><span class="lineno">1013</span><span class="line">  <span class="keyword">void</span> <a href="../../../Scopes/vsip/impl/Sliced_block_base.html#increment_count_l_rconst" title="member function vsip::impl::Sliced_block_base::increment_count()const">increment_count</a>() const <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a> {}</span>
<a id="line1014"></a><span class="lineno">1014</span><span class="line">  <span class="keyword">void</span> <a href="../../../Scopes/vsip/impl/Sliced_block_base.html#decrement_count_l_rconst" title="member function vsip::impl::Sliced_block_base::decrement_count()const">decrement_count</a>() const <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a> {}</span>
<a id="line1015"></a><span class="lineno">1015</span>
<a id="line1016"></a><span class="lineno">1016</span><span class="line">  Block const&amp; <a href="../../../Scopes/vsip/impl/Sliced_block_base.html#impl_block_l_rconst" title="member function vsip::impl::Sliced_block_base::impl_block()const">impl_block</a>() const { <span class="keyword">return</span> *<span class="keyword">this</span>-&gt;blk_; }</span>
<a id="line1017"></a><span class="lineno">1017</span><span class="line">  <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a>   <a href="../../../Scopes/vsip/impl/Sliced_block_base.html#impl_index_l_rconst" title="member function vsip::impl::Sliced_block_base::impl_index()const">impl_index</a>() const { <span class="keyword">return</span> <span class="keyword">this</span>-&gt;index_; }</span>
<a id="line1018"></a><span class="lineno">1018</span>
<a id="line1019"></a><span class="lineno">1019</span><span class="line">  <span class="comment">// Support Direct_data interface.</span></span>
<a id="line1020"></a><span class="lineno">1020</span><span class="line"><span class="keyword">public</span>:</span>
<a id="line1021"></a><span class="lineno">1021</span><span class="line">  <span class="keyword">typedef</span> impl::<a href="../../../Scopes/vsip/impl/Storage.html" title="struct vsip::impl::Storage">Storage</a>&lt;<a href="../../../Scopes/vsip/impl/Block_layout.html#complex_type" title="typedef vsip::impl::Block_layout::complex_type">typename Block_layout&lt;Block&gt;::complex_type</a>, value_type&gt;</span>
<a id="line1022"></a><span class="lineno">1022</span><span class="line">		<a href="../../../Scopes/vsip/impl/Sliced_block_base.html#storage_type" title="typedef vsip::impl::Sliced_block_base::storage_type">storage_type</a>;</span>
<a id="line1023"></a><span class="lineno">1023</span><span class="line">  <span class="keyword">typedef</span> typename storage_type::type       <a href="../../../Scopes/vsip/impl/Sliced_block_base.html#data_type" title="typedef vsip::impl::Sliced_block_base::data_type">data_type</a>;</span>
<a id="line1024"></a><span class="lineno">1024</span><span class="line">  <span class="keyword">typedef</span> typename storage_type::const_type <a href="../../../Scopes/vsip/impl/Sliced_block_base.html#const_data_type" title="typedef vsip::impl::Sliced_block_base::const_data_type">const_data_type</a>;</span>
<a id="line1025"></a><span class="lineno">1025</span>
<a id="line1026"></a><span class="lineno">1026</span><span class="line">  <a href="../../../Scopes/vsip/impl.html#par_ll_pbuf_type" title="typedef vsip::impl::par_ll_pbuf_type">par_ll_pbuf_type</a> <a href="../../../Scopes/vsip/impl/Sliced_block_base.html#impl_ll_pbuf_l_r" title="member function vsip::impl::Sliced_block_base::impl_ll_pbuf()">impl_ll_pbuf</a>() <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line1027"></a><span class="lineno">1027</span><span class="line">  { <span class="keyword">return</span> <a href="../../../Scopes/vsip/impl/Sliced_block_base.html#blk_" title="data member vsip::impl::Sliced_block_base::blk_">blk_</a>-&gt;impl_ll_pbuf(); }</span>
<a id="line1028"></a><span class="lineno">1028</span>
<a id="line1029"></a><span class="lineno">1029</span><span class="line">  <a href="../../../Scopes/vsip.html#stride_type" title="typedef vsip::stride_type">stride_type</a> <a href="../../../Scopes/vsip/impl/Sliced_block_base.html#impl_offset_l_r" title="member function vsip::impl::Sliced_block_base::impl_offset()">impl_offset</a>() <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line1030"></a><span class="lineno">1030</span><span class="line">  {</span>
<a id="line1031"></a><span class="lineno">1031</span><span class="line">    <span class="keyword">return</span> <a href="../../../Scopes/vsip/impl/Sliced_block_base.html#blk_" title="data member vsip::impl::Sliced_block_base::blk_">blk_</a>-&gt;impl_offset() + index_*<a href="../../../Scopes/vsip/impl/Sliced_block_base.html#blk_" title="data member vsip::impl::Sliced_block_base::blk_">blk_</a>-&gt;impl_stride(Block::dim, D);</span>
<a id="line1032"></a><span class="lineno">1032</span><span class="line">  }</span>
<a id="line1033"></a><span class="lineno">1033</span>
<a id="line1034"></a><span class="lineno">1034</span><span class="line">  <a href="../../../Scopes/vsip/impl/Sliced_block_base.html#data_type" title="typedef vsip::impl::Sliced_block_base::data_type">data_type</a>       <a href="../../../Scopes/vsip/impl/Sliced_block_base.html#impl_data_l_r" title="member function vsip::impl::Sliced_block_base::impl_data()">impl_data</a>()       <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line1035"></a><span class="lineno">1035</span><span class="line">  {</span>
<a id="line1036"></a><span class="lineno">1036</span><span class="line">    <span class="keyword">return</span> storage_type::offset(<a href="../../../Scopes/vsip/impl/Sliced_block_base.html#blk_" title="data member vsip::impl::Sliced_block_base::blk_">blk_</a>-&gt;impl_data(),</span>
<a id="line1037"></a><span class="lineno">1037</span><span class="line">				index_*<a href="../../../Scopes/vsip/impl/Sliced_block_base.html#blk_" title="data member vsip::impl::Sliced_block_base::blk_">blk_</a>-&gt;impl_stride(Block::dim, D));</span>
<a id="line1038"></a><span class="lineno">1038</span><span class="line">  }</span>
<a id="line1039"></a><span class="lineno">1039</span><span class="line">  <a href="../../../Scopes/vsip/impl/Sliced_block_base.html#const_data_type" title="typedef vsip::impl::Sliced_block_base::const_data_type">const_data_type</a> <a href="../../../Scopes/vsip/impl/Sliced_block_base.html#impl_data_l_rconst" title="member function vsip::impl::Sliced_block_base::impl_data()const">impl_data</a>() const <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line1040"></a><span class="lineno">1040</span><span class="line">  {</span>
<a id="line1041"></a><span class="lineno">1041</span><span class="line">    <span class="keyword">return</span> storage_type::offset(<a href="../../../Scopes/vsip/impl/Sliced_block_base.html#blk_" title="data member vsip::impl::Sliced_block_base::blk_">blk_</a>-&gt;impl_data(),</span>
<a id="line1042"></a><span class="lineno">1042</span><span class="line">				index_*<a href="../../../Scopes/vsip/impl/Sliced_block_base.html#blk_" title="data member vsip::impl::Sliced_block_base::blk_">blk_</a>-&gt;impl_stride(Block::dim, D));</span>
<a id="line1043"></a><span class="lineno">1043</span><span class="line">  }</span>
<a id="line1044"></a><span class="lineno">1044</span><span class="line">  <a href="../../../Scopes/vsip.html#stride_type" title="typedef vsip::stride_type">stride_type</a> <a href="../../../Scopes/vsip/impl/Sliced_block_base.html#impl_stride_ldimension_type_cdimension_type_rconst" title="member function vsip::impl::Sliced_block_base::impl_stride(dimension_type,dimension_type)const">impl_stride</a>(<a href="../../../Scopes/vsip.html#dimension_type" title="typedef vsip::dimension_type">dimension_type</a> Dim, <a href="../../../Scopes/vsip.html#dimension_type" title="typedef vsip::dimension_type">dimension_type</a> d)</span>
<a id="line1045"></a><span class="lineno">1045</span><span class="line">     const <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line1046"></a><span class="lineno">1046</span><span class="line">  {</span>
<a id="line1047"></a><span class="lineno">1047</span><span class="line">    <a href="" title="macro call">assert</a>(Dim == dim &amp;&amp; d&lt;dim);</span>
<a id="line1048"></a><span class="lineno">1048</span><span class="line">    <span class="keyword">return</span> <a href="../../../Scopes/vsip/impl/Sliced_block_base.html#blk_" title="data member vsip::impl::Sliced_block_base::blk_">blk_</a>-&gt;impl_stride(Block::dim,</span>
<a id="line1049"></a><span class="lineno">1049</span><span class="line">			     Compare&lt;dimension_type, D&gt;() &gt; <a href="" title="parameter d">d</a> ? <a href="" title="parameter d">d</a> : <a href="" title="parameter d">d</a>+<span class="literal">1</span>);</span>
<a id="line1050"></a><span class="lineno">1050</span><span class="line">  }</span>
<a id="line1051"></a><span class="lineno">1051</span>
<a id="line1052"></a><span class="lineno">1052</span><span class="line"><span class="keyword">protected</span>:</span>
<a id="line1053"></a><span class="lineno">1053</span><span class="line">  <span class="comment">// Data members.</span></span>
<a id="line1054"></a><span class="lineno">1054</span><span class="line">  <a href="../../../Scopes/vsip/impl/Sliced_block_base.html#map_type" title="typedef vsip::impl::Sliced_block_base::map_type">map_type</a>                                 <a href="../../../Scopes/vsip/impl/Sliced_block_base.html#map_" title="data member vsip::impl::Sliced_block_base::map_">map_</a>;</span>
<a id="line1055"></a><span class="lineno">1055</span><span class="line">  typename View_block_storage&lt;Block&gt;::type <a href="../../../Scopes/vsip/impl/Sliced_block_base.html#blk_" title="data member vsip::impl::Sliced_block_base::blk_">blk_</a>;</span>
<a id="line1056"></a><span class="lineno">1056</span><span class="line">  <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type const</a>                         <a href="../../../Scopes/vsip/impl/Sliced_block_base.html#index_" title="data member vsip::impl::Sliced_block_base::index_">index_</a>;</span>
<a id="line1057"></a><span class="lineno">1057</span><span class="line">};</span>
<a id="line1058"></a><span class="lineno">1058</span>
<a id="line1059"></a><span class="lineno">1059</span><span class="line">template &lt;typename Block&gt;</span>
<a id="line1060"></a><span class="lineno">1060</span><span class="line"><span class="keyword">class</span> <a href="../../../Scopes/vsip/impl/Sliced_block.LBlock.c0.R.html" title="class vsip::impl::Sliced_block&lt;Block,0&gt;">Sliced_block&lt;Block, 0&gt;</a> : <span class="keyword">public</span> <a href="../../../Scopes/vsip/impl/Sliced_block_base.html" title="class vsip::impl::Sliced_block_base">Sliced_block_base</a>&lt;Block, 0&gt;</span>
<a id="line1061"></a><span class="lineno">1061</span><span class="line">{</span>
<a id="line1062"></a><span class="lineno">1062</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Sliced_block_base.html" title="class vsip::impl::Sliced_block_base">Sliced_block_base</a>&lt;Block, 0&gt; <a href="../../../Scopes/vsip/impl/Sliced_block.LBlock.c0.R.html#Base" title="typedef vsip::impl::Sliced_block&lt;Block,0&gt;::Base">Base</a>;</span>
<a id="line1063"></a><span class="lineno">1063</span><span class="line"><span class="keyword">public</span>:</span>
<a id="line1064"></a><span class="lineno">1064</span><span class="line">  <span class="keyword">typedef</span> typename Base::value_type <a href="../../../Scopes/vsip/impl/Sliced_block.LBlock.c0.R.html#value_type" title="typedef vsip::impl::Sliced_block&lt;Block,0&gt;::value_type">value_type</a>;</span>
<a id="line1065"></a><span class="lineno">1065</span><span class="line">  <span class="keyword">typedef</span> typename Base::reference_type <a href="../../../Scopes/vsip/impl/Sliced_block.LBlock.c0.R.html#reference_type" title="typedef vsip::impl::Sliced_block&lt;Block,0&gt;::reference_type">reference_type</a>;</span>
<a id="line1066"></a><span class="lineno">1066</span>
<a id="line1067"></a><span class="lineno">1067</span><span class="line">  <a href="../../../Scopes/vsip/impl/Sliced_block.LBlock.c0.R.html#Sliced_block_lconst.Sliced_block_A_r" title="member function vsip::impl::Sliced_block&lt;Block,0&gt;::Sliced_block(const Sliced_block&amp;)">Sliced_block</a>(<a href="../../../Scopes/vsip/impl/Sliced_block.html" title="class vsip::impl::Sliced_block">Sliced_block const</a>&amp; sb) <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a> : Base(sb) {}</span>
<a id="line1068"></a><span class="lineno">1068</span><span class="line">  <a href="../../../Scopes/vsip/impl/Sliced_block.LBlock.c0.R.html#Sliced_block_lBlock_A_cindex_type_r" title="member function vsip::impl::Sliced_block&lt;Block,0&gt;::Sliced_block(Block&amp;,index_type)">Sliced_block</a>(Block &amp;blk, <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> i) <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a> : Base(blk, i) {}</span>
<a id="line1069"></a><span class="lineno">1069</span>
<a id="line1070"></a><span class="lineno">1070</span><span class="line">  <span class="comment">// Data accessors.</span></span>
<a id="line1071"></a><span class="lineno">1071</span><span class="line">  <a href="../../../Scopes/vsip/impl/Sliced_block.LBlock.c0.R.html#value_type" title="typedef vsip::impl::Sliced_block&lt;Block,0&gt;::value_type">value_type</a> <a href="../../../Scopes/vsip/impl/Sliced_block.LBlock.c0.R.html#get_lindex_type_rconst" title="member function vsip::impl::Sliced_block&lt;Block,0&gt;::get(index_type)const">get</a>(<a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> i) const <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a> </span>
<a id="line1072"></a><span class="lineno">1072</span><span class="line">  { <span class="keyword">return</span> <span class="keyword">this</span>-&gt;blk_-&gt;get(<span class="keyword">this</span>-&gt;index_, <a href="" title="parameter i">i</a>);}</span>
<a id="line1073"></a><span class="lineno">1073</span><span class="line">  <a href="../../../Scopes/vsip/impl/Sliced_block.LBlock.c0.R.html#value_type" title="typedef vsip::impl::Sliced_block&lt;Block,0&gt;::value_type">value_type</a> <a href="../../../Scopes/vsip/impl/Sliced_block.LBlock.c0.R.html#get_lindex_type_cindex_type_rconst" title="member function vsip::impl::Sliced_block&lt;Block,0&gt;::get(index_type,index_type)const">get</a>(<a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> i, <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> j) const <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line1074"></a><span class="lineno">1074</span><span class="line">  { <span class="keyword">return</span> <span class="keyword">this</span>-&gt;blk_-&gt;get(<span class="keyword">this</span>-&gt;index_, <a href="" title="parameter i">i</a>, <a href="" title="parameter j">j</a>);}</span>
<a id="line1075"></a><span class="lineno">1075</span>
<a id="line1076"></a><span class="lineno">1076</span><span class="line">  <span class="keyword">void</span> <a href="../../../Scopes/vsip/impl/Sliced_block.LBlock.c0.R.html#put_lindex_type_cvalue_type_r" title="member function vsip::impl::Sliced_block&lt;Block,0&gt;::put(index_type,value_type)">put</a>(<a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> i, <a href="../../../Scopes/vsip/impl/Sliced_block.LBlock.c0.R.html#value_type" title="typedef vsip::impl::Sliced_block&lt;Block,0&gt;::value_type">value_type</a> val) <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line1077"></a><span class="lineno">1077</span><span class="line">  { <span class="keyword">this</span>-&gt;blk_-&gt;put(<span class="keyword">this</span>-&gt;index_, <a href="" title="parameter i">i</a>, <a href="" title="parameter val">val</a>);}</span>
<a id="line1078"></a><span class="lineno">1078</span><span class="line">  <span class="keyword">void</span> <a href="../../../Scopes/vsip/impl/Sliced_block.LBlock.c0.R.html#put_lindex_type_cindex_type_cvalue_type_r" title="member function vsip::impl::Sliced_block&lt;Block,0&gt;::put(index_type,index_type,value_type)">put</a>(<a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> i, <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> j, <a href="../../../Scopes/vsip/impl/Sliced_block.LBlock.c0.R.html#value_type" title="typedef vsip::impl::Sliced_block&lt;Block,0&gt;::value_type">value_type</a> val) <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line1079"></a><span class="lineno">1079</span><span class="line">  { <span class="keyword">this</span>-&gt;blk_-&gt;put(<span class="keyword">this</span>-&gt;index_, <a href="" title="parameter i">i</a>, <a href="" title="parameter j">j</a>, <a href="" title="parameter val">val</a>);}</span>
<a id="line1080"></a><span class="lineno">1080</span>
<a id="line1081"></a><span class="lineno">1081</span><span class="line">  <a href="../../../Scopes/vsip/impl/Sliced_block.LBlock.c0.R.html#reference_type" title="typedef vsip::impl::Sliced_block&lt;Block,0&gt;::reference_type">reference_type</a> <a href="../../../Scopes/vsip/impl/Sliced_block.LBlock.c0.R.html#impl_ref_lindex_type_r" title="member function vsip::impl::Sliced_block&lt;Block,0&gt;::impl_ref(index_type)">impl_ref</a>(<a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> i) <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line1082"></a><span class="lineno">1082</span><span class="line">  { <span class="keyword">return</span> <span class="keyword">this</span>-&gt;blk_-&gt;impl_ref(<span class="keyword">this</span>-&gt;index_, <a href="" title="parameter i">i</a>); }</span>
<a id="line1083"></a><span class="lineno">1083</span><span class="line">  <a href="../../../Scopes/vsip/impl/Sliced_block.LBlock.c0.R.html#reference_type" title="typedef vsip::impl::Sliced_block&lt;Block,0&gt;::reference_type">reference_type</a> <a href="../../../Scopes/vsip/impl/Sliced_block.LBlock.c0.R.html#impl_ref_lindex_type_cindex_type_r" title="member function vsip::impl::Sliced_block&lt;Block,0&gt;::impl_ref(index_type,index_type)">impl_ref</a>(<a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> i, <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> j) <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line1084"></a><span class="lineno">1084</span><span class="line">  { <span class="keyword">return</span> <span class="keyword">this</span>-&gt;blk_-&gt;impl_ref(<span class="keyword">this</span>-&gt;index_, <a href="" title="parameter i">i</a>, <a href="" title="parameter j">j</a>); }</span>
<a id="line1085"></a><span class="lineno">1085</span><span class="line">};</span>
<a id="line1086"></a><span class="lineno">1086</span>
<a id="line1087"></a><span class="lineno">1087</span><span class="line">template &lt;typename Block&gt;</span>
<a id="line1088"></a><span class="lineno">1088</span><span class="line"><span class="keyword">class</span> <a href="../../../Scopes/vsip/impl/Sliced_block.LBlock.c1.R.html" title="class vsip::impl::Sliced_block&lt;Block,1&gt;">Sliced_block&lt;Block, 1&gt;</a> : <span class="keyword">public</span> <a href="../../../Scopes/vsip/impl/Sliced_block_base.html" title="class vsip::impl::Sliced_block_base">Sliced_block_base</a>&lt;Block, 1&gt;</span>
<a id="line1089"></a><span class="lineno">1089</span><span class="line">{</span>
<a id="line1090"></a><span class="lineno">1090</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Sliced_block_base.html" title="class vsip::impl::Sliced_block_base">Sliced_block_base</a>&lt;Block, 1&gt; <a href="../../../Scopes/vsip/impl/Sliced_block.LBlock.c1.R.html#Base" title="typedef vsip::impl::Sliced_block&lt;Block,1&gt;::Base">Base</a>;</span>
<a id="line1091"></a><span class="lineno">1091</span><span class="line"><span class="keyword">public</span>:</span>
<a id="line1092"></a><span class="lineno">1092</span><span class="line">  <span class="keyword">typedef</span> typename Base::value_type <a href="../../../Scopes/vsip/impl/Sliced_block.LBlock.c1.R.html#value_type" title="typedef vsip::impl::Sliced_block&lt;Block,1&gt;::value_type">value_type</a>;</span>
<a id="line1093"></a><span class="lineno">1093</span><span class="line">  <span class="keyword">typedef</span> typename Base::reference_type <a href="../../../Scopes/vsip/impl/Sliced_block.LBlock.c1.R.html#reference_type" title="typedef vsip::impl::Sliced_block&lt;Block,1&gt;::reference_type">reference_type</a>;</span>
<a id="line1094"></a><span class="lineno">1094</span>
<a id="line1095"></a><span class="lineno">1095</span><span class="line">  <a href="../../../Scopes/vsip/impl/Sliced_block.LBlock.c1.R.html#Sliced_block_lconst.Sliced_block_A_r" title="member function vsip::impl::Sliced_block&lt;Block,1&gt;::Sliced_block(const Sliced_block&amp;)">Sliced_block</a>(<a href="../../../Scopes/vsip/impl/Sliced_block.html" title="class vsip::impl::Sliced_block">Sliced_block const</a>&amp; sb) <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a> : Base(sb) {}</span>
<a id="line1096"></a><span class="lineno">1096</span><span class="line">  <a href="../../../Scopes/vsip/impl/Sliced_block.LBlock.c1.R.html#Sliced_block_lBlock_A_cindex_type_r" title="member function vsip::impl::Sliced_block&lt;Block,1&gt;::Sliced_block(Block&amp;,index_type)">Sliced_block</a>(Block &amp;blk, <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> i) <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a> : Base(blk, i) {}</span>
<a id="line1097"></a><span class="lineno">1097</span>
<a id="line1098"></a><span class="lineno">1098</span><span class="line">  <span class="comment">// Data accessors.</span></span>
<a id="line1099"></a><span class="lineno">1099</span><span class="line">  <a href="../../../Scopes/vsip/impl/Sliced_block.LBlock.c1.R.html#value_type" title="typedef vsip::impl::Sliced_block&lt;Block,1&gt;::value_type">value_type</a> <a href="../../../Scopes/vsip/impl/Sliced_block.LBlock.c1.R.html#get_lindex_type_rconst" title="member function vsip::impl::Sliced_block&lt;Block,1&gt;::get(index_type)const">get</a>(<a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> i) const <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a> </span>
<a id="line1100"></a><span class="lineno">1100</span><span class="line">  { <span class="keyword">return</span> <span class="keyword">this</span>-&gt;blk_-&gt;get(<a href="" title="parameter i">i</a>, <span class="keyword">this</span>-&gt;index_);}</span>
<a id="line1101"></a><span class="lineno">1101</span><span class="line">  <a href="../../../Scopes/vsip/impl/Sliced_block.LBlock.c1.R.html#value_type" title="typedef vsip::impl::Sliced_block&lt;Block,1&gt;::value_type">value_type</a> <a href="../../../Scopes/vsip/impl/Sliced_block.LBlock.c1.R.html#get_lindex_type_cindex_type_rconst" title="member function vsip::impl::Sliced_block&lt;Block,1&gt;::get(index_type,index_type)const">get</a>(<a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> i, <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> j) const <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line1102"></a><span class="lineno">1102</span><span class="line">  { <span class="keyword">return</span> <span class="keyword">this</span>-&gt;blk_-&gt;get(<a href="" title="parameter i">i</a>, <span class="keyword">this</span>-&gt;index_, <a href="" title="parameter j">j</a>);}</span>
<a id="line1103"></a><span class="lineno">1103</span>
<a id="line1104"></a><span class="lineno">1104</span><span class="line">  <span class="keyword">void</span> <a href="../../../Scopes/vsip/impl/Sliced_block.LBlock.c1.R.html#put_lindex_type_cvalue_type_r" title="member function vsip::impl::Sliced_block&lt;Block,1&gt;::put(index_type,value_type)">put</a>(<a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> i, <a href="../../../Scopes/vsip/impl/Sliced_block.LBlock.c1.R.html#value_type" title="typedef vsip::impl::Sliced_block&lt;Block,1&gt;::value_type">value_type</a> val) <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line1105"></a><span class="lineno">1105</span><span class="line">  { <span class="keyword">this</span>-&gt;blk_-&gt;put(<a href="" title="parameter i">i</a>, <span class="keyword">this</span>-&gt;index_, <a href="" title="parameter val">val</a>);}</span>
<a id="line1106"></a><span class="lineno">1106</span><span class="line">  <span class="keyword">void</span> <a href="../../../Scopes/vsip/impl/Sliced_block.LBlock.c1.R.html#put_lindex_type_cindex_type_cvalue_type_r" title="member function vsip::impl::Sliced_block&lt;Block,1&gt;::put(index_type,index_type,value_type)">put</a>(<a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> i, <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> j, <a href="../../../Scopes/vsip/impl/Sliced_block.LBlock.c1.R.html#value_type" title="typedef vsip::impl::Sliced_block&lt;Block,1&gt;::value_type">value_type</a> val) <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line1107"></a><span class="lineno">1107</span><span class="line">  { <span class="keyword">this</span>-&gt;blk_-&gt;put(<a href="" title="parameter i">i</a>, <span class="keyword">this</span>-&gt;index_, <a href="" title="parameter j">j</a>, <a href="" title="parameter val">val</a>);}</span>
<a id="line1108"></a><span class="lineno">1108</span>
<a id="line1109"></a><span class="lineno">1109</span><span class="line">  <a href="../../../Scopes/vsip/impl/Sliced_block.LBlock.c1.R.html#reference_type" title="typedef vsip::impl::Sliced_block&lt;Block,1&gt;::reference_type">reference_type</a> <a href="../../../Scopes/vsip/impl/Sliced_block.LBlock.c1.R.html#impl_ref_lindex_type_rconst" title="member function vsip::impl::Sliced_block&lt;Block,1&gt;::impl_ref(index_type)const">impl_ref</a>(<a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> i) const <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a> </span>
<a id="line1110"></a><span class="lineno">1110</span><span class="line">  { <span class="keyword">return</span> <span class="keyword">this</span>-&gt;blk_-&gt;impl_ref(<a href="" title="parameter i">i</a>, <span class="keyword">this</span>-&gt;index_);}</span>
<a id="line1111"></a><span class="lineno">1111</span><span class="line">  <a href="../../../Scopes/vsip/impl/Sliced_block.LBlock.c1.R.html#reference_type" title="typedef vsip::impl::Sliced_block&lt;Block,1&gt;::reference_type">reference_type</a> <a href="../../../Scopes/vsip/impl/Sliced_block.LBlock.c1.R.html#impl_ref_lindex_type_cindex_type_rconst" title="member function vsip::impl::Sliced_block&lt;Block,1&gt;::impl_ref(index_type,index_type)const">impl_ref</a>(<a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> i, <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> j) const <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line1112"></a><span class="lineno">1112</span><span class="line">  { <span class="keyword">return</span> <span class="keyword">this</span>-&gt;blk_-&gt;impl_ref(<a href="" title="parameter i">i</a>, <span class="keyword">this</span>-&gt;index_, <a href="" title="parameter j">j</a>);}</span>
<a id="line1113"></a><span class="lineno">1113</span><span class="line">};</span>
<a id="line1114"></a><span class="lineno">1114</span>
<a id="line1115"></a><span class="lineno">1115</span><span class="line">template &lt;typename Block&gt;</span>
<a id="line1116"></a><span class="lineno">1116</span><span class="line"><span class="keyword">class</span> <a href="../../../Scopes/vsip/impl/Sliced_block.LBlock.c2.R.html" title="class vsip::impl::Sliced_block&lt;Block,2&gt;">Sliced_block&lt;Block, 2&gt;</a> : <span class="keyword">public</span> <a href="../../../Scopes/vsip/impl/Sliced_block_base.html" title="class vsip::impl::Sliced_block_base">Sliced_block_base</a>&lt;Block, 2&gt;</span>
<a id="line1117"></a><span class="lineno">1117</span><span class="line">{</span>
<a id="line1118"></a><span class="lineno">1118</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Sliced_block_base.html" title="class vsip::impl::Sliced_block_base">Sliced_block_base</a>&lt;Block, 2&gt; <a href="../../../Scopes/vsip/impl/Sliced_block.LBlock.c2.R.html#Base" title="typedef vsip::impl::Sliced_block&lt;Block,2&gt;::Base">Base</a>;</span>
<a id="line1119"></a><span class="lineno">1119</span><span class="line"><span class="keyword">public</span>:</span>
<a id="line1120"></a><span class="lineno">1120</span><span class="line">  <span class="keyword">typedef</span> typename Base::value_type <a href="../../../Scopes/vsip/impl/Sliced_block.LBlock.c2.R.html#value_type" title="typedef vsip::impl::Sliced_block&lt;Block,2&gt;::value_type">value_type</a>;</span>
<a id="line1121"></a><span class="lineno">1121</span><span class="line">  <span class="keyword">typedef</span> typename Base::reference_type <a href="../../../Scopes/vsip/impl/Sliced_block.LBlock.c2.R.html#reference_type" title="typedef vsip::impl::Sliced_block&lt;Block,2&gt;::reference_type">reference_type</a>;</span>
<a id="line1122"></a><span class="lineno">1122</span>
<a id="line1123"></a><span class="lineno">1123</span><span class="line">  <a href="../../../Scopes/vsip/impl/Sliced_block.LBlock.c2.R.html#Sliced_block_lconst.Sliced_block_A_r" title="member function vsip::impl::Sliced_block&lt;Block,2&gt;::Sliced_block(const Sliced_block&amp;)">Sliced_block</a>(<a href="../../../Scopes/vsip/impl/Sliced_block.html" title="class vsip::impl::Sliced_block">Sliced_block const</a>&amp; sb) <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a> : Base(sb) {}</span>
<a id="line1124"></a><span class="lineno">1124</span><span class="line">  <a href="../../../Scopes/vsip/impl/Sliced_block.LBlock.c2.R.html#Sliced_block_lBlock_A_cindex_type_r" title="member function vsip::impl::Sliced_block&lt;Block,2&gt;::Sliced_block(Block&amp;,index_type)">Sliced_block</a>(Block &amp;blk, <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> i) <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a> : Base(blk, i) {}</span>
<a id="line1125"></a><span class="lineno">1125</span>
<a id="line1126"></a><span class="lineno">1126</span><span class="line">  <span class="comment">// Data accessors.</span></span>
<a id="line1127"></a><span class="lineno">1127</span><span class="line">  <a href="../../../Scopes/vsip/impl/Sliced_block.LBlock.c2.R.html#value_type" title="typedef vsip::impl::Sliced_block&lt;Block,2&gt;::value_type">value_type</a> <a href="../../../Scopes/vsip/impl/Sliced_block.LBlock.c2.R.html#get_lindex_type_cindex_type_rconst" title="member function vsip::impl::Sliced_block&lt;Block,2&gt;::get(index_type,index_type)const">get</a>(<a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> i, <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> j) const <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line1128"></a><span class="lineno">1128</span><span class="line">  { <span class="keyword">return</span> <span class="keyword">this</span>-&gt;blk_-&gt;get(<a href="" title="parameter i">i</a>, <a href="" title="parameter j">j</a>, <span class="keyword">this</span>-&gt;index_);}</span>
<a id="line1129"></a><span class="lineno">1129</span>
<a id="line1130"></a><span class="lineno">1130</span><span class="line">  <span class="keyword">void</span> <a href="../../../Scopes/vsip/impl/Sliced_block.LBlock.c2.R.html#put_lindex_type_cindex_type_cvalue_type_r" title="member function vsip::impl::Sliced_block&lt;Block,2&gt;::put(index_type,index_type,value_type)">put</a>(<a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> i, <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> j, <a href="../../../Scopes/vsip/impl/Sliced_block.LBlock.c2.R.html#value_type" title="typedef vsip::impl::Sliced_block&lt;Block,2&gt;::value_type">value_type</a> val) <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line1131"></a><span class="lineno">1131</span><span class="line">  { <span class="keyword">this</span>-&gt;blk_-&gt;put(<a href="" title="parameter i">i</a>, <a href="" title="parameter j">j</a>, <span class="keyword">this</span>-&gt;index_, <a href="" title="parameter val">val</a>);}</span>
<a id="line1132"></a><span class="lineno">1132</span>
<a id="line1133"></a><span class="lineno">1133</span><span class="line">  <a href="../../../Scopes/vsip/impl/Sliced_block.LBlock.c2.R.html#reference_type" title="typedef vsip::impl::Sliced_block&lt;Block,2&gt;::reference_type">reference_type</a> <a href="../../../Scopes/vsip/impl/Sliced_block.LBlock.c2.R.html#impl_ref_lindex_type_cindex_type_rconst" title="member function vsip::impl::Sliced_block&lt;Block,2&gt;::impl_ref(index_type,index_type)const">impl_ref</a>(<a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> i, <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> j) const <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line1134"></a><span class="lineno">1134</span><span class="line">  { <span class="keyword">return</span> <span class="keyword">this</span>-&gt;blk_-&gt;impl_ref(<a href="" title="parameter i">i</a>, <a href="" title="parameter j">j</a>, <span class="keyword">this</span>-&gt;index_);}</span>
<a id="line1135"></a><span class="lineno">1135</span><span class="line">};</span>
<a id="line1136"></a><span class="lineno">1136</span>
<a id="line1137"></a><span class="lineno">1137</span>
<a id="line1138"></a><span class="lineno">1138</span><span class="line"><span class="comment">/// The Sliced2_block class binds two of the indices of the underlying</span></span>
<a id="line1139"></a><span class="lineno">1139</span><span class="line"><span class="comment">/// N-dimensional block to a constant, producing an N-2-dimensional</span></span>
<a id="line1140"></a><span class="lineno">1140</span><span class="line"><span class="comment">/// block.  N must be &gt;= 3, and the index chosen must be allowed for</span></span>
<a id="line1141"></a><span class="lineno">1141</span><span class="line"><span class="comment">/// the underlying block.</span></span>
<a id="line1142"></a><span class="lineno">1142</span><span class="line">template &lt;typename Block, dimension_type D1, dimension_type D2&gt; </span>
<a id="line1143"></a><span class="lineno">1143</span><span class="line">class Sliced2_block;</span>
<a id="line1144"></a><span class="lineno">1144</span>
<a id="line1145"></a><span class="lineno">1145</span><span class="line"><span class="comment">/// Store Sliced2_block by-value.</span></span>
<a id="line1146"></a><span class="lineno">1146</span><span class="line">template &lt;typename Block, dimension_type D1, dimension_type D2&gt;</span>
<a id="line1147"></a><span class="lineno">1147</span><span class="line"><span class="keyword">struct</span> <a href="../../../Scopes/vsip/impl/View_block_storage.LSliced2_block.LBlock.cD1.cD2.R.R.html" title="struct vsip::impl::View_block_storage&lt;Sliced2_block&lt;Block,D1,D2&gt;&gt;">View_block_storage&lt;Sliced2_block&lt;Block, D1, D2&gt; &gt;</a></span>
<a id="line1148"></a><span class="lineno">1148</span><span class="line">  : <a href="../../../Scopes/vsip/impl/By_value_block_storage.html" title="struct vsip::impl::By_value_block_storage">By_value_block_storage</a>&lt;<a href="../../../Scopes/vsip/impl/Sliced2_block.html" title="class vsip::impl::Sliced2_block">Sliced2_block</a>&lt;Block, D1, D2&gt; &gt;</span>
<a id="line1149"></a><span class="lineno">1149</span><span class="line">{};</span>
<a id="line1150"></a><span class="lineno">1150</span>
<a id="line1151"></a><span class="lineno">1151</span><span class="line"><span class="comment">/// Sliced2_block has impl_ref if the underlying block has impl_ref.</span></span>
<a id="line1152"></a><span class="lineno">1152</span><span class="line">template &lt;typename Block, dimension_type D1, dimension_type D2&gt;</span>
<a id="line1153"></a><span class="lineno">1153</span><span class="line"><span class="keyword">struct</span> <a href="../../../Scopes/vsip/impl/Lvalue_factory_type.LSliced2_block.LBlock.cD1.cD2.R.R.html" title="struct vsip::impl::Lvalue_factory_type&lt;Sliced2_block&lt;Block,D1,D2&gt;&gt;">Lvalue_factory_type&lt;Sliced2_block&lt;Block, D1, D2&gt; &gt;</a></span>
<a id="line1154"></a><span class="lineno">1154</span><span class="line">{</span>
<a id="line1155"></a><span class="lineno">1155</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Lvalue_factory_type/Rebind.html#type" title="typedef vsip::impl::Lvalue_factory_type::Rebind::type">typename Lvalue_factory_type&lt;Block&gt;</a></span>
<a id="line1156"></a><span class="lineno">1156</span><span class="line"><a href="../../../Scopes/vsip/impl/Lvalue_factory_type/Rebind.html#type" title="typedef vsip::impl::Lvalue_factory_type::Rebind::type">    ::template Rebind&lt;Sliced2_block&lt;Block, D1, D2&gt; &gt;::type</a> <a href="../../../Scopes/vsip/impl/Lvalue_factory_type.LSliced2_block.LBlock.cD1.cD2.R.R.html#type" title="typedef vsip::impl::Lvalue_factory_type&lt;Sliced2_block&lt;Block,D1,D2&gt;&gt;::type">type</a>;</span>
<a id="line1157"></a><span class="lineno">1157</span><span class="line">  template &lt;typename OtherBlock&gt;</span>
<a id="line1158"></a><span class="lineno">1158</span><span class="line">  <span class="keyword">struct</span> <a href="../../../Scopes/vsip/impl/Lvalue_factory_type.LSliced2_block.LBlock.cD1.cD2.R.R/Rebind.html" title="struct vsip::impl::Lvalue_factory_type&lt;Sliced2_block&lt;Block,D1,D2&gt;&gt;::Rebind">Rebind</a> {</span>
<a id="line1159"></a><span class="lineno">1159</span><span class="line">    <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Lvalue_factory_type/Rebind.html#type" title="typedef vsip::impl::Lvalue_factory_type::Rebind::type">typename Lvalue_factory_type&lt;Block&gt;</a></span>
<a id="line1160"></a><span class="lineno">1160</span><span class="line"><a href="../../../Scopes/vsip/impl/Lvalue_factory_type/Rebind.html#type" title="typedef vsip::impl::Lvalue_factory_type::Rebind::type">      ::template Rebind&lt;OtherBlock&gt;::type</a> <a href="../../../Scopes/vsip/impl/Lvalue_factory_type.LSliced2_block.LBlock.cD1.cD2.R.R/Rebind.html#type" title="typedef vsip::impl::Lvalue_factory_type&lt;Sliced2_block&lt;Block,D1,D2&gt;&gt;::Rebind::type">type</a>;</span>
<a id="line1161"></a><span class="lineno">1161</span><span class="line">  };</span>
<a id="line1162"></a><span class="lineno">1162</span><span class="line">};</span>
<a id="line1163"></a><span class="lineno">1163</span>
<a id="line1164"></a><span class="lineno">1164</span><span class="line">template &lt;typename BlockT, dimension_type D1, dimension_type D2&gt;</span>
<a id="line1165"></a><span class="lineno">1165</span><span class="line"><span class="keyword">struct</span> <a href="../../../Scopes/vsip/impl/Is_modifiable_block.LSliced2_block.LBlockT.cD1.cD2.R.R.html" title="struct vsip::impl::Is_modifiable_block&lt;Sliced2_block&lt;BlockT,D1,D2&gt;&gt;">Is_modifiable_block&lt;Sliced2_block&lt;BlockT, D1, D2&gt; &gt;</a></span>
<a id="line1166"></a><span class="lineno">1166</span><span class="line">  : <a href="../../../Scopes/vsip/impl/Is_modifiable_block.html" title="struct vsip::impl::Is_modifiable_block">Is_modifiable_block</a>&lt;BlockT&gt;</span>
<a id="line1167"></a><span class="lineno">1167</span><span class="line">{};</span>
<a id="line1168"></a><span class="lineno">1168</span>
<a id="line1169"></a><span class="lineno">1169</span><span class="line">template &lt;typename Block, dimension_type D1, dimension_type D2&gt;</span>
<a id="line1170"></a><span class="lineno">1170</span><span class="line"><span class="keyword">class</span> <a href="../../../Scopes/vsip/impl/Sliced2_block_base.html" title="class vsip::impl::Sliced2_block_base">Sliced2_block_base</a> </span>
<a id="line1171"></a><span class="lineno">1171</span><span class="line">  : <span class="keyword">public</span> <a href="../../../Scopes/vsip/impl/Compile_time_assert.html" title="struct vsip::impl::Compile_time_assert">impl::Compile_time_assert&lt;(Block::dim &gt; D2 &amp;&amp; D2 &gt; D1)&gt;</a>,</span>
<a id="line1172"></a><span class="lineno">1172</span><span class="line">    <span class="keyword">public</span> <a href="../../../Scopes/vsip/impl/Non_assignable.html" title="class vsip::impl::Non_assignable">impl::Non_assignable</a></span>
<a id="line1173"></a><span class="lineno">1173</span><span class="line">{</span>
<a id="line1174"></a><span class="lineno">1174</span><span class="line"><span class="keyword">public</span>:</span>
<a id="line1175"></a><span class="lineno">1175</span><span class="line">  <span class="comment">// Compile-time values and types.</span></span>
<a id="line1176"></a><span class="lineno">1176</span><span class="line">  static <a href="../../../Scopes/vsip.html#dimension_type" title="typedef vsip::dimension_type">dimension_type const</a> <a href="../../../Scopes/vsip/impl/Sliced2_block_base.html#dim" title="data member vsip::impl::Sliced2_block_base::dim">dim</a> = Block::dim - <span class="literal">2</span>;</span>
<a id="line1177"></a><span class="lineno">1177</span><span class="line">  <span class="keyword">typedef</span> typename Block::value_type <a href="../../../Scopes/vsip/impl/Sliced2_block_base.html#value_type" title="typedef vsip::impl::Sliced2_block_base::value_type">value_type</a>;</span>
<a id="line1178"></a><span class="lineno">1178</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Sliced2_block_base.html#value_type" title="typedef vsip::impl::Sliced2_block_base::value_type">value_type</a>&amp;       <a href="../../../Scopes/vsip/impl/Sliced2_block_base.html#reference_type" title="typedef vsip::impl::Sliced2_block_base::reference_type">reference_type</a>;</span>
<a id="line1179"></a><span class="lineno">1179</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Sliced2_block_base.html#value_type" title="typedef vsip::impl::Sliced2_block_base::value_type">value_type const</a>&amp; <a href="../../../Scopes/vsip/impl/Sliced2_block_base.html#const_reference_type" title="typedef vsip::impl::Sliced2_block_base::const_reference_type">const_reference_type</a>;</span>
<a id="line1180"></a><span class="lineno">1180</span><span class="line">  <span class="keyword">typedef</span> typename Sliced2_block_map&lt;typename Block::map_type,</span>
<a id="line1181"></a><span class="lineno">1181</span><span class="line">                                     D1,</span>
<a id="line1182"></a><span class="lineno">1182</span><span class="line">                                     D2&gt;::type <a href="../../../Scopes/vsip/impl/Sliced2_block_base.html#map_type" title="typedef vsip::impl::Sliced2_block_base::map_type">map_type</a>;</span>
<a id="line1183"></a><span class="lineno">1183</span>
<a id="line1184"></a><span class="lineno">1184</span><span class="line">  <span class="comment">// Constructors and destructors.</span></span>
<a id="line1185"></a><span class="lineno">1185</span><span class="line">  <a href="../../../Scopes/vsip/impl/Sliced2_block_base.html#Sliced2_block_base_lconst.Sliced2_block_base_A_r" title="member function vsip::impl::Sliced2_block_base::Sliced2_block_base(const Sliced2_block_base&amp;)">Sliced2_block_base</a>(<a href="../../../Scopes/vsip/impl/Sliced2_block_base.html" title="class vsip::impl::Sliced2_block_base">Sliced2_block_base const</a>&amp; sb) <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line1186"></a><span class="lineno">1186</span><span class="line">    : map_(sb.map_), blk_(&amp;*sb.blk_), index1_(sb.index1_), index2_(sb.index2_)</span>
<a id="line1187"></a><span class="lineno">1187</span><span class="line">  { <a href="../../../Scopes/vsip/impl/Sliced2_block_base.html#map_" title="data member vsip::impl::Sliced2_block_base::map_">map_</a>.impl_apply(<a href="../../../Scopes/vsip/impl.html#block_domain_lconst.BlockT_A_r" title="function template vsip::impl::block_domain(const BlockT&amp;)">block_domain&lt;dim&gt;</a>(*<span class="keyword">this</span>)); }</span>
<a id="line1188"></a><span class="lineno">1188</span><span class="line">  <a href="../../../Scopes/vsip/impl/Sliced2_block_base.html#Sliced2_block_base_lBlock_A_cindex_type_cindex_type_r" title="member function vsip::impl::Sliced2_block_base::Sliced2_block_base(Block&amp;,index_type,index_type)">Sliced2_block_base</a>(Block &amp;blk, <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> i, <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> j) <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line1189"></a><span class="lineno">1189</span><span class="line">    : map_(Sliced2_block_map&lt;typename Block::map_type,</span>
<a id="line1190"></a><span class="lineno">1190</span><span class="line">	                     D1,</span>
<a id="line1191"></a><span class="lineno">1191</span><span class="line">	                     D2&gt;::convert_map(blk.map(), i, j)),</span>
<a id="line1192"></a><span class="lineno">1192</span><span class="line">      blk_(&amp;blk), index1_(i), index2_(j)</span>
<a id="line1193"></a><span class="lineno">1193</span><span class="line">  { <a href="../../../Scopes/vsip/impl/Sliced2_block_base.html#map_" title="data member vsip::impl::Sliced2_block_base::map_">map_</a>.impl_apply(<a href="../../../Scopes/vsip/impl.html#block_domain_lconst.BlockT_A_r" title="function template vsip::impl::block_domain(const BlockT&amp;)">block_domain&lt;dim&gt;</a>(*<span class="keyword">this</span>)); }</span>
<a id="line1194"></a><span class="lineno">1194</span><span class="line">  <a href="../../../Scopes/vsip/impl/Sliced2_block_base.html#_tSliced2_block_base_l_r" title="member function vsip::impl::Sliced2_block_base::~Sliced2_block_base()">~Sliced2_block_base</a>() <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a> {}</span>
<a id="line1195"></a><span class="lineno">1195</span>
<a id="line1196"></a><span class="lineno">1196</span><span class="line">  <a href="../../../Scopes/vsip/impl/Sliced2_block_base.html#map_type" title="typedef vsip::impl::Sliced2_block_base::map_type">map_type const</a>&amp; <a href="../../../Scopes/vsip/impl/Sliced2_block_base.html#map_l_rconst" title="member function vsip::impl::Sliced2_block_base::map()const">map</a>() const { <span class="keyword">return</span> <a href="../../../Scopes/vsip/impl/Sliced2_block_base.html#map_" title="data member vsip::impl::Sliced2_block_base::map_">map_</a>;}</span>
<a id="line1197"></a><span class="lineno">1197</span>
<a id="line1198"></a><span class="lineno">1198</span><span class="line">  <span class="comment">// Accessors.</span></span>
<a id="line1199"></a><span class="lineno">1199</span><span class="line"><span class="comment">  // The total size of a sliced block is the total size of the underlying</span></span>
<a id="line1200"></a><span class="lineno">1200</span><span class="line"><span class="comment">  // block, divided by the size of the bound index.</span></span>
<a id="line1201"></a><span class="lineno">1201</span><span class="line">  <a href="../../../Scopes/vsip.html#length_type" title="typedef vsip::length_type">length_type</a> <a href="../../../Scopes/vsip/impl/Sliced2_block_base.html#size_l_rconst" title="member function vsip::impl::Sliced2_block_base::size()const">size</a>() const <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line1202"></a><span class="lineno">1202</span><span class="line">  { <span class="keyword">return</span> <a href="../../../Scopes/vsip/impl/Sliced2_block_base.html#blk_" title="data member vsip::impl::Sliced2_block_base::blk_">blk_</a>-&gt;size() / <a href="../../../Scopes/vsip/impl/Sliced2_block_base.html#blk_" title="data member vsip::impl::Sliced2_block_base::blk_">blk_</a>-&gt;size(Block::dim, D1) / <a href="../../../Scopes/vsip/impl/Sliced2_block_base.html#blk_" title="data member vsip::impl::Sliced2_block_base::blk_">blk_</a>-&gt;size(Block::dim, D2);}</span>
<a id="line1203"></a><span class="lineno">1203</span><span class="line">  <a href="../../../Scopes/vsip.html#length_type" title="typedef vsip::length_type">length_type</a> <a href="../../../Scopes/vsip/impl/Sliced2_block_base.html#size_ldimension_type_cdimension_type_rconst" title="member function vsip::impl::Sliced2_block_base::size(dimension_type,dimension_type)const">size</a>(<a href="../../../Scopes/vsip.html#dimension_type" title="typedef vsip::dimension_type">dimension_type</a> block_d, <a href="../../../Scopes/vsip.html#dimension_type" title="typedef vsip::dimension_type">dimension_type</a> d) const <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line1204"></a><span class="lineno">1204</span><span class="line">  { <span class="keyword">return</span> <a href="../../../Scopes/vsip/impl/Sliced2_block_base.html#blk_" title="data member vsip::impl::Sliced2_block_base::blk_">blk_</a>-&gt;size(<a href="" title="parameter block_d">block_d</a> + <span class="literal">2</span>,</span>
<a id="line1205"></a><span class="lineno">1205</span><span class="line">		      Compare&lt;dimension_type, D1&gt;() &gt; <a href="" title="parameter d">d</a>     ? <a href="" title="parameter d">d</a>   :</span>
<a id="line1206"></a><span class="lineno">1206</span><span class="line">		      Compare&lt;dimension_type, D2&gt;() &gt; (<a href="" title="parameter d">d</a>+<span class="literal">1</span>) ? <a href="" title="parameter d">d</a>+<span class="literal">1</span> : <a href="" title="parameter d">d</a>+<span class="literal">2</span>);</span>
<a id="line1207"></a><span class="lineno">1207</span><span class="line">  }</span>
<a id="line1208"></a><span class="lineno">1208</span><span class="line">  <span class="comment">// These are noops as Sliced2_block is helt by-value.</span></span>
<a id="line1209"></a><span class="lineno">1209</span><span class="line">  <span class="keyword">void</span> <a href="../../../Scopes/vsip/impl/Sliced2_block_base.html#increment_count_l_rconst" title="member function vsip::impl::Sliced2_block_base::increment_count()const">increment_count</a>() const <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a> {}</span>
<a id="line1210"></a><span class="lineno">1210</span><span class="line">  <span class="keyword">void</span> <a href="../../../Scopes/vsip/impl/Sliced2_block_base.html#decrement_count_l_rconst" title="member function vsip::impl::Sliced2_block_base::decrement_count()const">decrement_count</a>() const <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a> {}</span>
<a id="line1211"></a><span class="lineno">1211</span>
<a id="line1212"></a><span class="lineno">1212</span><span class="line">  Block const&amp; <a href="../../../Scopes/vsip/impl/Sliced2_block_base.html#impl_block_l_rconst" title="member function vsip::impl::Sliced2_block_base::impl_block()const">impl_block</a>()  const { <span class="keyword">return</span> *<span class="keyword">this</span>-&gt;blk_; }</span>
<a id="line1213"></a><span class="lineno">1213</span><span class="line">  <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a>   <a href="../../../Scopes/vsip/impl/Sliced2_block_base.html#impl_index1_l_rconst" title="member function vsip::impl::Sliced2_block_base::impl_index1()const">impl_index1</a>() const { <span class="keyword">return</span> <span class="keyword">this</span>-&gt;index1_; }</span>
<a id="line1214"></a><span class="lineno">1214</span><span class="line">  <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a>   <a href="../../../Scopes/vsip/impl/Sliced2_block_base.html#impl_index2_l_rconst" title="member function vsip::impl::Sliced2_block_base::impl_index2()const">impl_index2</a>() const { <span class="keyword">return</span> <span class="keyword">this</span>-&gt;index2_; }</span>
<a id="line1215"></a><span class="lineno">1215</span>
<a id="line1216"></a><span class="lineno">1216</span><span class="line">  <span class="comment">// Support Direct_data interface.</span></span>
<a id="line1217"></a><span class="lineno">1217</span><span class="line"><span class="keyword">public</span>:</span>
<a id="line1218"></a><span class="lineno">1218</span><span class="line">  <span class="keyword">typedef</span> impl::<a href="../../../Scopes/vsip/impl/Storage.html" title="struct vsip::impl::Storage">Storage</a>&lt;<a href="../../../Scopes/vsip/impl/Block_layout.html#complex_type" title="typedef vsip::impl::Block_layout::complex_type">typename Block_layout&lt;Block&gt;::complex_type</a>, value_type&gt;</span>
<a id="line1219"></a><span class="lineno">1219</span><span class="line">		<a href="../../../Scopes/vsip/impl/Sliced2_block_base.html#storage_type" title="typedef vsip::impl::Sliced2_block_base::storage_type">storage_type</a>;</span>
<a id="line1220"></a><span class="lineno">1220</span><span class="line">  <span class="keyword">typedef</span> typename storage_type::type       <a href="../../../Scopes/vsip/impl/Sliced2_block_base.html#data_type" title="typedef vsip::impl::Sliced2_block_base::data_type">data_type</a>;</span>
<a id="line1221"></a><span class="lineno">1221</span><span class="line">  <span class="keyword">typedef</span> typename storage_type::const_type <a href="../../../Scopes/vsip/impl/Sliced2_block_base.html#const_data_type" title="typedef vsip::impl::Sliced2_block_base::const_data_type">const_data_type</a>;</span>
<a id="line1222"></a><span class="lineno">1222</span>
<a id="line1223"></a><span class="lineno">1223</span><span class="line">  <a href="../../../Scopes/vsip/impl.html#par_ll_pbuf_type" title="typedef vsip::impl::par_ll_pbuf_type">par_ll_pbuf_type</a> <a href="../../../Scopes/vsip/impl/Sliced2_block_base.html#impl_ll_pbuf_l_r" title="member function vsip::impl::Sliced2_block_base::impl_ll_pbuf()">impl_ll_pbuf</a>() <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line1224"></a><span class="lineno">1224</span><span class="line">  { <span class="keyword">return</span> <a href="../../../Scopes/vsip/impl/Sliced2_block_base.html#blk_" title="data member vsip::impl::Sliced2_block_base::blk_">blk_</a>-&gt;impl_ll_pbuf(); }</span>
<a id="line1225"></a><span class="lineno">1225</span>
<a id="line1226"></a><span class="lineno">1226</span><span class="line">  <a href="../../../Scopes/vsip.html#stride_type" title="typedef vsip::stride_type">stride_type</a> <a href="../../../Scopes/vsip/impl/Sliced2_block_base.html#impl_offset_l_r" title="member function vsip::impl::Sliced2_block_base::impl_offset()">impl_offset</a>() <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line1227"></a><span class="lineno">1227</span><span class="line">  {</span>
<a id="line1228"></a><span class="lineno">1228</span><span class="line">    <span class="keyword">return</span> <a href="../../../Scopes/vsip/impl/Sliced2_block_base.html#blk_" title="data member vsip::impl::Sliced2_block_base::blk_">blk_</a>-&gt;impl_offset()</span>
<a id="line1229"></a><span class="lineno">1229</span><span class="line">	 + index1_*<a href="../../../Scopes/vsip/impl/Sliced2_block_base.html#blk_" title="data member vsip::impl::Sliced2_block_base::blk_">blk_</a>-&gt;impl_stride(Block::dim, D1)</span>
<a id="line1230"></a><span class="lineno">1230</span><span class="line">	 + index2_*<a href="../../../Scopes/vsip/impl/Sliced2_block_base.html#blk_" title="data member vsip::impl::Sliced2_block_base::blk_">blk_</a>-&gt;impl_stride(Block::dim, D2);</span>
<a id="line1231"></a><span class="lineno">1231</span><span class="line">  }</span>
<a id="line1232"></a><span class="lineno">1232</span>
<a id="line1233"></a><span class="lineno">1233</span><span class="line">  <a href="../../../Scopes/vsip/impl/Sliced2_block_base.html#data_type" title="typedef vsip::impl::Sliced2_block_base::data_type">data_type</a>       <a href="../../../Scopes/vsip/impl/Sliced2_block_base.html#impl_data_l_r" title="member function vsip::impl::Sliced2_block_base::impl_data()">impl_data</a>()       <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line1234"></a><span class="lineno">1234</span><span class="line">  {</span>
<a id="line1235"></a><span class="lineno">1235</span><span class="line">    <span class="keyword">return</span> storage_type::offset(<a href="../../../Scopes/vsip/impl/Sliced2_block_base.html#blk_" title="data member vsip::impl::Sliced2_block_base::blk_">blk_</a>-&gt;impl_data(),</span>
<a id="line1236"></a><span class="lineno">1236</span><span class="line">				+ index1_*<a href="../../../Scopes/vsip/impl/Sliced2_block_base.html#blk_" title="data member vsip::impl::Sliced2_block_base::blk_">blk_</a>-&gt;impl_stride(Block::dim, D1)</span>
<a id="line1237"></a><span class="lineno">1237</span><span class="line">				+ index2_*<a href="../../../Scopes/vsip/impl/Sliced2_block_base.html#blk_" title="data member vsip::impl::Sliced2_block_base::blk_">blk_</a>-&gt;impl_stride(Block::dim, D2));</span>
<a id="line1238"></a><span class="lineno">1238</span><span class="line">  }</span>
<a id="line1239"></a><span class="lineno">1239</span>
<a id="line1240"></a><span class="lineno">1240</span><span class="line">  <a href="../../../Scopes/vsip/impl/Sliced2_block_base.html#const_data_type" title="typedef vsip::impl::Sliced2_block_base::const_data_type">const_data_type</a> <a href="../../../Scopes/vsip/impl/Sliced2_block_base.html#impl_data_l_rconst" title="member function vsip::impl::Sliced2_block_base::impl_data()const">impl_data</a>() const <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line1241"></a><span class="lineno">1241</span><span class="line">  {</span>
<a id="line1242"></a><span class="lineno">1242</span><span class="line">    <span class="keyword">return</span> storage_type::offset(<a href="../../../Scopes/vsip/impl/Sliced2_block_base.html#blk_" title="data member vsip::impl::Sliced2_block_base::blk_">blk_</a>-&gt;impl_data(),</span>
<a id="line1243"></a><span class="lineno">1243</span><span class="line">				+ index1_*<a href="../../../Scopes/vsip/impl/Sliced2_block_base.html#blk_" title="data member vsip::impl::Sliced2_block_base::blk_">blk_</a>-&gt;impl_stride(Block::dim, D1)</span>
<a id="line1244"></a><span class="lineno">1244</span><span class="line">				+ index2_*<a href="../../../Scopes/vsip/impl/Sliced2_block_base.html#blk_" title="data member vsip::impl::Sliced2_block_base::blk_">blk_</a>-&gt;impl_stride(Block::dim, D2));</span>
<a id="line1245"></a><span class="lineno">1245</span><span class="line">  }</span>
<a id="line1246"></a><span class="lineno">1246</span>
<a id="line1247"></a><span class="lineno">1247</span><span class="line">  <a href="../../../Scopes/vsip.html#stride_type" title="typedef vsip::stride_type">stride_type</a> <a href="../../../Scopes/vsip/impl/Sliced2_block_base.html#impl_stride_ldimension_type_cdimension_type_rconst" title="member function vsip::impl::Sliced2_block_base::impl_stride(dimension_type,dimension_type)const">impl_stride</a>(<a href="../../../Scopes/vsip.html#dimension_type" title="typedef vsip::dimension_type">dimension_type</a> Dim, <a href="../../../Scopes/vsip.html#dimension_type" title="typedef vsip::dimension_type">dimension_type</a> d)</span>
<a id="line1248"></a><span class="lineno">1248</span><span class="line">     const <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line1249"></a><span class="lineno">1249</span><span class="line">  {</span>
<a id="line1250"></a><span class="lineno">1250</span><span class="line">    <a href="" title="macro call">assert</a>(Dim == dim &amp;&amp; d&lt;dim);</span>
<a id="line1251"></a><span class="lineno">1251</span><span class="line">    <span class="keyword">return</span> <a href="../../../Scopes/vsip/impl/Sliced2_block_base.html#blk_" title="data member vsip::impl::Sliced2_block_base::blk_">blk_</a>-&gt;impl_stride(Block::dim,</span>
<a id="line1252"></a><span class="lineno">1252</span><span class="line">		      Compare&lt;dimension_type, D1&gt;() &gt; <a href="" title="parameter d">d</a>     ? <a href="" title="parameter d">d</a>   :</span>
<a id="line1253"></a><span class="lineno">1253</span><span class="line">		      Compare&lt;dimension_type, D2&gt;() &gt; (<a href="" title="parameter d">d</a>+<span class="literal">1</span>) ? <a href="" title="parameter d">d</a>+<span class="literal">1</span> : <a href="" title="parameter d">d</a>+<span class="literal">2</span>);</span>
<a id="line1254"></a><span class="lineno">1254</span><span class="line">  }</span>
<a id="line1255"></a><span class="lineno">1255</span>
<a id="line1256"></a><span class="lineno">1256</span><span class="line"><span class="keyword">protected</span>:</span>
<a id="line1257"></a><span class="lineno">1257</span><span class="line">  <span class="comment">// Data members.</span></span>
<a id="line1258"></a><span class="lineno">1258</span><span class="line">  <a href="../../../Scopes/vsip/impl/Sliced2_block_base.html#map_type" title="typedef vsip::impl::Sliced2_block_base::map_type">map_type</a>                                 <a href="../../../Scopes/vsip/impl/Sliced2_block_base.html#map_" title="data member vsip::impl::Sliced2_block_base::map_">map_</a>;</span>
<a id="line1259"></a><span class="lineno">1259</span><span class="line">  typename View_block_storage&lt;Block&gt;::type <a href="../../../Scopes/vsip/impl/Sliced2_block_base.html#blk_" title="data member vsip::impl::Sliced2_block_base::blk_">blk_</a>;</span>
<a id="line1260"></a><span class="lineno">1260</span><span class="line">  <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type const</a>                         <a href="../../../Scopes/vsip/impl/Sliced2_block_base.html#index1_" title="data member vsip::impl::Sliced2_block_base::index1_">index1_</a>;</span>
<a id="line1261"></a><span class="lineno">1261</span><span class="line">  <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type const</a>                         <a href="../../../Scopes/vsip/impl/Sliced2_block_base.html#index2_" title="data member vsip::impl::Sliced2_block_base::index2_">index2_</a>;</span>
<a id="line1262"></a><span class="lineno">1262</span><span class="line">};</span>
<a id="line1263"></a><span class="lineno">1263</span>
<a id="line1264"></a><span class="lineno">1264</span><span class="line">template &lt;typename Block&gt;</span>
<a id="line1265"></a><span class="lineno">1265</span><span class="line"><span class="keyword">class</span> <a href="../../../Scopes/vsip/impl/Sliced2_block.LBlock.c0.c1.R.html" title="class vsip::impl::Sliced2_block&lt;Block,0,1&gt;">Sliced2_block&lt;Block, 0, 1&gt;</a> : <span class="keyword">public</span> <a href="../../../Scopes/vsip/impl/Sliced2_block_base.html" title="class vsip::impl::Sliced2_block_base">Sliced2_block_base</a>&lt;Block, 0, 1&gt;</span>
<a id="line1266"></a><span class="lineno">1266</span><span class="line">{</span>
<a id="line1267"></a><span class="lineno">1267</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Sliced2_block_base.html" title="class vsip::impl::Sliced2_block_base">Sliced2_block_base</a>&lt;Block, 0, 1&gt; <a href="../../../Scopes/vsip/impl/Sliced2_block.LBlock.c0.c1.R.html#Base" title="typedef vsip::impl::Sliced2_block&lt;Block,0,1&gt;::Base">Base</a>;</span>
<a id="line1268"></a><span class="lineno">1268</span><span class="line"><span class="keyword">public</span>:</span>
<a id="line1269"></a><span class="lineno">1269</span><span class="line">  <span class="keyword">typedef</span> typename Base::value_type <a href="../../../Scopes/vsip/impl/Sliced2_block.LBlock.c0.c1.R.html#value_type" title="typedef vsip::impl::Sliced2_block&lt;Block,0,1&gt;::value_type">value_type</a>;</span>
<a id="line1270"></a><span class="lineno">1270</span><span class="line">  <span class="keyword">typedef</span> typename Base::reference_type <a href="../../../Scopes/vsip/impl/Sliced2_block.LBlock.c0.c1.R.html#reference_type" title="typedef vsip::impl::Sliced2_block&lt;Block,0,1&gt;::reference_type">reference_type</a>;</span>
<a id="line1271"></a><span class="lineno">1271</span>
<a id="line1272"></a><span class="lineno">1272</span><span class="line">  <a href="../../../Scopes/vsip/impl/Sliced2_block.LBlock.c0.c1.R.html#Sliced2_block_lconst.Sliced2_block_A_r" title="member function vsip::impl::Sliced2_block&lt;Block,0,1&gt;::Sliced2_block(const Sliced2_block&amp;)">Sliced2_block</a>(<a href="../../../Scopes/vsip/impl/Sliced2_block.html" title="class vsip::impl::Sliced2_block">Sliced2_block const</a>&amp; sb) <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a> : Base(sb) {}</span>
<a id="line1273"></a><span class="lineno">1273</span><span class="line">  <a href="../../../Scopes/vsip/impl/Sliced2_block.LBlock.c0.c1.R.html#Sliced2_block_lBlock_A_cindex_type_cindex_type_r" title="member function vsip::impl::Sliced2_block&lt;Block,0,1&gt;::Sliced2_block(Block&amp;,index_type,index_type)">Sliced2_block</a>(Block &amp;blk, <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> i, <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> j) <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a> </span>
<a id="line1274"></a><span class="lineno">1274</span><span class="line">    : Base(blk, i, j)</span>
<a id="line1275"></a><span class="lineno">1275</span><span class="line">  {}</span>
<a id="line1276"></a><span class="lineno">1276</span>
<a id="line1277"></a><span class="lineno">1277</span><span class="line">  <span class="comment">// Data accessors.</span></span>
<a id="line1278"></a><span class="lineno">1278</span><span class="line">  <a href="../../../Scopes/vsip/impl/Sliced2_block.LBlock.c0.c1.R.html#value_type" title="typedef vsip::impl::Sliced2_block&lt;Block,0,1&gt;::value_type">value_type</a> <a href="../../../Scopes/vsip/impl/Sliced2_block.LBlock.c0.c1.R.html#get_lindex_type_rconst" title="member function vsip::impl::Sliced2_block&lt;Block,0,1&gt;::get(index_type)const">get</a>(<a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> i) const <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a> </span>
<a id="line1279"></a><span class="lineno">1279</span><span class="line">  { <span class="keyword">return</span> <span class="keyword">this</span>-&gt;blk_-&gt;get(<span class="keyword">this</span>-&gt;index1_, <span class="keyword">this</span>-&gt;index2_, <a href="" title="parameter i">i</a>);}</span>
<a id="line1280"></a><span class="lineno">1280</span>
<a id="line1281"></a><span class="lineno">1281</span><span class="line">  <span class="keyword">void</span> <a href="../../../Scopes/vsip/impl/Sliced2_block.LBlock.c0.c1.R.html#put_lindex_type_cvalue_type_r" title="member function vsip::impl::Sliced2_block&lt;Block,0,1&gt;::put(index_type,value_type)">put</a>(<a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> i, <a href="../../../Scopes/vsip/impl/Sliced2_block.LBlock.c0.c1.R.html#value_type" title="typedef vsip::impl::Sliced2_block&lt;Block,0,1&gt;::value_type">value_type</a> val) <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line1282"></a><span class="lineno">1282</span><span class="line">  { <span class="keyword">this</span>-&gt;blk_-&gt;put(<span class="keyword">this</span>-&gt;index1_, <span class="keyword">this</span>-&gt;index2_, <a href="" title="parameter i">i</a>, <a href="" title="parameter val">val</a>);}</span>
<a id="line1283"></a><span class="lineno">1283</span>
<a id="line1284"></a><span class="lineno">1284</span><span class="line">  <a href="../../../Scopes/vsip/impl/Sliced2_block.LBlock.c0.c1.R.html#reference_type" title="typedef vsip::impl::Sliced2_block&lt;Block,0,1&gt;::reference_type">reference_type</a> <a href="../../../Scopes/vsip/impl/Sliced2_block.LBlock.c0.c1.R.html#impl_ref_lindex_type_rconst" title="member function vsip::impl::Sliced2_block&lt;Block,0,1&gt;::impl_ref(index_type)const">impl_ref</a>(<a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> i) const <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a> </span>
<a id="line1285"></a><span class="lineno">1285</span><span class="line">  { <span class="keyword">return</span> <span class="keyword">this</span>-&gt;blk_-&gt;impl_ref(<span class="keyword">this</span>-&gt;index1_, <span class="keyword">this</span>-&gt;index2_, <a href="" title="parameter i">i</a>);}</span>
<a id="line1286"></a><span class="lineno">1286</span><span class="line">};</span>
<a id="line1287"></a><span class="lineno">1287</span>
<a id="line1288"></a><span class="lineno">1288</span><span class="line">template &lt;typename Block&gt;</span>
<a id="line1289"></a><span class="lineno">1289</span><span class="line"><span class="keyword">class</span> <a href="../../../Scopes/vsip/impl/Sliced2_block.LBlock.c0.c2.R.html" title="class vsip::impl::Sliced2_block&lt;Block,0,2&gt;">Sliced2_block&lt;Block, 0, 2&gt;</a> : <span class="keyword">public</span> <a href="../../../Scopes/vsip/impl/Sliced2_block_base.html" title="class vsip::impl::Sliced2_block_base">Sliced2_block_base</a>&lt;Block, 0, 2&gt;</span>
<a id="line1290"></a><span class="lineno">1290</span><span class="line">{</span>
<a id="line1291"></a><span class="lineno">1291</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Sliced2_block_base.html" title="class vsip::impl::Sliced2_block_base">Sliced2_block_base</a>&lt;Block, 0, 2&gt; <a href="../../../Scopes/vsip/impl/Sliced2_block.LBlock.c0.c2.R.html#Base" title="typedef vsip::impl::Sliced2_block&lt;Block,0,2&gt;::Base">Base</a>;</span>
<a id="line1292"></a><span class="lineno">1292</span><span class="line"><span class="keyword">public</span>:</span>
<a id="line1293"></a><span class="lineno">1293</span><span class="line">  <span class="keyword">typedef</span> typename Base::value_type <a href="../../../Scopes/vsip/impl/Sliced2_block.LBlock.c0.c2.R.html#value_type" title="typedef vsip::impl::Sliced2_block&lt;Block,0,2&gt;::value_type">value_type</a>;</span>
<a id="line1294"></a><span class="lineno">1294</span><span class="line">  <span class="keyword">typedef</span> typename Base::reference_type <a href="../../../Scopes/vsip/impl/Sliced2_block.LBlock.c0.c2.R.html#reference_type" title="typedef vsip::impl::Sliced2_block&lt;Block,0,2&gt;::reference_type">reference_type</a>;</span>
<a id="line1295"></a><span class="lineno">1295</span>
<a id="line1296"></a><span class="lineno">1296</span><span class="line">  <a href="../../../Scopes/vsip/impl/Sliced2_block.LBlock.c0.c2.R.html#Sliced2_block_lconst.Sliced2_block_A_r" title="member function vsip::impl::Sliced2_block&lt;Block,0,2&gt;::Sliced2_block(const Sliced2_block&amp;)">Sliced2_block</a>(<a href="../../../Scopes/vsip/impl/Sliced2_block.html" title="class vsip::impl::Sliced2_block">Sliced2_block const</a>&amp; sb) <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a> : Base(sb) {}</span>
<a id="line1297"></a><span class="lineno">1297</span><span class="line">  <a href="../../../Scopes/vsip/impl/Sliced2_block.LBlock.c0.c2.R.html#Sliced2_block_lBlock_A_cindex_type_cindex_type_r" title="member function vsip::impl::Sliced2_block&lt;Block,0,2&gt;::Sliced2_block(Block&amp;,index_type,index_type)">Sliced2_block</a>(Block &amp;blk, <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> i, <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> j) <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a> </span>
<a id="line1298"></a><span class="lineno">1298</span><span class="line">    : Base(blk, i, j)</span>
<a id="line1299"></a><span class="lineno">1299</span><span class="line">  {}</span>
<a id="line1300"></a><span class="lineno">1300</span>
<a id="line1301"></a><span class="lineno">1301</span><span class="line">  <span class="comment">// Data accessors.</span></span>
<a id="line1302"></a><span class="lineno">1302</span><span class="line">  <a href="../../../Scopes/vsip/impl/Sliced2_block.LBlock.c0.c2.R.html#value_type" title="typedef vsip::impl::Sliced2_block&lt;Block,0,2&gt;::value_type">value_type</a> <a href="../../../Scopes/vsip/impl/Sliced2_block.LBlock.c0.c2.R.html#get_lindex_type_rconst" title="member function vsip::impl::Sliced2_block&lt;Block,0,2&gt;::get(index_type)const">get</a>(<a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> i) const <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a> </span>
<a id="line1303"></a><span class="lineno">1303</span><span class="line">  { <span class="keyword">return</span> <span class="keyword">this</span>-&gt;blk_-&gt;get(<span class="keyword">this</span>-&gt;index1_, <a href="" title="parameter i">i</a>, <span class="keyword">this</span>-&gt;index2_);}</span>
<a id="line1304"></a><span class="lineno">1304</span>
<a id="line1305"></a><span class="lineno">1305</span><span class="line">  <span class="keyword">void</span> <a href="../../../Scopes/vsip/impl/Sliced2_block.LBlock.c0.c2.R.html#put_lindex_type_cvalue_type_r" title="member function vsip::impl::Sliced2_block&lt;Block,0,2&gt;::put(index_type,value_type)">put</a>(<a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> i, <a href="../../../Scopes/vsip/impl/Sliced2_block.LBlock.c0.c2.R.html#value_type" title="typedef vsip::impl::Sliced2_block&lt;Block,0,2&gt;::value_type">value_type</a> val) <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line1306"></a><span class="lineno">1306</span><span class="line">  { <span class="keyword">this</span>-&gt;blk_-&gt;put(<span class="keyword">this</span>-&gt;index1_, <a href="" title="parameter i">i</a>, <span class="keyword">this</span>-&gt;index2_, <a href="" title="parameter val">val</a>);}</span>
<a id="line1307"></a><span class="lineno">1307</span>
<a id="line1308"></a><span class="lineno">1308</span><span class="line">  <a href="../../../Scopes/vsip/impl/Sliced2_block.LBlock.c0.c2.R.html#reference_type" title="typedef vsip::impl::Sliced2_block&lt;Block,0,2&gt;::reference_type">reference_type</a> <a href="../../../Scopes/vsip/impl/Sliced2_block.LBlock.c0.c2.R.html#impl_ref_lindex_type_rconst" title="member function vsip::impl::Sliced2_block&lt;Block,0,2&gt;::impl_ref(index_type)const">impl_ref</a>(<a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> i) const <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a> </span>
<a id="line1309"></a><span class="lineno">1309</span><span class="line">  { <span class="keyword">return</span> <span class="keyword">this</span>-&gt;blk_-&gt;impl_ref(<span class="keyword">this</span>-&gt;index1_, <a href="" title="parameter i">i</a>, <span class="keyword">this</span>-&gt;index2_);}</span>
<a id="line1310"></a><span class="lineno">1310</span><span class="line">};</span>
<a id="line1311"></a><span class="lineno">1311</span>
<a id="line1312"></a><span class="lineno">1312</span><span class="line">template &lt;typename Block&gt;</span>
<a id="line1313"></a><span class="lineno">1313</span><span class="line"><span class="keyword">class</span> <a href="../../../Scopes/vsip/impl/Sliced2_block.LBlock.c1.c2.R.html" title="class vsip::impl::Sliced2_block&lt;Block,1,2&gt;">Sliced2_block&lt;Block, 1, 2&gt;</a> : <span class="keyword">public</span> <a href="../../../Scopes/vsip/impl/Sliced2_block_base.html" title="class vsip::impl::Sliced2_block_base">Sliced2_block_base</a>&lt;Block, 1, 2&gt;</span>
<a id="line1314"></a><span class="lineno">1314</span><span class="line">{</span>
<a id="line1315"></a><span class="lineno">1315</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Sliced2_block_base.html" title="class vsip::impl::Sliced2_block_base">Sliced2_block_base</a>&lt;Block, 1, 2&gt; <a href="../../../Scopes/vsip/impl/Sliced2_block.LBlock.c1.c2.R.html#Base" title="typedef vsip::impl::Sliced2_block&lt;Block,1,2&gt;::Base">Base</a>;</span>
<a id="line1316"></a><span class="lineno">1316</span><span class="line"><span class="keyword">public</span>:</span>
<a id="line1317"></a><span class="lineno">1317</span><span class="line">  <span class="keyword">typedef</span> typename Base::value_type <a href="../../../Scopes/vsip/impl/Sliced2_block.LBlock.c1.c2.R.html#value_type" title="typedef vsip::impl::Sliced2_block&lt;Block,1,2&gt;::value_type">value_type</a>;</span>
<a id="line1318"></a><span class="lineno">1318</span><span class="line">  <span class="keyword">typedef</span> typename Base::reference_type <a href="../../../Scopes/vsip/impl/Sliced2_block.LBlock.c1.c2.R.html#reference_type" title="typedef vsip::impl::Sliced2_block&lt;Block,1,2&gt;::reference_type">reference_type</a>;</span>
<a id="line1319"></a><span class="lineno">1319</span>
<a id="line1320"></a><span class="lineno">1320</span><span class="line">  <a href="../../../Scopes/vsip/impl/Sliced2_block.LBlock.c1.c2.R.html#Sliced2_block_lconst.Sliced2_block_A_r" title="member function vsip::impl::Sliced2_block&lt;Block,1,2&gt;::Sliced2_block(const Sliced2_block&amp;)">Sliced2_block</a>(<a href="../../../Scopes/vsip/impl/Sliced2_block.html" title="class vsip::impl::Sliced2_block">Sliced2_block const</a>&amp; sb) <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a> : Base(sb) {}</span>
<a id="line1321"></a><span class="lineno">1321</span><span class="line">  <a href="../../../Scopes/vsip/impl/Sliced2_block.LBlock.c1.c2.R.html#Sliced2_block_lBlock_A_cindex_type_cindex_type_r" title="member function vsip::impl::Sliced2_block&lt;Block,1,2&gt;::Sliced2_block(Block&amp;,index_type,index_type)">Sliced2_block</a>(Block &amp;blk, <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> i, <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> j) <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a> </span>
<a id="line1322"></a><span class="lineno">1322</span><span class="line">    : Base(blk, i, j)</span>
<a id="line1323"></a><span class="lineno">1323</span><span class="line">  {}</span>
<a id="line1324"></a><span class="lineno">1324</span>
<a id="line1325"></a><span class="lineno">1325</span><span class="line">  <span class="comment">// Data accessors.</span></span>
<a id="line1326"></a><span class="lineno">1326</span><span class="line">  <a href="../../../Scopes/vsip/impl/Sliced2_block.LBlock.c1.c2.R.html#value_type" title="typedef vsip::impl::Sliced2_block&lt;Block,1,2&gt;::value_type">value_type</a> <a href="../../../Scopes/vsip/impl/Sliced2_block.LBlock.c1.c2.R.html#get_lindex_type_rconst" title="member function vsip::impl::Sliced2_block&lt;Block,1,2&gt;::get(index_type)const">get</a>(<a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> i) const <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a> </span>
<a id="line1327"></a><span class="lineno">1327</span><span class="line">  { <span class="keyword">return</span> <span class="keyword">this</span>-&gt;blk_-&gt;get(<a href="" title="parameter i">i</a>, <span class="keyword">this</span>-&gt;index1_, <span class="keyword">this</span>-&gt;index2_);}</span>
<a id="line1328"></a><span class="lineno">1328</span>
<a id="line1329"></a><span class="lineno">1329</span><span class="line">  <span class="keyword">void</span> <a href="../../../Scopes/vsip/impl/Sliced2_block.LBlock.c1.c2.R.html#put_lindex_type_cvalue_type_r" title="member function vsip::impl::Sliced2_block&lt;Block,1,2&gt;::put(index_type,value_type)">put</a>(<a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> i, <a href="../../../Scopes/vsip/impl/Sliced2_block.LBlock.c1.c2.R.html#value_type" title="typedef vsip::impl::Sliced2_block&lt;Block,1,2&gt;::value_type">value_type</a> val) <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line1330"></a><span class="lineno">1330</span><span class="line">  { <span class="keyword">this</span>-&gt;blk_-&gt;put(<a href="" title="parameter i">i</a>, <span class="keyword">this</span>-&gt;index1_, <span class="keyword">this</span>-&gt;index2_, <a href="" title="parameter val">val</a>);}</span>
<a id="line1331"></a><span class="lineno">1331</span>
<a id="line1332"></a><span class="lineno">1332</span><span class="line">  <a href="../../../Scopes/vsip/impl/Sliced2_block.LBlock.c1.c2.R.html#reference_type" title="typedef vsip::impl::Sliced2_block&lt;Block,1,2&gt;::reference_type">reference_type</a> <a href="../../../Scopes/vsip/impl/Sliced2_block.LBlock.c1.c2.R.html#impl_ref_lindex_type_rconst" title="member function vsip::impl::Sliced2_block&lt;Block,1,2&gt;::impl_ref(index_type)const">impl_ref</a>(<a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> i) const <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a> </span>
<a id="line1333"></a><span class="lineno">1333</span><span class="line">  { <span class="keyword">return</span> <span class="keyword">this</span>-&gt;blk_-&gt;impl_ref(<a href="" title="parameter i">i</a>, <span class="keyword">this</span>-&gt;index1_, <span class="keyword">this</span>-&gt;index2_);}</span>
<a id="line1334"></a><span class="lineno">1334</span><span class="line">};</span>
<a id="line1335"></a><span class="lineno">1335</span>
<a id="line1336"></a><span class="lineno">1336</span>
<a id="line1337"></a><span class="lineno">1337</span>
<a id="line1338"></a><span class="lineno">1338</span><span class="line">template &lt;typename       Tuple,</span>
<a id="line1339"></a><span class="lineno">1339</span><span class="line">	  dimension_type NumDim,</span>
<a id="line1340"></a><span class="lineno">1340</span><span class="line">	  dimension_type FixedDim&gt;</span>
<a id="line1341"></a><span class="lineno">1341</span><span class="line">struct Sliced_block_order;</span>
<a id="line1342"></a><span class="lineno">1342</span>
<a id="line1343"></a><span class="lineno">1343</span><span class="line">template &lt;dimension_type Dim0,</span>
<a id="line1344"></a><span class="lineno">1344</span><span class="line">	  dimension_type Dim1,</span>
<a id="line1345"></a><span class="lineno">1345</span><span class="line">	  dimension_type Dim2,</span>
<a id="line1346"></a><span class="lineno">1346</span><span class="line">	  dimension_type FixedDim&gt;</span>
<a id="line1347"></a><span class="lineno">1347</span><span class="line"><span class="keyword">struct</span> <a href="../../../Scopes/vsip/impl/Sliced_block_order.Ltuple.LDim0.cDim1.cDim2.R.c2.cFixedDim.R.html" title="struct vsip::impl::Sliced_block_order&lt;tuple&lt;Dim0,Dim1,Dim2&gt;,2,FixedDim&gt;">Sliced_block_order&lt;tuple&lt;Dim0, Dim1, Dim2&gt;, 2, FixedDim&gt;</a></span>
<a id="line1348"></a><span class="lineno">1348</span><span class="line">{</span>
<a id="line1349"></a><span class="lineno">1349</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip.html#row1_type" title="typedef vsip::row1_type">row1_type</a> <a href="../../../Scopes/vsip/impl/Sliced_block_order.Ltuple.LDim0.cDim1.cDim2.R.c2.cFixedDim.R.html#type" title="typedef vsip::impl::Sliced_block_order&lt;tuple&lt;Dim0,Dim1,Dim2&gt;,2,FixedDim&gt;::type">type</a>;</span>
<a id="line1350"></a><span class="lineno">1350</span><span class="line">  static <span class="keyword">bool const</span> <a href="../../../Scopes/vsip/impl/Sliced_block_order.Ltuple.LDim0.cDim1.cDim2.R.c2.cFixedDim.R.html#unit_stride_preserved" title="data member vsip::impl::Sliced_block_order&lt;tuple&lt;Dim0,Dim1,Dim2&gt;,2,FixedDim&gt;::unit_stride_preserved">unit_stride_preserved</a> = (FixedDim != Dim1);</span>
<a id="line1351"></a><span class="lineno">1351</span><span class="line">};</span>
<a id="line1352"></a><span class="lineno">1352</span>
<a id="line1353"></a><span class="lineno">1353</span><span class="line">template &lt;dimension_type Dim0,</span>
<a id="line1354"></a><span class="lineno">1354</span><span class="line">	  dimension_type Dim1,</span>
<a id="line1355"></a><span class="lineno">1355</span><span class="line">	  dimension_type Dim2,</span>
<a id="line1356"></a><span class="lineno">1356</span><span class="line">	  dimension_type FixedDim&gt;</span>
<a id="line1357"></a><span class="lineno">1357</span><span class="line"><span class="keyword">struct</span> <a href="../../../Scopes/vsip/impl/Sliced_block_order.Ltuple.LDim0.cDim1.cDim2.R.c3.cFixedDim.R.html" title="struct vsip::impl::Sliced_block_order&lt;tuple&lt;Dim0,Dim1,Dim2&gt;,3,FixedDim&gt;">Sliced_block_order&lt;tuple&lt;Dim0, Dim1, Dim2&gt;, 3, FixedDim&gt;</a></span>
<a id="line1358"></a><span class="lineno">1358</span><span class="line">{</span>
<a id="line1359"></a><span class="lineno">1359</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/ITE_Type.html" title="struct vsip::impl::ITE_Type">typename</a></span>
<a id="line1360"></a><span class="lineno">1360</span><span class="line"><a href="../../../Scopes/vsip/impl/ITE_Type.html" title="struct vsip::impl::ITE_Type">  ITE_Type&lt;FixedDim == Dim0,</a></span>
<a id="line1361"></a><span class="lineno">1361</span><span class="line"><a href="../../../Scopes/vsip/impl/ITE_Type.html" title="struct vsip::impl::ITE_Type">	   ITE_Type&lt;(Dim2 &gt; Dim1), As_type&lt;row2_type&gt;, As_type&lt;col2_type&gt; &gt;,</a></span>
<a id="line1362"></a><span class="lineno">1362</span><span class="line"><a href="../../../Scopes/vsip/impl/ITE_Type.html" title="struct vsip::impl::ITE_Type">  ITE_Type&lt;FixedDim == Dim1,</a></span>
<a id="line1363"></a><span class="lineno">1363</span><span class="line"><a href="../../../Scopes/vsip/impl/ITE_Type.html" title="struct vsip::impl::ITE_Type">	   ITE_Type&lt;(Dim2 &gt; Dim0), As_type&lt;row2_type&gt;, As_type&lt;col2_type&gt; &gt;,</a></span>
<a id="line1364"></a><span class="lineno">1364</span><span class="line"><a href="../../../Scopes/vsip/impl/ITE_Type.html" title="struct vsip::impl::ITE_Type">           ITE_Type&lt;(Dim1 &gt; Dim0), As_type&lt;row2_type&gt;, As_type&lt;col2_type&gt; &gt;</a></span>
<a id="line1365"></a><span class="lineno">1365</span><span class="line"><a href="../../../Scopes/vsip/impl/ITE_Type.html" title="struct vsip::impl::ITE_Type">          &gt; &gt;::type</a></span>
<a id="line1366"></a><span class="lineno">1366</span><span class="line">		<a href="../../../Scopes/vsip/impl/Sliced_block_order.Ltuple.LDim0.cDim1.cDim2.R.c3.cFixedDim.R.html#type" title="typedef vsip::impl::Sliced_block_order&lt;tuple&lt;Dim0,Dim1,Dim2&gt;,3,FixedDim&gt;::type">type</a>;</span>
<a id="line1367"></a><span class="lineno">1367</span><span class="line">  static <span class="keyword">bool const</span> <a href="../../../Scopes/vsip/impl/Sliced_block_order.Ltuple.LDim0.cDim1.cDim2.R.c3.cFixedDim.R.html#unit_stride_preserved" title="data member vsip::impl::Sliced_block_order&lt;tuple&lt;Dim0,Dim1,Dim2&gt;,3,FixedDim&gt;::unit_stride_preserved">unit_stride_preserved</a> = (FixedDim != Dim2);</span>
<a id="line1368"></a><span class="lineno">1368</span><span class="line">};</span>
<a id="line1369"></a><span class="lineno">1369</span>
<a id="line1370"></a><span class="lineno">1370</span>
<a id="line1371"></a><span class="lineno">1371</span>
<a id="line1372"></a><span class="lineno">1372</span><span class="line">template &lt;typename       BlockT,</span>
<a id="line1373"></a><span class="lineno">1373</span><span class="line">	  dimension_type Dim&gt;</span>
<a id="line1374"></a><span class="lineno">1374</span><span class="line"><span class="keyword">struct</span> <a href="../../../Scopes/vsip/impl/Block_root.LSliced_block.LBlockT.cDim.R.R.html" title="struct vsip::impl::Block_root&lt;Sliced_block&lt;BlockT,Dim&gt;&gt;">Block_root&lt;Sliced_block&lt;BlockT, Dim&gt; &gt;</a></span>
<a id="line1375"></a><span class="lineno">1375</span><span class="line">{</span>
<a id="line1376"></a><span class="lineno">1376</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Block_root.html#type" title="typedef vsip::impl::Block_root::type">typename Block_root&lt;BlockT&gt;::type</a> <a href="../../../Scopes/vsip/impl/Block_root.LSliced_block.LBlockT.cDim.R.R.html#type" title="typedef vsip::impl::Block_root&lt;Sliced_block&lt;BlockT,Dim&gt;&gt;::type">type</a>;</span>
<a id="line1377"></a><span class="lineno">1377</span><span class="line">};</span>
<a id="line1378"></a><span class="lineno">1378</span>
<a id="line1379"></a><span class="lineno">1379</span><span class="line">template &lt;typename       BlockT,</span>
<a id="line1380"></a><span class="lineno">1380</span><span class="line">	  dimension_type Dim&gt;</span>
<a id="line1381"></a><span class="lineno">1381</span><span class="line"><a href="../../../Scopes/vsip/impl/Block_root.html#type" title="typedef vsip::impl::Block_root::type">typename Block_root&lt;Sliced_block&lt;BlockT, Dim&gt; &gt;::type const</a>&amp;</span>
<a id="line1382"></a><span class="lineno">1382</span><span class="line"><a href="" title="function vsip::impl::block_root(const Sliced_block&lt;BlockT,Dim&gt;&amp;)">block_root</a>(<a href="../../../Scopes/vsip/impl/Sliced_block.html" title="class vsip::impl::Sliced_block">Sliced_block</a>&lt;BlockT, Dim&gt; const&amp; block)</span>
<a id="line1383"></a><span class="lineno">1383</span><span class="line">{</span>
<a id="line1384"></a><span class="lineno">1384</span><span class="line">  <span class="keyword">return</span> <a href="" title="function vsip::impl::block_root(const Sliced_block&lt;BlockT,Dim&gt;&amp;)">block_root</a>(<a href="" title="parameter block">block</a>.impl_block());</span>
<a id="line1385"></a><span class="lineno">1385</span><span class="line">}</span>
<a id="line1386"></a><span class="lineno">1386</span>
<a id="line1387"></a><span class="lineno">1387</span>
<a id="line1388"></a><span class="lineno">1388</span>
<a id="line1389"></a><span class="lineno">1389</span><span class="line">template &lt;typename       Block,</span>
<a id="line1390"></a><span class="lineno">1390</span><span class="line">	  dimension_type Dim&gt;</span>
<a id="line1391"></a><span class="lineno">1391</span><span class="line"><span class="keyword">struct</span> <a href="../../../Scopes/vsip/impl/Block_layout.LSliced_block.LBlock.cDim.R.R.html" title="struct vsip::impl::Block_layout&lt;Sliced_block&lt;Block,Dim&gt;&gt;">Block_layout&lt;Sliced_block&lt;Block, Dim&gt; &gt;</a></span>
<a id="line1392"></a><span class="lineno">1392</span><span class="line">{</span>
<a id="line1393"></a><span class="lineno">1393</span><span class="line">  <span class="comment">// Dimension: reduced by 1</span></span>
<a id="line1394"></a><span class="lineno">1394</span><span class="line"><span class="comment">  // Access   : Same</span></span>
<a id="line1395"></a><span class="lineno">1395</span><span class="line"><span class="comment">  // Order    : preserve non-fixed order</span></span>
<a id="line1396"></a><span class="lineno">1396</span><span class="line"><span class="comment">  // Stride   : Stride_unit if parent Stride_unit* and FixeDim != 0,</span></span>
<a id="line1397"></a><span class="lineno">1397</span><span class="line"><span class="comment">  //            Stride_unknown otherwise</span></span>
<a id="line1398"></a><span class="lineno">1398</span><span class="line"><span class="comment">  // Cmplx    : Same</span></span>
<a id="line1399"></a><span class="lineno">1399</span><span class="line"><span class="keyword">private</span>:</span>
<a id="line1400"></a><span class="lineno">1400</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Sliced_block_order.html" title="struct vsip::impl::Sliced_block_order">Sliced_block_order</a>&lt;<a href="../../../Scopes/vsip/impl/Block_layout.html#order_type" title="typedef vsip::impl::Block_layout::order_type">typename Block_layout&lt;Block&gt;::order_type</a>,</span>
<a id="line1401"></a><span class="lineno">1401</span><span class="line">			   Block::dim,</span>
<a id="line1402"></a><span class="lineno">1402</span><span class="line">			   Dim&gt; <a href="../../../Scopes/vsip/impl/Block_layout.LSliced_block.LBlock.cDim.R.R.html#sbo_type" title="typedef vsip::impl::Block_layout&lt;Sliced_block&lt;Block,Dim&gt;&gt;::sbo_type">sbo_type</a>;</span>
<a id="line1403"></a><span class="lineno">1403</span>
<a id="line1404"></a><span class="lineno">1404</span><span class="line"><span class="keyword">public</span>:</span>
<a id="line1405"></a><span class="lineno">1405</span>
<a id="line1406"></a><span class="lineno">1406</span><span class="line">  static <a href="../../../Scopes/vsip.html#dimension_type" title="typedef vsip::dimension_type">dimension_type const</a> <a href="../../../Scopes/vsip/impl/Block_layout.LSliced_block.LBlock.cDim.R.R.html#dim" title="data member vsip::impl::Block_layout&lt;Sliced_block&lt;Block,Dim&gt;&gt;::dim">dim</a> = Block::dim-<span class="literal">1</span>;</span>
<a id="line1407"></a><span class="lineno">1407</span>
<a id="line1408"></a><span class="lineno">1408</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Block_layout.html#access_type" title="typedef vsip::impl::Block_layout::access_type">typename Block_layout&lt;Block&gt;::access_type</a> <a href="../../../Scopes/vsip/impl/Block_layout.LSliced_block.LBlock.cDim.R.R.html#access_type" title="typedef vsip::impl::Block_layout&lt;Sliced_block&lt;Block,Dim&gt;&gt;::access_type">access_type</a>;</span>
<a id="line1409"></a><span class="lineno">1409</span><span class="line">  <span class="keyword">typedef</span> typename sbo_type::type                   <a href="../../../Scopes/vsip/impl/Block_layout.LSliced_block.LBlock.cDim.R.R.html#order_type" title="typedef vsip::impl::Block_layout&lt;Sliced_block&lt;Block,Dim&gt;&gt;::order_type">order_type</a>;</span>
<a id="line1410"></a><span class="lineno">1410</span><span class="line">  <span class="keyword">typedef</span> typename ITE_Type&lt;</span>
<a id="line1411"></a><span class="lineno">1411</span><span class="line">    Block_layout&lt;Block&gt;::pack_type::is_ct_unit_stride &amp;&amp;</span>
<a id="line1412"></a><span class="lineno">1412</span><span class="line">    sbo_type::unit_stride_preserved,</span>
<a id="line1413"></a><span class="lineno">1413</span><span class="line">    As_type&lt;Stride_unit&gt;, As_type&lt;Stride_unknown&gt; &gt;::type <a href="../../../Scopes/vsip/impl/Block_layout.LSliced_block.LBlock.cDim.R.R.html#pack_type" title="typedef vsip::impl::Block_layout&lt;Sliced_block&lt;Block,Dim&gt;&gt;::pack_type">pack_type</a>;</span>
<a id="line1414"></a><span class="lineno">1414</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Block_layout.html#complex_type" title="typedef vsip::impl::Block_layout::complex_type">typename Block_layout&lt;Block&gt;::complex_type</a> <a href="../../../Scopes/vsip/impl/Block_layout.LSliced_block.LBlock.cDim.R.R.html#complex_type" title="typedef vsip::impl::Block_layout&lt;Sliced_block&lt;Block,Dim&gt;&gt;::complex_type">complex_type</a>;</span>
<a id="line1415"></a><span class="lineno">1415</span>
<a id="line1416"></a><span class="lineno">1416</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Layout.html" title="struct vsip::impl::Layout">Layout</a>&lt;<a href="../../../Scopes/vsip/impl/Block_layout.LSliced_block.LBlock.cDim.R.R.html#dim" title="data member vsip::impl::Block_layout&lt;Sliced_block&lt;Block,Dim&gt;&gt;::dim">dim</a>, order_type, pack_type, complex_type&gt; <a href="../../../Scopes/vsip/impl/Block_layout.LSliced_block.LBlock.cDim.R.R.html#layout_type" title="typedef vsip::impl::Block_layout&lt;Sliced_block&lt;Block,Dim&gt;&gt;::layout_type">layout_type</a>;</span>
<a id="line1417"></a><span class="lineno">1417</span><span class="line">};</span>
<a id="line1418"></a><span class="lineno">1418</span>
<a id="line1419"></a><span class="lineno">1419</span>
<a id="line1420"></a><span class="lineno">1420</span>
<a id="line1421"></a><span class="lineno">1421</span><span class="line">template &lt;typename       BlockT,</span>
<a id="line1422"></a><span class="lineno">1422</span><span class="line">	  dimension_type D1,</span>
<a id="line1423"></a><span class="lineno">1423</span><span class="line">	  dimension_type D2&gt; </span>
<a id="line1424"></a><span class="lineno">1424</span><span class="line"><span class="keyword">struct</span> <a href="../../../Scopes/vsip/impl/Block_root.LSliced2_block.LBlockT.cD1.cD2.R.R.html" title="struct vsip::impl::Block_root&lt;Sliced2_block&lt;BlockT,D1,D2&gt;&gt;">Block_root&lt;Sliced2_block&lt;BlockT, D1, D2&gt; &gt;</a></span>
<a id="line1425"></a><span class="lineno">1425</span><span class="line">{</span>
<a id="line1426"></a><span class="lineno">1426</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Block_root.html#type" title="typedef vsip::impl::Block_root::type">typename Block_root&lt;BlockT&gt;::type</a> <a href="../../../Scopes/vsip/impl/Block_root.LSliced2_block.LBlockT.cD1.cD2.R.R.html#type" title="typedef vsip::impl::Block_root&lt;Sliced2_block&lt;BlockT,D1,D2&gt;&gt;::type">type</a>;</span>
<a id="line1427"></a><span class="lineno">1427</span><span class="line">};</span>
<a id="line1428"></a><span class="lineno">1428</span>
<a id="line1429"></a><span class="lineno">1429</span><span class="line">template &lt;typename       BlockT,</span>
<a id="line1430"></a><span class="lineno">1430</span><span class="line">	  dimension_type D1,</span>
<a id="line1431"></a><span class="lineno">1431</span><span class="line">	  dimension_type D2&gt; </span>
<a id="line1432"></a><span class="lineno">1432</span><span class="line"><a href="../../../Scopes/vsip/impl/Block_root.html#type" title="typedef vsip::impl::Block_root::type">typename Block_root&lt;Sliced2_block&lt;BlockT, D1, D2&gt; &gt;::type const</a>&amp;</span>
<a id="line1433"></a><span class="lineno">1433</span><span class="line"><a href="" title="function vsip::impl::block_root(const Sliced2_block&lt;BlockT,D1,D2&gt;&amp;)">block_root</a>(<a href="../../../Scopes/vsip/impl/Sliced2_block.html" title="class vsip::impl::Sliced2_block">Sliced2_block</a>&lt;BlockT, D1, D2&gt; const&amp; block)</span>
<a id="line1434"></a><span class="lineno">1434</span><span class="line">{</span>
<a id="line1435"></a><span class="lineno">1435</span><span class="line">  <span class="keyword">return</span> <a href="" title="function vsip::impl::block_root(const Sliced2_block&lt;BlockT,D1,D2&gt;&amp;)">block_root</a>(<a href="" title="parameter block">block</a>.impl_block());</span>
<a id="line1436"></a><span class="lineno">1436</span><span class="line">}</span>
<a id="line1437"></a><span class="lineno">1437</span>
<a id="line1438"></a><span class="lineno">1438</span>
<a id="line1439"></a><span class="lineno">1439</span>
<a id="line1440"></a><span class="lineno">1440</span><span class="line">template &lt;typename       Block,</span>
<a id="line1441"></a><span class="lineno">1441</span><span class="line">	  dimension_type D1,</span>
<a id="line1442"></a><span class="lineno">1442</span><span class="line">	  dimension_type D2&gt; </span>
<a id="line1443"></a><span class="lineno">1443</span><span class="line"><span class="keyword">struct</span> <a href="../../../Scopes/vsip/impl/Block_layout.LSliced2_block.LBlock.cD1.cD2.R.R.html" title="struct vsip::impl::Block_layout&lt;Sliced2_block&lt;Block,D1,D2&gt;&gt;">Block_layout&lt;Sliced2_block&lt;Block, D1, D2&gt; &gt;</a></span>
<a id="line1444"></a><span class="lineno">1444</span><span class="line">{</span>
<a id="line1445"></a><span class="lineno">1445</span><span class="line">  <span class="comment">// Dimension: reduced by 2</span></span>
<a id="line1446"></a><span class="lineno">1446</span><span class="line"><span class="comment">  // Access   : Same</span></span>
<a id="line1447"></a><span class="lineno">1447</span><span class="line"><span class="comment">  // Order    : preserve non-fixed order</span></span>
<a id="line1448"></a><span class="lineno">1448</span><span class="line"><span class="comment">  // Stride   : Stride_unit if parent Stride_unit* and </span></span>
<a id="line1449"></a><span class="lineno">1449</span><span class="line"><span class="comment">  //                           D1 != lowest dim and D2 != lowest dim</span></span>
<a id="line1450"></a><span class="lineno">1450</span><span class="line"><span class="comment">  //            Stride_unknown otherwise</span></span>
<a id="line1451"></a><span class="lineno">1451</span><span class="line"><span class="comment">  // Cmplx    : Same</span></span>
<a id="line1452"></a><span class="lineno">1452</span><span class="line"><span class="keyword">private</span>:</span>
<a id="line1453"></a><span class="lineno">1453</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Block_layout.html#order_type" title="typedef vsip::impl::Block_layout::order_type">typename Block_layout&lt;Block&gt;::order_type</a> <a href="../../../Scopes/vsip/impl/Block_layout.LSliced2_block.LBlock.cD1.cD2.R.R.html#par_order_type" title="typedef vsip::impl::Block_layout&lt;Sliced2_block&lt;Block,D1,D2&gt;&gt;::par_order_type">par_order_type</a>;</span>
<a id="line1454"></a><span class="lineno">1454</span>
<a id="line1455"></a><span class="lineno">1455</span><span class="line"><span class="keyword">public</span>:</span>
<a id="line1456"></a><span class="lineno">1456</span><span class="line">  static <a href="../../../Scopes/vsip.html#dimension_type" title="typedef vsip::dimension_type">dimension_type const</a> <a href="../../../Scopes/vsip/impl/Block_layout.LSliced2_block.LBlock.cD1.cD2.R.R.html#dim" title="data member vsip::impl::Block_layout&lt;Sliced2_block&lt;Block,D1,D2&gt;&gt;::dim">dim</a> = Block::dim-<span class="literal">2</span>;</span>
<a id="line1457"></a><span class="lineno">1457</span>
<a id="line1458"></a><span class="lineno">1458</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Block_layout.html#access_type" title="typedef vsip::impl::Block_layout::access_type">typename Block_layout&lt;Block&gt;::access_type</a> <a href="../../../Scopes/vsip/impl/Block_layout.LSliced2_block.LBlock.cD1.cD2.R.R.html#access_type" title="typedef vsip::impl::Block_layout&lt;Sliced2_block&lt;Block,D1,D2&gt;&gt;::access_type">access_type</a>;</span>
<a id="line1459"></a><span class="lineno">1459</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip.html#row1_type" title="typedef vsip::row1_type">row1_type</a>                                 <a href="../../../Scopes/vsip/impl/Block_layout.LSliced2_block.LBlock.cD1.cD2.R.R.html#order_type" title="typedef vsip::impl::Block_layout&lt;Sliced2_block&lt;Block,D1,D2&gt;&gt;::order_type">order_type</a>;</span>
<a id="line1460"></a><span class="lineno">1460</span>
<a id="line1461"></a><span class="lineno">1461</span><span class="line">  <span class="keyword">typedef</span> typename ITE_Type&lt;</span>
<a id="line1462"></a><span class="lineno">1462</span><span class="line">    Block_layout&lt;Block&gt;::pack_type::is_ct_unit_stride &amp;&amp;</span>
<a id="line1463"></a><span class="lineno">1463</span><span class="line">    D1 != par_order_type::impl_dim2 &amp;&amp; D2 != par_order_type::impl_dim2,</span>
<a id="line1464"></a><span class="lineno">1464</span><span class="line">    As_type&lt;Stride_unit&gt;, As_type&lt;Stride_unknown&gt; &gt;::type <a href="../../../Scopes/vsip/impl/Block_layout.LSliced2_block.LBlock.cD1.cD2.R.R.html#pack_type" title="typedef vsip::impl::Block_layout&lt;Sliced2_block&lt;Block,D1,D2&gt;&gt;::pack_type">pack_type</a>;</span>
<a id="line1465"></a><span class="lineno">1465</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Block_layout.html#complex_type" title="typedef vsip::impl::Block_layout::complex_type">typename Block_layout&lt;Block&gt;::complex_type</a> <a href="../../../Scopes/vsip/impl/Block_layout.LSliced2_block.LBlock.cD1.cD2.R.R.html#complex_type" title="typedef vsip::impl::Block_layout&lt;Sliced2_block&lt;Block,D1,D2&gt;&gt;::complex_type">complex_type</a>;</span>
<a id="line1466"></a><span class="lineno">1466</span>
<a id="line1467"></a><span class="lineno">1467</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Layout.html" title="struct vsip::impl::Layout">Layout</a>&lt;<a href="../../../Scopes/vsip/impl/Block_layout.LSliced2_block.LBlock.cD1.cD2.R.R.html#dim" title="data member vsip::impl::Block_layout&lt;Sliced2_block&lt;Block,D1,D2&gt;&gt;::dim">dim</a>, order_type, pack_type, complex_type&gt; <a href="../../../Scopes/vsip/impl/Block_layout.LSliced2_block.LBlock.cD1.cD2.R.R.html#layout_type" title="typedef vsip::impl::Block_layout&lt;Sliced2_block&lt;Block,D1,D2&gt;&gt;::layout_type">layout_type</a>;</span>
<a id="line1468"></a><span class="lineno">1468</span><span class="line">};</span>
<a id="line1469"></a><span class="lineno">1469</span>
<a id="line1470"></a><span class="lineno">1470</span>
<a id="line1471"></a><span class="lineno">1471</span>
<a id="line1472"></a><span class="lineno">1472</span><span class="line">template &lt;typename Block&gt;</span>
<a id="line1473"></a><span class="lineno">1473</span><span class="line"><span class="keyword">struct</span> <a href="../../../Scopes/vsip/impl/Distributed_local_block.LSubset_block.LBlock.R.R.html" title="struct vsip::impl::Distributed_local_block&lt;Subset_block&lt;Block&gt;&gt;">Distributed_local_block&lt;Subset_block&lt;Block&gt; &gt;</a></span>
<a id="line1474"></a><span class="lineno">1474</span><span class="line">{</span>
<a id="line1475"></a><span class="lineno">1475</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Subset_block.html" title="class vsip::impl::Subset_block">Subset_block</a>&lt;<a href="../../../Scopes/vsip/impl/Distributed_local_block.html#type" title="typedef vsip::impl::Distributed_local_block::type">typename Distributed_local_block&lt;Block&gt;::type</a>&gt; <a href="../../../Scopes/vsip/impl/Distributed_local_block.LSubset_block.LBlock.R.R.html#type" title="typedef vsip::impl::Distributed_local_block&lt;Subset_block&lt;Block&gt;&gt;::type">type</a>;</span>
<a id="line1476"></a><span class="lineno">1476</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Subset_block.html" title="class vsip::impl::Subset_block">Subset_block</a>&lt;<a href="../../../Scopes/vsip/impl/Distributed_local_block.html#proxy_type" title="typedef vsip::impl::Distributed_local_block::proxy_type">typename Distributed_local_block&lt;Block&gt;::proxy_type</a>&gt; <a href="../../../Scopes/vsip/impl/Distributed_local_block.LSubset_block.LBlock.R.R.html#proxy_type" title="typedef vsip::impl::Distributed_local_block&lt;Subset_block&lt;Block&gt;&gt;::proxy_type">proxy_type</a>;</span>
<a id="line1477"></a><span class="lineno">1477</span><span class="line">};</span>
<a id="line1478"></a><span class="lineno">1478</span>
<a id="line1479"></a><span class="lineno">1479</span>
<a id="line1480"></a><span class="lineno">1480</span>
<a id="line1481"></a><span class="lineno">1481</span><span class="line">template &lt;typename       Block,</span>
<a id="line1482"></a><span class="lineno">1482</span><span class="line">	  dimension_type D&gt;</span>
<a id="line1483"></a><span class="lineno">1483</span><span class="line"><span class="keyword">struct</span> <a href="../../../Scopes/vsip/impl/Distributed_local_block.LSliced_block.LBlock.cD.R.R.html" title="struct vsip::impl::Distributed_local_block&lt;Sliced_block&lt;Block,D&gt;&gt;">Distributed_local_block&lt;Sliced_block&lt;Block, D&gt; &gt;</a></span>
<a id="line1484"></a><span class="lineno">1484</span><span class="line">{</span>
<a id="line1485"></a><span class="lineno">1485</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Sliced_block.html" title="class vsip::impl::Sliced_block">Sliced_block</a>&lt;<a href="../../../Scopes/vsip/impl/Distributed_local_block.html#type" title="typedef vsip::impl::Distributed_local_block::type">typename Distributed_local_block&lt;Block&gt;::type</a>, D&gt; <a href="../../../Scopes/vsip/impl/Distributed_local_block.LSliced_block.LBlock.cD.R.R.html#type" title="typedef vsip::impl::Distributed_local_block&lt;Sliced_block&lt;Block,D&gt;&gt;::type">type</a>;</span>
<a id="line1486"></a><span class="lineno">1486</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Sliced_block.html" title="class vsip::impl::Sliced_block">Sliced_block</a>&lt;<a href="../../../Scopes/vsip/impl/Distributed_local_block.html#proxy_type" title="typedef vsip::impl::Distributed_local_block::proxy_type">typename Distributed_local_block&lt;Block&gt;::proxy_type</a>, D&gt; <a href="../../../Scopes/vsip/impl/Distributed_local_block.LSliced_block.LBlock.cD.R.R.html#proxy_type" title="typedef vsip::impl::Distributed_local_block&lt;Sliced_block&lt;Block,D&gt;&gt;::proxy_type">proxy_type</a>;</span>
<a id="line1487"></a><span class="lineno">1487</span><span class="line">};</span>
<a id="line1488"></a><span class="lineno">1488</span>
<a id="line1489"></a><span class="lineno">1489</span>
<a id="line1490"></a><span class="lineno">1490</span>
<a id="line1491"></a><span class="lineno">1491</span><span class="line">template &lt;typename       Block,</span>
<a id="line1492"></a><span class="lineno">1492</span><span class="line">	  dimension_type D1,</span>
<a id="line1493"></a><span class="lineno">1493</span><span class="line">	  dimension_type D2&gt; </span>
<a id="line1494"></a><span class="lineno">1494</span><span class="line"><span class="keyword">struct</span> <a href="../../../Scopes/vsip/impl/Distributed_local_block.LSliced2_block.LBlock.cD1.cD2.R.R.html" title="struct vsip::impl::Distributed_local_block&lt;Sliced2_block&lt;Block,D1,D2&gt;&gt;">Distributed_local_block&lt;Sliced2_block&lt;Block, D1, D2&gt; &gt;</a></span>
<a id="line1495"></a><span class="lineno">1495</span><span class="line">{</span>
<a id="line1496"></a><span class="lineno">1496</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Sliced2_block.html" title="class vsip::impl::Sliced2_block">Sliced2_block</a>&lt;<a href="../../../Scopes/vsip/impl/Distributed_local_block.html#type" title="typedef vsip::impl::Distributed_local_block::type">typename Distributed_local_block&lt;Block&gt;::type</a>, D1, D2&gt;</span>
<a id="line1497"></a><span class="lineno">1497</span><span class="line">		<a href="../../../Scopes/vsip/impl/Distributed_local_block.LSliced2_block.LBlock.cD1.cD2.R.R.html#type" title="typedef vsip::impl::Distributed_local_block&lt;Sliced2_block&lt;Block,D1,D2&gt;&gt;::type">type</a>;</span>
<a id="line1498"></a><span class="lineno">1498</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Sliced2_block.html" title="class vsip::impl::Sliced2_block">Sliced2_block</a>&lt;<a href="../../../Scopes/vsip/impl/Distributed_local_block.html#proxy_type" title="typedef vsip::impl::Distributed_local_block::proxy_type">typename Distributed_local_block&lt;Block&gt;::proxy_type</a>, D1, D2&gt;</span>
<a id="line1499"></a><span class="lineno">1499</span><span class="line">		<a href="../../../Scopes/vsip/impl/Distributed_local_block.LSliced2_block.LBlock.cD1.cD2.R.R.html#proxy_type" title="typedef vsip::impl::Distributed_local_block&lt;Sliced2_block&lt;Block,D1,D2&gt;&gt;::proxy_type">proxy_type</a>;</span>
<a id="line1500"></a><span class="lineno">1500</span><span class="line">};</span>
<a id="line1501"></a><span class="lineno">1501</span>
<a id="line1502"></a><span class="lineno">1502</span>
<a id="line1503"></a><span class="lineno">1503</span>
<a id="line1504"></a><span class="lineno">1504</span><span class="line">template &lt;typename Block&gt;</span>
<a id="line1505"></a><span class="lineno">1505</span><span class="line"><span class="keyword">struct</span> <a href="../../../Scopes/vsip/impl/Distributed_local_block.LTransposed_block.LBlock.R.R.html" title="struct vsip::impl::Distributed_local_block&lt;Transposed_block&lt;Block&gt;&gt;">Distributed_local_block&lt;Transposed_block&lt;Block&gt; &gt;</a></span>
<a id="line1506"></a><span class="lineno">1506</span><span class="line">{</span>
<a id="line1507"></a><span class="lineno">1507</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Transposed_block.html" title="class vsip::impl::Transposed_block">Transposed_block</a>&lt;<a href="../../../Scopes/vsip/impl/Distributed_local_block.html#type" title="typedef vsip::impl::Distributed_local_block::type">typename Distributed_local_block&lt;Block&gt;::type</a>&gt; <a href="../../../Scopes/vsip/impl/Distributed_local_block.LTransposed_block.LBlock.R.R.html#type" title="typedef vsip::impl::Distributed_local_block&lt;Transposed_block&lt;Block&gt;&gt;::type">type</a>;</span>
<a id="line1508"></a><span class="lineno">1508</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Transposed_block.html" title="class vsip::impl::Transposed_block">Transposed_block</a>&lt;<a href="../../../Scopes/vsip/impl/Distributed_local_block.html#proxy_type" title="typedef vsip::impl::Distributed_local_block::proxy_type">typename Distributed_local_block&lt;Block&gt;::proxy_type</a>&gt;</span>
<a id="line1509"></a><span class="lineno">1509</span><span class="line">		<a href="../../../Scopes/vsip/impl/Distributed_local_block.LTransposed_block.LBlock.R.R.html#proxy_type" title="typedef vsip::impl::Distributed_local_block&lt;Transposed_block&lt;Block&gt;&gt;::proxy_type">proxy_type</a>;</span>
<a id="line1510"></a><span class="lineno">1510</span><span class="line">};</span>
<a id="line1511"></a><span class="lineno">1511</span>
<a id="line1512"></a><span class="lineno">1512</span>
<a id="line1513"></a><span class="lineno">1513</span>
<a id="line1514"></a><span class="lineno">1514</span><span class="line">template &lt;typename Block,</span>
<a id="line1515"></a><span class="lineno">1515</span><span class="line">          template &lt;typename&gt; class Extractor&gt;</span>
<a id="line1516"></a><span class="lineno">1516</span><span class="line"><span class="keyword">struct</span> <a href="../../../Scopes/vsip/impl/Distributed_local_block.LComponent_block.LBlock.cExtractor.R.R.html" title="struct vsip::impl::Distributed_local_block&lt;Component_block&lt;Block,Extractor&gt;&gt;">Distributed_local_block&lt;Component_block&lt;Block, Extractor&gt; &gt;</a></span>
<a id="line1517"></a><span class="lineno">1517</span><span class="line">{</span>
<a id="line1518"></a><span class="lineno">1518</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Component_block.html" title="class vsip::impl::Component_block">Component_block</a>&lt;<a href="../../../Scopes/vsip/impl/Distributed_local_block.html#type" title="typedef vsip::impl::Distributed_local_block::type">typename Distributed_local_block&lt;Block&gt;::type</a>,</span>
<a id="line1519"></a><span class="lineno">1519</span><span class="line">			  Extractor&gt; <a href="../../../Scopes/vsip/impl/Distributed_local_block.LComponent_block.LBlock.cExtractor.R.R.html#type" title="typedef vsip::impl::Distributed_local_block&lt;Component_block&lt;Block,Extractor&gt;&gt;::type">type</a>;</span>
<a id="line1520"></a><span class="lineno">1520</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Component_block.html" title="class vsip::impl::Component_block">Component_block</a>&lt;<a href="../../../Scopes/vsip/impl/Distributed_local_block.html#proxy_type" title="typedef vsip::impl::Distributed_local_block::proxy_type">typename Distributed_local_block&lt;Block&gt;::proxy_type</a>,</span>
<a id="line1521"></a><span class="lineno">1521</span><span class="line">			  Extractor&gt; <a href="../../../Scopes/vsip/impl/Distributed_local_block.LComponent_block.LBlock.cExtractor.R.R.html#proxy_type" title="typedef vsip::impl::Distributed_local_block&lt;Component_block&lt;Block,Extractor&gt;&gt;::proxy_type">proxy_type</a>;</span>
<a id="line1522"></a><span class="lineno">1522</span><span class="line">};</span>
<a id="line1523"></a><span class="lineno">1523</span>
<a id="line1524"></a><span class="lineno">1524</span>
<a id="line1525"></a><span class="lineno">1525</span>
<a id="line1526"></a><span class="lineno">1526</span><span class="line"><span class="comment">/// Helper class to translate a distributed subset into a local subset.</span></span>
<a id="line1527"></a><span class="lineno">1527</span><span class="line"><span class="comment">///</span></span>
<a id="line1528"></a><span class="lineno">1528</span><span class="line"><span class="comment">/// In general case, ask the parent block what the local subset should be.</span></span>
<a id="line1529"></a><span class="lineno">1529</span><span class="line">template &lt;typename BlockT,</span>
<a id="line1530"></a><span class="lineno">1530</span><span class="line">	  typename MapT = typename BlockT::map_type&gt;</span>
<a id="line1531"></a><span class="lineno">1531</span><span class="line"><span class="keyword">struct</span> <a href="../../../Scopes/vsip/impl/Subset_parent_local_domain.html" title="struct vsip::impl::Subset_parent_local_domain">Subset_parent_local_domain</a></span>
<a id="line1532"></a><span class="lineno">1532</span><span class="line">{</span>
<a id="line1533"></a><span class="lineno">1533</span><span class="line">  static <a href="../../../Scopes/vsip.html#dimension_type" title="typedef vsip::dimension_type">dimension_type const</a> <a href="../../../Scopes/vsip/impl/Subset_parent_local_domain.html#dim" title="data member vsip::impl::Subset_parent_local_domain::dim">dim</a> = BlockT::dim;</span>
<a id="line1534"></a><span class="lineno">1534</span>
<a id="line1535"></a><span class="lineno">1535</span><span class="line">  static <a href="../../../Scopes/vsip/Domain.html" title="class vsip::Domain">Domain</a>&lt;<a href="../../../Scopes/vsip/impl/Subset_parent_local_domain.html#dim" title="data member vsip::impl::Subset_parent_local_domain::dim">dim</a>&gt; <a href="../../../Scopes/vsip/impl/Subset_parent_local_domain.html#parent_local_domain_lconst.BlockT_A_cindex_type_r" title="member function vsip::impl::Subset_parent_local_domain::parent_local_domain(const BlockT&amp;,index_type)">parent_local_domain</a>(BlockT const&amp; block, <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> sb)</span>
<a id="line1536"></a><span class="lineno">1536</span><span class="line">  {</span>
<a id="line1537"></a><span class="lineno">1537</span><span class="line">    <span class="keyword">return</span> <a href="" title="parameter block">block</a>.impl_block().map().impl_local_from_global_domain(<a href="" title="parameter sb">sb</a>,</span>
<a id="line1538"></a><span class="lineno">1538</span><span class="line">					<a href="" title="parameter block">block</a>.impl_domain());</span>
<a id="line1539"></a><span class="lineno">1539</span><span class="line">  }</span>
<a id="line1540"></a><span class="lineno">1540</span><span class="line">};</span>
<a id="line1541"></a><span class="lineno">1541</span>
<a id="line1542"></a><span class="lineno">1542</span>
<a id="line1543"></a><span class="lineno">1543</span>
<a id="line1544"></a><span class="lineno">1544</span><span class="line"><span class="comment">/// Specialize for Subset_map, where the local subset is currently larger than</span></span>
<a id="line1545"></a><span class="lineno">1545</span><span class="line"><span class="comment">/// what the parent thinks it should be.</span></span>
<a id="line1546"></a><span class="lineno">1546</span><span class="line">template &lt;typename       BlockT,</span>
<a id="line1547"></a><span class="lineno">1547</span><span class="line">	  dimension_type Dim&gt;</span>
<a id="line1548"></a><span class="lineno">1548</span><span class="line"><span class="keyword">struct</span> <a href="../../../Scopes/vsip/impl/Subset_parent_local_domain.LBlockT.cSubset_map.LDim.R.R.html" title="struct vsip::impl::Subset_parent_local_domain&lt;BlockT,Subset_map&lt;Dim&gt;&gt;">Subset_parent_local_domain&lt;BlockT, Subset_map&lt;Dim&gt; &gt;</a></span>
<a id="line1549"></a><span class="lineno">1549</span><span class="line">{</span>
<a id="line1550"></a><span class="lineno">1550</span><span class="line">  static <a href="../../../Scopes/vsip.html#dimension_type" title="typedef vsip::dimension_type">dimension_type const</a> <a href="../../../Scopes/vsip/impl/Subset_parent_local_domain.LBlockT.cSubset_map.LDim.R.R.html#dim" title="data member vsip::impl::Subset_parent_local_domain&lt;BlockT,Subset_map&lt;Dim&gt;&gt;::dim">dim</a> = BlockT::dim;</span>
<a id="line1551"></a><span class="lineno">1551</span>
<a id="line1552"></a><span class="lineno">1552</span><span class="line">  static <a href="../../../Scopes/vsip/Domain.html" title="class vsip::Domain">Domain</a>&lt;<a href="../../../Scopes/vsip/impl/Subset_parent_local_domain.LBlockT.cSubset_map.LDim.R.R.html#dim" title="data member vsip::impl::Subset_parent_local_domain&lt;BlockT,Subset_map&lt;Dim&gt;&gt;::dim">dim</a>&gt; <a href="../../../Scopes/vsip/impl/Subset_parent_local_domain.LBlockT.cSubset_map.LDim.R.R.html#parent_local_domain_lconst.BlockT_A_cindex_type_r" title="member function vsip::impl::Subset_parent_local_domain&lt;BlockT,Subset_map&lt;Dim&gt;&gt;::parent_local_domain(const BlockT&amp;,index_type)">parent_local_domain</a>(BlockT const&amp; block, <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> sb)</span>
<a id="line1553"></a><span class="lineno">1553</span><span class="line">  {</span>
<a id="line1554"></a><span class="lineno">1554</span><span class="line">#if 0</span>
<a id="line1555"></a><span class="lineno">1555</span><span class="line">    // consider asking Subset_map about parent's local block,</span>
<a id="line1556"></a><span class="lineno">1556</span><span class="line">    // rather than asking the parent to recompute it.</span>
<a id="line1557"></a><span class="lineno">1557</span><span class="line">    return block.map().template impl_parent_local_domain&lt;dim&gt;(sb);</span>
<a id="line1558"></a><span class="lineno">1558</span><span class="line">#else</span>
<a id="line1559"></a><span class="lineno">1559</span><span class="line">    <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> <a href="" title="local variable parent_sb">parent_sb</a> = <a href="" title="parameter block">block</a>.map().impl_parent_subblock(<a href="" title="parameter sb">sb</a>);</span>
<a id="line1560"></a><span class="lineno">1560</span><span class="line">    <span class="keyword">return</span> <a href="" title="parameter block">block</a>.impl_block().map().impl_local_from_global_domain(<a href="" title="local variable parent_sb">parent_sb</a>,</span>
<a id="line1561"></a><span class="lineno">1561</span><span class="line">					<a href="" title="parameter block">block</a>.impl_domain());</span>
<a id="line1562"></a><span class="lineno">1562</span><span class="line">#endif</span>
<a id="line1563"></a><span class="lineno">1563</span><span class="line">  }</span>
<a id="line1564"></a><span class="lineno">1564</span><span class="line">};</span>
<a id="line1565"></a><span class="lineno">1565</span>
<a id="line1566"></a><span class="lineno">1566</span>
<a id="line1567"></a><span class="lineno">1567</span>
<a id="line1568"></a><span class="lineno">1568</span><span class="line">template &lt;typename Block&gt;</span>
<a id="line1569"></a><span class="lineno">1569</span><span class="line"><a href="../../../Scopes/vsip/impl/Subset_block.html" title="class vsip::impl::Subset_block">Subset_block</a>&lt;<a href="../../../Scopes/vsip/impl/Distributed_local_block.html#type" title="typedef vsip::impl::Distributed_local_block::type">typename Distributed_local_block&lt;Block&gt;::type</a>&gt;</span>
<a id="line1570"></a><span class="lineno">1570</span><span class="line"><a href="../../../Scopes/vsip/impl.html#get_local_block_lconst.Subset_block_LBlock_R_A_r" title="function template vsip::impl::get_local_block(const Subset_block&lt;Block&gt;&amp;)">get_local_block</a>(</span>
<a id="line1571"></a><span class="lineno">1571</span><span class="line">  <a href="../../../Scopes/vsip/impl/Subset_block.html" title="class vsip::impl::Subset_block">Subset_block</a>&lt;Block&gt; const&amp; block)</span>
<a id="line1572"></a><span class="lineno">1572</span><span class="line">{</span>
<a id="line1573"></a><span class="lineno">1573</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Distributed_local_block.html#type" title="typedef vsip::impl::Distributed_local_block::type">typename Distributed_local_block&lt;Block&gt;::type</a> <a href="" title="typedef super_type">super_type</a>;</span>
<a id="line1574"></a><span class="lineno">1574</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Subset_block.html" title="class vsip::impl::Subset_block">Subset_block</a>&lt;<a href="" title="typedef super_type">super_type</a>&gt;                      <a href="" title="typedef local_block_type">local_block_type</a>;</span>
<a id="line1575"></a><span class="lineno">1575</span>
<a id="line1576"></a><span class="lineno">1576</span><span class="line">  <a href="../../../Scopes/vsip.html#dimension_type" title="typedef vsip::dimension_type">dimension_type const</a> <a href="" title="local constant dim">dim</a> = Subset_block&lt;Block&gt;::dim;</span>
<a id="line1577"></a><span class="lineno">1577</span>
<a id="line1578"></a><span class="lineno">1578</span><span class="line">  <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> <a href="" title="local variable sb">sb</a> = <a href="" title="parameter block">block</a>.<a href="../../../Scopes/vsip/impl/Subset_block.html#map_l_rconst" title="member function vsip::impl::Subset_block::map()const">map</a>().impl_rank_from_proc(<a href="../../../Scopes/vsip.html#local_processor_l_r" title="function vsip::local_processor()">local_processor</a>());</span>
<a id="line1579"></a><span class="lineno">1579</span><span class="line">  <a href="../../../Scopes/vsip/Domain.html" title="class vsip::Domain">Domain</a>&lt;<a href="" title="local constant dim">dim</a>&gt; <a href="" title="local variable dom">dom</a>;</span>
<a id="line1580"></a><span class="lineno">1580</span>
<a id="line1581"></a><span class="lineno">1581</span><span class="line">  <span class="keyword">if</span> (<a href="" title="local variable sb">sb</a> != no_subblock)</span>
<a id="line1582"></a><span class="lineno">1582</span><span class="line">    <a href="" title="local variable dom">dom</a> = Subset_parent_local_domain&lt;Subset_block&lt;Block&gt; &gt;::</span>
<a id="line1583"></a><span class="lineno">1583</span><span class="line">      parent_local_domain(<a href="" title="parameter block">block</a>, <a href="" title="local variable sb">sb</a>);</span>
<a id="line1584"></a><span class="lineno">1584</span><span class="line">  <span class="keyword">else</span></span>
<a id="line1585"></a><span class="lineno">1585</span><span class="line">    <a href="" title="local variable dom">dom</a> = <a href="../../../Scopes/vsip/impl.html#empty_domain_l_r" title="function template vsip::impl::empty_domain()">empty_domain&lt;dim&gt;</a>();</span>
<a id="line1586"></a><span class="lineno">1586</span>
<a id="line1587"></a><span class="lineno">1587</span><span class="line">  typename View_block_storage&lt;super_type&gt;::plain_type</span>
<a id="line1588"></a><span class="lineno">1588</span><span class="line">    <a href="" title="local variable super_block">super_block</a> = <a href="" title="function template vsip::impl::get_local_block(const expr::Unary&amp;)">get_local_block</a>(<a href="" title="parameter block">block</a>.<a href="../../../Scopes/vsip/impl/Subset_block.html#impl_block_l_rconst" title="member function vsip::impl::Subset_block::impl_block()const">impl_block</a>());</span>
<a id="line1589"></a><span class="lineno">1589</span>
<a id="line1590"></a><span class="lineno">1590</span><span class="line">  <span class="keyword">return</span> local_block_type(<a href="" title="local variable dom">dom</a>, <a href="" title="local variable super_block">super_block</a>);</span>
<a id="line1591"></a><span class="lineno">1591</span><span class="line">}</span>
<a id="line1592"></a><span class="lineno">1592</span>
<a id="line1593"></a><span class="lineno">1593</span>
<a id="line1594"></a><span class="lineno">1594</span>
<a id="line1595"></a><span class="lineno">1595</span><span class="line">template &lt;typename Block&gt;</span>
<a id="line1596"></a><span class="lineno">1596</span><span class="line"><a href="../../../Scopes/vsip/impl/Subset_block.html" title="class vsip::impl::Subset_block">Subset_block</a>&lt;<a href="../../../Scopes/vsip/impl/Distributed_local_block.html#proxy_type" title="typedef vsip::impl::Distributed_local_block::proxy_type">typename Distributed_local_block&lt;Block&gt;::proxy_type</a>&gt;</span>
<a id="line1597"></a><span class="lineno">1597</span><span class="line"><a href="../../../Scopes/vsip/impl.html#get_local_proxy_lconst.Subset_block_LBlock_R_A_cindex_type_r" title="function template vsip::impl::get_local_proxy(const Subset_block&lt;Block&gt;&amp;,index_type)">get_local_proxy</a>(</span>
<a id="line1598"></a><span class="lineno">1598</span><span class="line">  <a href="../../../Scopes/vsip/impl/Subset_block.html" title="class vsip::impl::Subset_block">Subset_block</a>&lt;Block&gt; const&amp; block,</span>
<a id="line1599"></a><span class="lineno">1599</span><span class="line">  <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a>                    sb)</span>
<a id="line1600"></a><span class="lineno">1600</span><span class="line">{</span>
<a id="line1601"></a><span class="lineno">1601</span><span class="line">  static <a href="../../../Scopes/vsip.html#dimension_type" title="typedef vsip::dimension_type">dimension_type const</a> <a href="" title="local constant dim">dim</a> = Block::dim;</span>
<a id="line1602"></a><span class="lineno">1602</span>
<a id="line1603"></a><span class="lineno">1603</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Distributed_local_block.html#proxy_type" title="typedef vsip::impl::Distributed_local_block::proxy_type">typename Distributed_local_block&lt;Block&gt;::proxy_type</a> <a href="" title="typedef super_type">super_type</a>;</span>
<a id="line1604"></a><span class="lineno">1604</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Subset_block.html" title="class vsip::impl::Subset_block">Subset_block</a>&lt;<a href="" title="typedef super_type">super_type</a>&gt;                            <a href="" title="typedef local_proxy_type">local_proxy_type</a>;</span>
<a id="line1605"></a><span class="lineno">1605</span>
<a id="line1606"></a><span class="lineno">1606</span><span class="line">  <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> <a href="" title="local variable super_sb">super_sb</a> = Subset_block_map&lt;dim, typename Block::map_type&gt;::</span>
<a id="line1607"></a><span class="lineno">1607</span><span class="line">    parent_subblock(<a href="" title="parameter block">block</a>.<a href="../../../Scopes/vsip/impl/Subset_block.html#impl_block_l_rconst" title="member function vsip::impl::Subset_block::impl_block()const">impl_block</a>().map(), <a href="" title="parameter block">block</a>.<a href="../../../Scopes/vsip/impl/Subset_block.html#impl_domain_l_rconst" title="member function vsip::impl::Subset_block::impl_domain()const">impl_domain</a>(), <a href="" title="parameter sb">sb</a>);</span>
<a id="line1608"></a><span class="lineno">1608</span>
<a id="line1609"></a><span class="lineno">1609</span><span class="line">  <a href="../../../Scopes/vsip/Domain.html" title="class vsip::Domain">Domain</a>&lt;<a href="" title="local constant dim">dim</a>&gt; <a href="" title="local variable l_dom">l_dom</a> = <a href="" title="parameter block">block</a>.<a href="../../../Scopes/vsip/impl/Subset_block.html#impl_block_l_rconst" title="member function vsip::impl::Subset_block::impl_block()const">impl_block</a>().map().</span>
<a id="line1610"></a><span class="lineno">1610</span><span class="line">    impl_local_from_global_domain(<a href="" title="parameter sb">sb</a>,</span>
<a id="line1611"></a><span class="lineno">1611</span><span class="line">				  <a href="" title="parameter block">block</a>.<a href="../../../Scopes/vsip/impl/Subset_block.html#impl_domain_l_rconst" title="member function vsip::impl::Subset_block::impl_domain()const">impl_domain</a>());</span>
<a id="line1612"></a><span class="lineno">1612</span>
<a id="line1613"></a><span class="lineno">1613</span><span class="line">  typename View_block_storage&lt;super_type&gt;::plain_type</span>
<a id="line1614"></a><span class="lineno">1614</span><span class="line">    <a href="" title="local variable super_block">super_block</a> = <a href="../../../Scopes/vsip/impl.html#get_local_proxy_lconst.Subset_block_LBlock_R_A_cindex_type_r" title="function template vsip::impl::get_local_proxy(const Subset_block&lt;Block&gt;&amp;,index_type)">get_local_proxy</a>(<a href="" title="parameter block">block</a>.<a href="../../../Scopes/vsip/impl/Subset_block.html#impl_block_l_rconst" title="member function vsip::impl::Subset_block::impl_block()const">impl_block</a>(), <a href="" title="local variable super_sb">super_sb</a>);</span>
<a id="line1615"></a><span class="lineno">1615</span>
<a id="line1616"></a><span class="lineno">1616</span><span class="line">  <span class="keyword">return</span> local_proxy_type(<a href="" title="local variable l_dom">l_dom</a>, <a href="" title="local variable super_block">super_block</a>);</span>
<a id="line1617"></a><span class="lineno">1617</span><span class="line">}</span>
<a id="line1618"></a><span class="lineno">1618</span>
<a id="line1619"></a><span class="lineno">1619</span>
<a id="line1620"></a><span class="lineno">1620</span>
<a id="line1621"></a><span class="lineno">1621</span><span class="line">template &lt;typename       Block,</span>
<a id="line1622"></a><span class="lineno">1622</span><span class="line">	  dimension_type D&gt;</span>
<a id="line1623"></a><span class="lineno">1623</span><span class="line"><a href="../../../Scopes/vsip/impl/Sliced_block.html" title="class vsip::impl::Sliced_block">Sliced_block</a>&lt;<a href="../../../Scopes/vsip/impl/Distributed_local_block.html#type" title="typedef vsip::impl::Distributed_local_block::type">typename Distributed_local_block&lt;Block&gt;::type</a>, D&gt;</span>
<a id="line1624"></a><span class="lineno">1624</span><span class="line"><a href="../../../Scopes/vsip/impl.html#get_local_block_lconst.Sliced_block_LBlock_cD_R_A_r" title="function template vsip::impl::get_local_block(const Sliced_block&lt;Block,D&gt;&amp;)">get_local_block</a>(</span>
<a id="line1625"></a><span class="lineno">1625</span><span class="line">  <a href="../../../Scopes/vsip/impl/Sliced_block.html" title="class vsip::impl::Sliced_block">Sliced_block</a>&lt;Block, D&gt; const&amp; block)</span>
<a id="line1626"></a><span class="lineno">1626</span><span class="line">{</span>
<a id="line1627"></a><span class="lineno">1627</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Sliced_block.html" title="class vsip::impl::Sliced_block">Sliced_block</a>&lt;<a href="../../../Scopes/vsip/impl/Distributed_local_block.html#type" title="typedef vsip::impl::Distributed_local_block::type">typename Distributed_local_block&lt;Block&gt;::type</a>, D&gt;</span>
<a id="line1628"></a><span class="lineno">1628</span><span class="line">	<a href="" title="typedef local_block_type">local_block_type</a>;</span>
<a id="line1629"></a><span class="lineno">1629</span>
<a id="line1630"></a><span class="lineno">1630</span><span class="line">  // This conversion is only valid if the local processor holds</span>
<a id="line1631"></a><span class="lineno">1631</span><span class="line">  // the subblock containing the slice.</span>
<a id="line1632"></a><span class="lineno">1632</span>
<a id="line1633"></a><span class="lineno">1633</span><span class="line">  <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> <a href="" title="local variable idx">idx</a>;</span>
<a id="line1634"></a><span class="lineno">1634</span><span class="line">  <span class="keyword">if</span> (<a href="" title="parameter block">block</a>.map().subblock() != no_subblock)</span>
<a id="line1635"></a><span class="lineno">1635</span><span class="line">    <a href="" title="local variable idx">idx</a> = <a href="" title="parameter block">block</a>.impl_block().map().</span>
<a id="line1636"></a><span class="lineno">1636</span><span class="line">      impl_local_from_global_index(D, <a href="" title="parameter block">block</a>.impl_index());</span>
<a id="line1637"></a><span class="lineno">1637</span><span class="line">  <span class="keyword">else</span></span>
<a id="line1638"></a><span class="lineno">1638</span><span class="line">    <a href="" title="local variable idx">idx</a> = no_index;</span>
<a id="line1639"></a><span class="lineno">1639</span>
<a id="line1640"></a><span class="lineno">1640</span><span class="line">  <span class="keyword">return</span> local_block_type(<a href="../../../Scopes/vsip/impl.html#get_local_block_lconst.Sliced_block_LBlock_cD_R_A_r" title="function template vsip::impl::get_local_block(const Sliced_block&lt;Block,D&gt;&amp;)">get_local_block</a>(<a href="" title="parameter block">block</a>.impl_block()), <a href="" title="local variable idx">idx</a>);</span>
<a id="line1641"></a><span class="lineno">1641</span><span class="line">}</span>
<a id="line1642"></a><span class="lineno">1642</span>
<a id="line1643"></a><span class="lineno">1643</span>
<a id="line1644"></a><span class="lineno">1644</span>
<a id="line1645"></a><span class="lineno">1645</span><span class="line">template &lt;typename       Block,</span>
<a id="line1646"></a><span class="lineno">1646</span><span class="line">	  dimension_type D&gt;</span>
<a id="line1647"></a><span class="lineno">1647</span><span class="line"><a href="../../../Scopes/vsip/impl/Sliced_block.html" title="class vsip::impl::Sliced_block">Sliced_block</a>&lt;<a href="../../../Scopes/vsip/impl/Distributed_local_block.html#proxy_type" title="typedef vsip::impl::Distributed_local_block::proxy_type">typename Distributed_local_block&lt;Block&gt;::proxy_type</a>, D&gt;</span>
<a id="line1648"></a><span class="lineno">1648</span><span class="line"><a href="../../../Scopes/vsip/impl.html#get_local_proxy_lconst.Sliced_block_LBlock_cD_R_A_cindex_type_r" title="function template vsip::impl::get_local_proxy(const Sliced_block&lt;Block,D&gt;&amp;,index_type)">get_local_proxy</a>(</span>
<a id="line1649"></a><span class="lineno">1649</span><span class="line">  <a href="../../../Scopes/vsip/impl/Sliced_block.html" title="class vsip::impl::Sliced_block">Sliced_block</a>&lt;Block, D&gt; const&amp; block,</span>
<a id="line1650"></a><span class="lineno">1650</span><span class="line">  <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a>                    sb)</span>
<a id="line1651"></a><span class="lineno">1651</span><span class="line">{</span>
<a id="line1652"></a><span class="lineno">1652</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Distributed_local_block.html#proxy_type" title="typedef vsip::impl::Distributed_local_block::proxy_type">typename Distributed_local_block&lt;Block&gt;::proxy_type</a> <a href="" title="typedef super_type">super_type</a>;</span>
<a id="line1653"></a><span class="lineno">1653</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Sliced_block.html" title="class vsip::impl::Sliced_block">Sliced_block</a>&lt;<a href="" title="typedef super_type">super_type</a>, D&gt;                         <a href="" title="typedef local_proxy_type">local_proxy_type</a>;</span>
<a id="line1654"></a><span class="lineno">1654</span>
<a id="line1655"></a><span class="lineno">1655</span><span class="line">  <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> <a href="" title="local variable super_sb">super_sb</a> = Sliced_block_map&lt;typename Block::map_type, D&gt;::</span>
<a id="line1656"></a><span class="lineno">1656</span><span class="line">    parent_subblock(<a href="" title="parameter block">block</a>.impl_block().map(), <a href="" title="parameter block">block</a>.impl_index(), <a href="" title="parameter sb">sb</a>);</span>
<a id="line1657"></a><span class="lineno">1657</span>
<a id="line1658"></a><span class="lineno">1658</span><span class="line">  <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> <a href="" title="local variable l_idx">l_idx</a> = <a href="" title="parameter block">block</a>.impl_block().map().</span>
<a id="line1659"></a><span class="lineno">1659</span><span class="line">      impl_local_from_global_index(D, <a href="" title="parameter block">block</a>.impl_index());</span>
<a id="line1660"></a><span class="lineno">1660</span>
<a id="line1661"></a><span class="lineno">1661</span><span class="line">  typename View_block_storage&lt;super_type&gt;::plain_type</span>
<a id="line1662"></a><span class="lineno">1662</span><span class="line">    <a href="" title="local variable super_block">super_block</a> = <a href="../../../Scopes/vsip/impl.html#get_local_proxy_lconst.Sliced_block_LBlock_cD_R_A_cindex_type_r" title="function template vsip::impl::get_local_proxy(const Sliced_block&lt;Block,D&gt;&amp;,index_type)">get_local_proxy</a>(<a href="" title="parameter block">block</a>.impl_block(), <a href="" title="local variable super_sb">super_sb</a>);</span>
<a id="line1663"></a><span class="lineno">1663</span><span class="line">  <span class="keyword">return</span> local_proxy_type(<a href="" title="local variable super_block">super_block</a>, <a href="" title="local variable l_idx">l_idx</a>);</span>
<a id="line1664"></a><span class="lineno">1664</span><span class="line">}</span>
<a id="line1665"></a><span class="lineno">1665</span>
<a id="line1666"></a><span class="lineno">1666</span>
<a id="line1667"></a><span class="lineno">1667</span>
<a id="line1668"></a><span class="lineno">1668</span><span class="line">template &lt;typename       Block,</span>
<a id="line1669"></a><span class="lineno">1669</span><span class="line">	  dimension_type D1,</span>
<a id="line1670"></a><span class="lineno">1670</span><span class="line">	  dimension_type D2&gt;</span>
<a id="line1671"></a><span class="lineno">1671</span><span class="line"><a href="../../../Scopes/vsip/impl/Sliced2_block.html" title="class vsip::impl::Sliced2_block">Sliced2_block</a>&lt;<a href="../../../Scopes/vsip/impl/Distributed_local_block.html#type" title="typedef vsip::impl::Distributed_local_block::type">typename Distributed_local_block&lt;Block&gt;::type</a>, D1, D2&gt;</span>
<a id="line1672"></a><span class="lineno">1672</span><span class="line"><a href="../../../Scopes/vsip/impl.html#get_local_block_lconst.Sliced2_block_LBlock_cD1_cD2_R_A_r" title="function template vsip::impl::get_local_block(const Sliced2_block&lt;Block,D1,D2&gt;&amp;)">get_local_block</a>(</span>
<a id="line1673"></a><span class="lineno">1673</span><span class="line">  <a href="../../../Scopes/vsip/impl/Sliced2_block.html" title="class vsip::impl::Sliced2_block">Sliced2_block</a>&lt;Block, D1, D2&gt; const&amp; block)</span>
<a id="line1674"></a><span class="lineno">1674</span><span class="line">{</span>
<a id="line1675"></a><span class="lineno">1675</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Sliced2_block.html" title="class vsip::impl::Sliced2_block">Sliced2_block</a>&lt;<a href="../../../Scopes/vsip/impl/Distributed_local_block.html#type" title="typedef vsip::impl::Distributed_local_block::type">typename Distributed_local_block&lt;Block&gt;::type</a>, D1, D2&gt;</span>
<a id="line1676"></a><span class="lineno">1676</span><span class="line">	<a href="" title="typedef local_block_type">local_block_type</a>;</span>
<a id="line1677"></a><span class="lineno">1677</span>
<a id="line1678"></a><span class="lineno">1678</span><span class="line">  <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> <a href="" title="local variable idx1">idx1</a> = <a href="" title="parameter block">block</a>.impl_block().map().</span>
<a id="line1679"></a><span class="lineno">1679</span><span class="line">    impl_local_from_global_index(D1, <a href="" title="parameter block">block</a>.impl_index1());</span>
<a id="line1680"></a><span class="lineno">1680</span><span class="line">  <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> <a href="" title="local variable idx2">idx2</a> = <a href="" title="parameter block">block</a>.impl_block().map().</span>
<a id="line1681"></a><span class="lineno">1681</span><span class="line">    impl_local_from_global_index(D2, <a href="" title="parameter block">block</a>.impl_index2());</span>
<a id="line1682"></a><span class="lineno">1682</span>
<a id="line1683"></a><span class="lineno">1683</span><span class="line">  <span class="keyword">return</span> local_block_type(<a href="../../../Scopes/vsip/impl.html#get_local_block_lconst.Sliced2_block_LBlock_cD1_cD2_R_A_r" title="function template vsip::impl::get_local_block(const Sliced2_block&lt;Block,D1,D2&gt;&amp;)">get_local_block</a>(<a href="" title="parameter block">block</a>.impl_block()), <a href="" title="local variable idx1">idx1</a>, <a href="" title="local variable idx2">idx2</a>);</span>
<a id="line1684"></a><span class="lineno">1684</span><span class="line">}</span>
<a id="line1685"></a><span class="lineno">1685</span>
<a id="line1686"></a><span class="lineno">1686</span>
<a id="line1687"></a><span class="lineno">1687</span>
<a id="line1688"></a><span class="lineno">1688</span><span class="line">template &lt;typename       Block,</span>
<a id="line1689"></a><span class="lineno">1689</span><span class="line">	  dimension_type D1,</span>
<a id="line1690"></a><span class="lineno">1690</span><span class="line">	  dimension_type D2&gt;</span>
<a id="line1691"></a><span class="lineno">1691</span><span class="line"><a href="../../../Scopes/vsip/impl/Sliced2_block.html" title="class vsip::impl::Sliced2_block">Sliced2_block</a>&lt;<a href="../../../Scopes/vsip/impl/Distributed_local_block.html#proxy_type" title="typedef vsip::impl::Distributed_local_block::proxy_type">typename Distributed_local_block&lt;Block&gt;::proxy_type</a>, D1, D2&gt;</span>
<a id="line1692"></a><span class="lineno">1692</span><span class="line"><a href="../../../Scopes/vsip/impl.html#get_local_proxy_lconst.Sliced2_block_LBlock_cD1_cD2_R_A_cindex_type_r" title="function template vsip::impl::get_local_proxy(const Sliced2_block&lt;Block,D1,D2&gt;&amp;,index_type)">get_local_proxy</a>(</span>
<a id="line1693"></a><span class="lineno">1693</span><span class="line">  <a href="../../../Scopes/vsip/impl/Sliced2_block.html" title="class vsip::impl::Sliced2_block">Sliced2_block</a>&lt;Block, D1, D2&gt; const&amp; block,</span>
<a id="line1694"></a><span class="lineno">1694</span><span class="line">  <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a>                          sb)</span>
<a id="line1695"></a><span class="lineno">1695</span><span class="line">{</span>
<a id="line1696"></a><span class="lineno">1696</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Distributed_local_block.html#proxy_type" title="typedef vsip::impl::Distributed_local_block::proxy_type">typename Distributed_local_block&lt;Block&gt;::proxy_type</a> <a href="" title="typedef super_type">super_type</a>;</span>
<a id="line1697"></a><span class="lineno">1697</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Sliced2_block.html" title="class vsip::impl::Sliced2_block">Sliced2_block</a>&lt;<a href="" title="typedef super_type">super_type</a>, D1, D2&gt;                   <a href="" title="typedef local_block_type">local_block_type</a>;</span>
<a id="line1698"></a><span class="lineno">1698</span>
<a id="line1699"></a><span class="lineno">1699</span><span class="line">  <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> <a href="" title="local variable l_idx1">l_idx1</a> = <a href="" title="parameter block">block</a>.impl_block().map().</span>
<a id="line1700"></a><span class="lineno">1700</span><span class="line">    impl_local_from_global_index(D1, <a href="" title="parameter block">block</a>.impl_index1());</span>
<a id="line1701"></a><span class="lineno">1701</span><span class="line">  <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> <a href="" title="local variable l_idx2">l_idx2</a> = <a href="" title="parameter block">block</a>.impl_block().map().</span>
<a id="line1702"></a><span class="lineno">1702</span><span class="line">    impl_local_from_global_index(D2, <a href="" title="parameter block">block</a>.impl_index2());</span>
<a id="line1703"></a><span class="lineno">1703</span>
<a id="line1704"></a><span class="lineno">1704</span><span class="line">  <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> <a href="" title="local variable super_sb">super_sb</a> = Sliced2_block_map&lt;typename Block::map_type, D1, D2&gt;::</span>
<a id="line1705"></a><span class="lineno">1705</span><span class="line">    parent_subblock(<a href="" title="parameter block">block</a>.impl_block().map(),</span>
<a id="line1706"></a><span class="lineno">1706</span><span class="line">		    <a href="" title="parameter block">block</a>.impl_index1(), <a href="" title="parameter block">block</a>.impl_index2(), <a href="" title="parameter sb">sb</a>);</span>
<a id="line1707"></a><span class="lineno">1707</span>
<a id="line1708"></a><span class="lineno">1708</span><span class="line">  typename View_block_storage&lt;super_type&gt;::plain_type</span>
<a id="line1709"></a><span class="lineno">1709</span><span class="line">    <a href="" title="local variable super_block">super_block</a> = <a href="../../../Scopes/vsip/impl.html#get_local_proxy_lconst.Sliced2_block_LBlock_cD1_cD2_R_A_cindex_type_r" title="function template vsip::impl::get_local_proxy(const Sliced2_block&lt;Block,D1,D2&gt;&amp;,index_type)">get_local_proxy</a>(<a href="" title="parameter block">block</a>.impl_block(), <a href="" title="local variable super_sb">super_sb</a>);</span>
<a id="line1710"></a><span class="lineno">1710</span>
<a id="line1711"></a><span class="lineno">1711</span><span class="line">  <span class="keyword">return</span> local_block_type(<a href="" title="function template vsip::impl::get_local_block(const expr::Unary&amp;)">get_local_block</a>(<a href="" title="parameter block">block</a>.impl_block()), <a href="" title="local variable l_idx1">l_idx1</a>, <a href="" title="local variable l_idx2">l_idx2</a>);</span>
<a id="line1712"></a><span class="lineno">1712</span><span class="line">}</span>
<a id="line1713"></a><span class="lineno">1713</span>
<a id="line1714"></a><span class="lineno">1714</span>
<a id="line1715"></a><span class="lineno">1715</span>
<a id="line1716"></a><span class="lineno">1716</span><span class="line">template &lt;typename Block&gt;</span>
<a id="line1717"></a><span class="lineno">1717</span><span class="line"><a href="../../../Scopes/vsip/impl/Transposed_block.html" title="class vsip::impl::Transposed_block">Transposed_block</a>&lt;<a href="../../../Scopes/vsip/impl/Distributed_local_block.html#type" title="typedef vsip::impl::Distributed_local_block::type">typename Distributed_local_block&lt;Block&gt;::type</a>&gt;</span>
<a id="line1718"></a><span class="lineno">1718</span><span class="line"><a href="../../../Scopes/vsip/impl.html#get_local_block_lconst.Transposed_block_LBlock_R_A_r" title="function template vsip::impl::get_local_block(const Transposed_block&lt;Block&gt;&amp;)">get_local_block</a>(</span>
<a id="line1719"></a><span class="lineno">1719</span><span class="line">  <a href="../../../Scopes/vsip/impl/Transposed_block.html" title="class vsip::impl::Transposed_block">Transposed_block</a>&lt;Block&gt; const&amp; block)</span>
<a id="line1720"></a><span class="lineno">1720</span><span class="line">{</span>
<a id="line1721"></a><span class="lineno">1721</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Distributed_local_block.html#type" title="typedef vsip::impl::Distributed_local_block::type">typename Distributed_local_block&lt;Block&gt;::type</a> <a href="" title="typedef super_type">super_type</a>;</span>
<a id="line1722"></a><span class="lineno">1722</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Transposed_block.html" title="class vsip::impl::Transposed_block">Transposed_block</a>&lt;<a href="" title="typedef super_type">super_type</a>&gt;                  <a href="" title="typedef local_block_type">local_block_type</a>;</span>
<a id="line1723"></a><span class="lineno">1723</span>
<a id="line1724"></a><span class="lineno">1724</span><span class="line">  typename View_block_storage&lt;super_type&gt;::plain_type</span>
<a id="line1725"></a><span class="lineno">1725</span><span class="line">    <a href="" title="local variable super_block">super_block</a> = <a href="" title="function template vsip::impl::get_local_block(const expr::Unary&amp;)">get_local_block</a>(<a href="" title="parameter block">block</a>.<a href="../../../Scopes/vsip/impl/Transposed_block.html#impl_block_l_rconst" title="member function vsip::impl::Transposed_block::impl_block()const">impl_block</a>());</span>
<a id="line1726"></a><span class="lineno">1726</span>
<a id="line1727"></a><span class="lineno">1727</span><span class="line">  <span class="keyword">return</span> local_block_type(<a href="" title="local variable super_block">super_block</a>);</span>
<a id="line1728"></a><span class="lineno">1728</span><span class="line">}</span>
<a id="line1729"></a><span class="lineno">1729</span>
<a id="line1730"></a><span class="lineno">1730</span>
<a id="line1731"></a><span class="lineno">1731</span>
<a id="line1732"></a><span class="lineno">1732</span><span class="line">template &lt;typename Block&gt;</span>
<a id="line1733"></a><span class="lineno">1733</span><span class="line"><a href="../../../Scopes/vsip/impl/Transposed_block.html" title="class vsip::impl::Transposed_block">Transposed_block</a>&lt;<a href="../../../Scopes/vsip/impl/Distributed_local_block.html#proxy_type" title="typedef vsip::impl::Distributed_local_block::proxy_type">typename Distributed_local_block&lt;Block&gt;::proxy_type</a>&gt;</span>
<a id="line1734"></a><span class="lineno">1734</span><span class="line"><a href="../../../Scopes/vsip/impl.html#get_local_proxy_lconst.Transposed_block_LBlock_R_A_cindex_type_r" title="function template vsip::impl::get_local_proxy(const Transposed_block&lt;Block&gt;&amp;,index_type)">get_local_proxy</a>(</span>
<a id="line1735"></a><span class="lineno">1735</span><span class="line">  <a href="../../../Scopes/vsip/impl/Transposed_block.html" title="class vsip::impl::Transposed_block">Transposed_block</a>&lt;Block&gt; const&amp; block,</span>
<a id="line1736"></a><span class="lineno">1736</span><span class="line">  <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a>                     sb)</span>
<a id="line1737"></a><span class="lineno">1737</span><span class="line">{</span>
<a id="line1738"></a><span class="lineno">1738</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Distributed_local_block.html#proxy_type" title="typedef vsip::impl::Distributed_local_block::proxy_type">typename Distributed_local_block&lt;Block&gt;::proxy_type</a> <a href="" title="typedef super_type">super_type</a>;</span>
<a id="line1739"></a><span class="lineno">1739</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Transposed_block.html" title="class vsip::impl::Transposed_block">Transposed_block</a>&lt;<a href="" title="typedef super_type">super_type</a>&gt;                        <a href="" title="typedef local_proxy_type">local_proxy_type</a>;</span>
<a id="line1740"></a><span class="lineno">1740</span>
<a id="line1741"></a><span class="lineno">1741</span><span class="line">  typename View_block_storage&lt;super_type&gt;::plain_type</span>
<a id="line1742"></a><span class="lineno">1742</span><span class="line">    <a href="" title="local variable super_block">super_block</a> = <a href="../../../Scopes/vsip/impl.html#get_local_proxy_lconst.Subset_block_LBlock_R_A_cindex_type_r" title="function template vsip::impl::get_local_proxy(const Subset_block&lt;Block&gt;&amp;,index_type)">get_local_proxy</a>(<a href="" title="parameter block">block</a>.<a href="../../../Scopes/vsip/impl/Transposed_block.html#impl_block_l_rconst" title="member function vsip::impl::Transposed_block::impl_block()const">impl_block</a>(), <a href="" title="parameter sb">sb</a>);</span>
<a id="line1743"></a><span class="lineno">1743</span>
<a id="line1744"></a><span class="lineno">1744</span><span class="line">  <span class="keyword">return</span> local_proxy_type(<a href="" title="local variable super_block">super_block</a>);</span>
<a id="line1745"></a><span class="lineno">1745</span><span class="line">}</span>
<a id="line1746"></a><span class="lineno">1746</span>
<a id="line1747"></a><span class="lineno">1747</span>
<a id="line1748"></a><span class="lineno">1748</span>
<a id="line1749"></a><span class="lineno">1749</span><span class="line">template &lt;typename Block,</span>
<a id="line1750"></a><span class="lineno">1750</span><span class="line">          template &lt;typename&gt; class Extractor&gt;</span>
<a id="line1751"></a><span class="lineno">1751</span><span class="line"><a href="../../../Scopes/vsip/impl/Component_block.html" title="class vsip::impl::Component_block">Component_block</a>&lt;<a href="../../../Scopes/vsip/impl/Distributed_local_block.html#type" title="typedef vsip::impl::Distributed_local_block::type">typename Distributed_local_block&lt;Block&gt;::type</a>, Extractor&gt;</span>
<a id="line1752"></a><span class="lineno">1752</span><span class="line"><a href="../../../Scopes/vsip/impl.html#get_local_block_lconst.Component_block_LBlock_cExtractor_R_A_r" title="function template vsip::impl::get_local_block(const Component_block&lt;Block,Extractor&gt;&amp;)">get_local_block</a>(</span>
<a id="line1753"></a><span class="lineno">1753</span><span class="line">  <a href="../../../Scopes/vsip/impl/Component_block.html" title="class vsip::impl::Component_block">Component_block</a>&lt;Block, Extractor&gt; const&amp; block)</span>
<a id="line1754"></a><span class="lineno">1754</span><span class="line">{</span>
<a id="line1755"></a><span class="lineno">1755</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Distributed_local_block.html#type" title="typedef vsip::impl::Distributed_local_block::type">typename Distributed_local_block&lt;Block&gt;::type</a> <a href="" title="typedef super_type">super_type</a>;</span>
<a id="line1756"></a><span class="lineno">1756</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Component_block.html" title="class vsip::impl::Component_block">Component_block</a>&lt;<a href="" title="typedef super_type">super_type</a>, Extractor&gt;        <a href="" title="typedef local_block_type">local_block_type</a>;</span>
<a id="line1757"></a><span class="lineno">1757</span>
<a id="line1758"></a><span class="lineno">1758</span><span class="line">  typename View_block_storage&lt;super_type&gt;::plain_type</span>
<a id="line1759"></a><span class="lineno">1759</span><span class="line">    <a href="" title="local variable super_block">super_block</a> = <a href="" title="function template vsip::impl::get_local_block(const expr::Unary&amp;)">get_local_block</a>(<a href="" title="parameter block">block</a>.<a href="../../../Scopes/vsip/impl/Component_block.html#impl_block_l_rconst" title="member function vsip::impl::Component_block::impl_block()const">impl_block</a>());</span>
<a id="line1760"></a><span class="lineno">1760</span>
<a id="line1761"></a><span class="lineno">1761</span><span class="line">  <span class="keyword">return</span> local_block_type(<a href="" title="local variable super_block">super_block</a>);</span>
<a id="line1762"></a><span class="lineno">1762</span><span class="line">}</span>
<a id="line1763"></a><span class="lineno">1763</span>
<a id="line1764"></a><span class="lineno">1764</span>
<a id="line1765"></a><span class="lineno">1765</span>
<a id="line1766"></a><span class="lineno">1766</span><span class="line">template &lt;typename Block,</span>
<a id="line1767"></a><span class="lineno">1767</span><span class="line">          template &lt;typename&gt; class Extractor&gt;</span>
<a id="line1768"></a><span class="lineno">1768</span><span class="line"><a href="../../../Scopes/vsip/impl/Component_block.html" title="class vsip::impl::Component_block">Component_block</a>&lt;<a href="../../../Scopes/vsip/impl/Distributed_local_block.html#proxy_type" title="typedef vsip::impl::Distributed_local_block::proxy_type">typename Distributed_local_block&lt;Block&gt;::proxy_type</a>, Extractor&gt;</span>
<a id="line1769"></a><span class="lineno">1769</span><span class="line"><a href="../../../Scopes/vsip/impl.html#get_local_proxy_lconst.Component_block_LBlock_cExtractor_R_A_cindex_type_r" title="function template vsip::impl::get_local_proxy(const Component_block&lt;Block,Extractor&gt;&amp;,index_type)">get_local_proxy</a>(</span>
<a id="line1770"></a><span class="lineno">1770</span><span class="line">  <a href="../../../Scopes/vsip/impl/Component_block.html" title="class vsip::impl::Component_block">Component_block</a>&lt;Block, Extractor&gt; const&amp; block,</span>
<a id="line1771"></a><span class="lineno">1771</span><span class="line">  <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a>                               sb)</span>
<a id="line1772"></a><span class="lineno">1772</span><span class="line">{</span>
<a id="line1773"></a><span class="lineno">1773</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Distributed_local_block.html#proxy_type" title="typedef vsip::impl::Distributed_local_block::proxy_type">typename Distributed_local_block&lt;Block&gt;::proxy_type</a> <a href="" title="typedef super_type">super_type</a>;</span>
<a id="line1774"></a><span class="lineno">1774</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Component_block.html" title="class vsip::impl::Component_block">Component_block</a>&lt;<a href="" title="typedef super_type">super_type</a>, Extractor&gt;              <a href="" title="typedef local_proxy_type">local_proxy_type</a>;</span>
<a id="line1775"></a><span class="lineno">1775</span>
<a id="line1776"></a><span class="lineno">1776</span><span class="line">  typename View_block_storage&lt;super_type&gt;::plain_type</span>
<a id="line1777"></a><span class="lineno">1777</span><span class="line">    <a href="" title="local variable super_block">super_block</a> = <a href="../../../Scopes/vsip/impl.html#get_local_proxy_lconst.Subset_block_LBlock_R_A_cindex_type_r" title="function template vsip::impl::get_local_proxy(const Subset_block&lt;Block&gt;&amp;,index_type)">get_local_proxy</a>(<a href="" title="parameter block">block</a>.<a href="../../../Scopes/vsip/impl/Component_block.html#impl_block_l_rconst" title="member function vsip::impl::Component_block::impl_block()const">impl_block</a>(), <a href="" title="parameter sb">sb</a>);</span>
<a id="line1778"></a><span class="lineno">1778</span>
<a id="line1779"></a><span class="lineno">1779</span><span class="line">  <span class="keyword">return</span> local_proxy_type(<a href="" title="local variable super_block">super_block</a>);</span>
<a id="line1780"></a><span class="lineno">1780</span><span class="line">}</span>
<a id="line1781"></a><span class="lineno">1781</span>
<a id="line1782"></a><span class="lineno">1782</span>
<a id="line1783"></a><span class="lineno">1783</span>
<a id="line1784"></a><span class="lineno">1784</span>
<a id="line1785"></a><span class="lineno">1785</span>
<a id="line1786"></a><span class="lineno">1786</span>
<a id="line1787"></a><span class="lineno">1787</span><span class="line">template &lt;typename Block&gt;</span>
<a id="line1788"></a><span class="lineno">1788</span><span class="line"><span class="keyword">void</span></span>
<a id="line1789"></a><span class="lineno">1789</span><span class="line"><a href="../../../Scopes/vsip/impl.html#assert_local_lconst.Subset_block_LBlock_R_A_cindex_type_r" title="function template vsip::impl::assert_local(const Subset_block&lt;Block&gt;&amp;,index_type)">assert_local</a>(</span>
<a id="line1790"></a><span class="lineno">1790</span><span class="line">  <a href="../../../Scopes/vsip/impl/Subset_block.html" title="class vsip::impl::Subset_block">Subset_block</a>&lt;Block&gt; const&amp; <span class="comment">/*block*/</span>,</span>
<a id="line1791"></a><span class="lineno">1791</span><span class="line">  <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a>                 <span class="comment">/*sb*/</span>)</span>
<a id="line1792"></a><span class="lineno">1792</span><span class="line">{</span>
<a id="line1793"></a><span class="lineno">1793</span><span class="line">}</span>
<a id="line1794"></a><span class="lineno">1794</span>
<a id="line1795"></a><span class="lineno">1795</span>
<a id="line1796"></a><span class="lineno">1796</span>
<a id="line1797"></a><span class="lineno">1797</span><span class="line">template &lt;typename       Block,</span>
<a id="line1798"></a><span class="lineno">1798</span><span class="line">	  dimension_type D&gt;</span>
<a id="line1799"></a><span class="lineno">1799</span><span class="line"><span class="keyword">void</span></span>
<a id="line1800"></a><span class="lineno">1800</span><span class="line"><a href="../../../Scopes/vsip/impl.html#assert_local_lconst.Sliced_block_LBlock_cD_R_A_cindex_type_r" title="function template vsip::impl::assert_local(const Sliced_block&lt;Block,D&gt;&amp;,index_type)">assert_local</a>(</span>
<a id="line1801"></a><span class="lineno">1801</span><span class="line">  <a href="../../../Scopes/vsip/impl/Sliced_block.html" title="class vsip::impl::Sliced_block">Sliced_block</a>&lt;Block, D&gt; const&amp; <span class="comment">/*block*/</span>,</span>
<a id="line1802"></a><span class="lineno">1802</span><span class="line">  <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a>                    <span class="comment">/*sb*/</span>)</span>
<a id="line1803"></a><span class="lineno">1803</span><span class="line">{</span>
<a id="line1804"></a><span class="lineno">1804</span><span class="line">}</span>
<a id="line1805"></a><span class="lineno">1805</span>
<a id="line1806"></a><span class="lineno">1806</span>
<a id="line1807"></a><span class="lineno">1807</span>
<a id="line1808"></a><span class="lineno">1808</span><span class="line">template &lt;typename       Block,</span>
<a id="line1809"></a><span class="lineno">1809</span><span class="line">	  dimension_type D1,</span>
<a id="line1810"></a><span class="lineno">1810</span><span class="line">	  dimension_type D2&gt;</span>
<a id="line1811"></a><span class="lineno">1811</span><span class="line"><span class="keyword">void</span></span>
<a id="line1812"></a><span class="lineno">1812</span><span class="line"><a href="../../../Scopes/vsip/impl.html#assert_local_lconst.Sliced2_block_LBlock_cD1_cD2_R_A_cindex_type_r" title="function template vsip::impl::assert_local(const Sliced2_block&lt;Block,D1,D2&gt;&amp;,index_type)">assert_local</a>(</span>
<a id="line1813"></a><span class="lineno">1813</span><span class="line">  <a href="../../../Scopes/vsip/impl/Sliced2_block.html" title="class vsip::impl::Sliced2_block">Sliced2_block</a>&lt;Block, D1, D2&gt; const&amp; <span class="comment">/*block*/</span>,</span>
<a id="line1814"></a><span class="lineno">1814</span><span class="line">  <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a>                          <span class="comment">/*sb*/</span>)</span>
<a id="line1815"></a><span class="lineno">1815</span><span class="line">{</span>
<a id="line1816"></a><span class="lineno">1816</span><span class="line">}</span>
<a id="line1817"></a><span class="lineno">1817</span>
<a id="line1818"></a><span class="lineno">1818</span>
<a id="line1819"></a><span class="lineno">1819</span>
<a id="line1820"></a><span class="lineno">1820</span><span class="line">template &lt;typename Block&gt;</span>
<a id="line1821"></a><span class="lineno">1821</span><span class="line"><span class="keyword">void</span></span>
<a id="line1822"></a><span class="lineno">1822</span><span class="line"><a href="../../../Scopes/vsip/impl.html#assert_local_lconst.Transposed_block_LBlock_R_A_cindex_type_r" title="function template vsip::impl::assert_local(const Transposed_block&lt;Block&gt;&amp;,index_type)">assert_local</a>(</span>
<a id="line1823"></a><span class="lineno">1823</span><span class="line">  <a href="../../../Scopes/vsip/impl/Transposed_block.html" title="class vsip::impl::Transposed_block">Transposed_block</a>&lt;Block&gt; const&amp; block,</span>
<a id="line1824"></a><span class="lineno">1824</span><span class="line">  <a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a>                     sb)</span>
<a id="line1825"></a><span class="lineno">1825</span><span class="line">{</span>
<a id="line1826"></a><span class="lineno">1826</span><span class="line">  <a href="" title="function template vsip::impl::assert_local(const expr::Scalar&amp;,index_type)">assert_local</a>(<a href="" title="parameter block">block</a>.<a href="../../../Scopes/vsip/impl/Transposed_block.html#impl_block_l_rconst" title="member function vsip::impl::Transposed_block::impl_block()const">impl_block</a>(), <a href="" title="parameter sb">sb</a>);</span>
<a id="line1827"></a><span class="lineno">1827</span><span class="line">}</span>
<a id="line1828"></a><span class="lineno">1828</span>
<a id="line1829"></a><span class="lineno">1829</span>
<a id="line1830"></a><span class="lineno">1830</span>
<a id="line1831"></a><span class="lineno">1831</span><span class="line">#if VSIP_IMPL_USE_GENERIC_VISITOR_TEMPLATES==0</span>
<a id="line1832"></a><span class="lineno">1832</span>
<a id="line1833"></a><span class="lineno">1833</span><span class="line"><span class="comment">/// Specialize Combine_return_type for Subset_block leaves.</span></span>
<a id="line1834"></a><span class="lineno">1834</span><span class="line">template &lt;typename       CombineT,</span>
<a id="line1835"></a><span class="lineno">1835</span><span class="line">	  typename       Block&gt;</span>
<a id="line1836"></a><span class="lineno">1836</span><span class="line"><span class="keyword">struct</span> <a href="../../../Scopes/vsip/impl/Combine_return_type.LCombineT.cSubset_block.LBlock.R.R.html" title="struct vsip::impl::Combine_return_type&lt;CombineT,Subset_block&lt;Block&gt;&gt;">Combine_return_type&lt;CombineT, Subset_block&lt;Block&gt; &gt;</a></span>
<a id="line1837"></a><span class="lineno">1837</span><span class="line">{</span>
<a id="line1838"></a><span class="lineno">1838</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Subset_block.html" title="class vsip::impl::Subset_block">Subset_block</a>&lt;Block&gt; <a href="../../../Scopes/vsip/impl/Combine_return_type.LCombineT.cSubset_block.LBlock.R.R.html#block_type" title="typedef vsip::impl::Combine_return_type&lt;CombineT,Subset_block&lt;Block&gt;&gt;::block_type">block_type</a>;</span>
<a id="line1839"></a><span class="lineno">1839</span><span class="line">  <span class="keyword">typedef</span> typename CombineT::template return_type&lt;block_type&gt;::type</span>
<a id="line1840"></a><span class="lineno">1840</span><span class="line">		<a href="../../../Scopes/vsip/impl/Combine_return_type.LCombineT.cSubset_block.LBlock.R.R.html#type" title="typedef vsip::impl::Combine_return_type&lt;CombineT,Subset_block&lt;Block&gt;&gt;::type">type</a>;</span>
<a id="line1841"></a><span class="lineno">1841</span><span class="line">  <span class="keyword">typedef</span> typename CombineT::template tree_type&lt;block_type&gt;::type</span>
<a id="line1842"></a><span class="lineno">1842</span><span class="line">		<a href="../../../Scopes/vsip/impl/Combine_return_type.LCombineT.cSubset_block.LBlock.R.R.html#tree_type" title="typedef vsip::impl::Combine_return_type&lt;CombineT,Subset_block&lt;Block&gt;&gt;::tree_type">tree_type</a>;</span>
<a id="line1843"></a><span class="lineno">1843</span><span class="line">};</span>
<a id="line1844"></a><span class="lineno">1844</span>
<a id="line1845"></a><span class="lineno">1845</span>
<a id="line1846"></a><span class="lineno">1846</span>
<a id="line1847"></a><span class="lineno">1847</span><span class="line"><span class="comment">/// Specialize apply_combine for Subset_block leaves.</span></span>
<a id="line1848"></a><span class="lineno">1848</span><span class="line">template &lt;typename       CombineT,</span>
<a id="line1849"></a><span class="lineno">1849</span><span class="line">	  typename       Block&gt;</span>
<a id="line1850"></a><span class="lineno">1850</span><span class="line">typename Combine_return_type&lt;CombineT, Subset_block&lt;Block&gt; &gt;::type</span>
<a id="line1851"></a><span class="lineno">1851</span><span class="line"><a href="" title="function vsip::impl::apply_combine(const CombineT&amp;,const Subset_block&lt;Block&gt;&amp;)">apply_combine</a>(</span>
<a id="line1852"></a><span class="lineno">1852</span><span class="line">  CombineT const&amp;               combine,</span>
<a id="line1853"></a><span class="lineno">1853</span><span class="line">  <a href="../../../Scopes/vsip/impl/Subset_block.html" title="class vsip::impl::Subset_block">Subset_block</a>&lt;Block&gt; const&amp; block)</span>
<a id="line1854"></a><span class="lineno">1854</span><span class="line">{</span>
<a id="line1855"></a><span class="lineno">1855</span><span class="line">  <span class="keyword">return</span> <a href="" title="parameter combine">combine</a>.apply(<a href="" title="parameter block">block</a>);</span>
<a id="line1856"></a><span class="lineno">1856</span><span class="line">}</span>
<a id="line1857"></a><span class="lineno">1857</span>
<a id="line1858"></a><span class="lineno">1858</span>
<a id="line1859"></a><span class="lineno">1859</span>
<a id="line1860"></a><span class="lineno">1860</span><span class="line"><span class="comment">/// Specialize Combine_return_type for Sliced_block leaves.</span></span>
<a id="line1861"></a><span class="lineno">1861</span><span class="line">template &lt;typename       CombineT,</span>
<a id="line1862"></a><span class="lineno">1862</span><span class="line">	  typename       Block,</span>
<a id="line1863"></a><span class="lineno">1863</span><span class="line">	  dimension_type D&gt;</span>
<a id="line1864"></a><span class="lineno">1864</span><span class="line"><span class="keyword">struct</span> <a href="../../../Scopes/vsip/impl/Combine_return_type.LCombineT.cSliced_block.LBlock.cD.R.R.html" title="struct vsip::impl::Combine_return_type&lt;CombineT,Sliced_block&lt;Block,D&gt;&gt;">Combine_return_type&lt;CombineT, Sliced_block&lt;Block, D&gt; &gt;</a></span>
<a id="line1865"></a><span class="lineno">1865</span><span class="line">{</span>
<a id="line1866"></a><span class="lineno">1866</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Sliced_block.html" title="class vsip::impl::Sliced_block">Sliced_block</a>&lt;Block, D&gt; <a href="../../../Scopes/vsip/impl/Combine_return_type.LCombineT.cSliced_block.LBlock.cD.R.R.html#block_type" title="typedef vsip::impl::Combine_return_type&lt;CombineT,Sliced_block&lt;Block,D&gt;&gt;::block_type">block_type</a>;</span>
<a id="line1867"></a><span class="lineno">1867</span><span class="line">  <span class="keyword">typedef</span> typename CombineT::template return_type&lt;block_type&gt;::type</span>
<a id="line1868"></a><span class="lineno">1868</span><span class="line">		<a href="../../../Scopes/vsip/impl/Combine_return_type.LCombineT.cSliced_block.LBlock.cD.R.R.html#type" title="typedef vsip::impl::Combine_return_type&lt;CombineT,Sliced_block&lt;Block,D&gt;&gt;::type">type</a>;</span>
<a id="line1869"></a><span class="lineno">1869</span><span class="line">  <span class="keyword">typedef</span> typename CombineT::template tree_type&lt;block_type&gt;::type</span>
<a id="line1870"></a><span class="lineno">1870</span><span class="line">		<a href="../../../Scopes/vsip/impl/Combine_return_type.LCombineT.cSliced_block.LBlock.cD.R.R.html#tree_type" title="typedef vsip::impl::Combine_return_type&lt;CombineT,Sliced_block&lt;Block,D&gt;&gt;::tree_type">tree_type</a>;</span>
<a id="line1871"></a><span class="lineno">1871</span><span class="line">};</span>
<a id="line1872"></a><span class="lineno">1872</span>
<a id="line1873"></a><span class="lineno">1873</span>
<a id="line1874"></a><span class="lineno">1874</span>
<a id="line1875"></a><span class="lineno">1875</span><span class="line"><span class="comment">/// Specialize apply_combine for Sliced_block leaves.</span></span>
<a id="line1876"></a><span class="lineno">1876</span><span class="line">template &lt;typename       CombineT,</span>
<a id="line1877"></a><span class="lineno">1877</span><span class="line">	  typename       Block,</span>
<a id="line1878"></a><span class="lineno">1878</span><span class="line">	  dimension_type D&gt;</span>
<a id="line1879"></a><span class="lineno">1879</span><span class="line">typename Combine_return_type&lt;CombineT, Sliced_block&lt;Block, D&gt; &gt;::type</span>
<a id="line1880"></a><span class="lineno">1880</span><span class="line"><a href="" title="function vsip::impl::apply_combine(const CombineT&amp;,const Sliced_block&lt;Block,D&gt;&amp;)">apply_combine</a>(CombineT const &amp;combine,</span>
<a id="line1881"></a><span class="lineno">1881</span><span class="line">	      <a href="../../../Scopes/vsip/impl/Sliced_block.html" title="class vsip::impl::Sliced_block">Sliced_block</a>&lt;Block, D&gt; const&amp; block)</span>
<a id="line1882"></a><span class="lineno">1882</span><span class="line">{</span>
<a id="line1883"></a><span class="lineno">1883</span><span class="line">  <span class="keyword">return</span> <a href="" title="parameter combine">combine</a>.apply(<a href="" title="parameter block">block</a>);</span>
<a id="line1884"></a><span class="lineno">1884</span><span class="line">}</span>
<a id="line1885"></a><span class="lineno">1885</span>
<a id="line1886"></a><span class="lineno">1886</span>
<a id="line1887"></a><span class="lineno">1887</span>
<a id="line1888"></a><span class="lineno">1888</span><span class="line"><span class="comment">/// Specialize Combine_return_type for Sliced2_block leaves.</span></span>
<a id="line1889"></a><span class="lineno">1889</span><span class="line">template &lt;typename       CombineT,</span>
<a id="line1890"></a><span class="lineno">1890</span><span class="line">	  typename       Block,</span>
<a id="line1891"></a><span class="lineno">1891</span><span class="line">	  dimension_type D1,</span>
<a id="line1892"></a><span class="lineno">1892</span><span class="line">	  dimension_type D2&gt;</span>
<a id="line1893"></a><span class="lineno">1893</span><span class="line"><span class="keyword">struct</span> <a href="../../../Scopes/vsip/impl/Combine_return_type.LCombineT.cSliced2_block.LBlock.cD1.cD2.R.R.html" title="struct vsip::impl::Combine_return_type&lt;CombineT,Sliced2_block&lt;Block,D1,D2&gt;&gt;">Combine_return_type&lt;CombineT, Sliced2_block&lt;Block, D1, D2&gt; &gt;</a></span>
<a id="line1894"></a><span class="lineno">1894</span><span class="line">{</span>
<a id="line1895"></a><span class="lineno">1895</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Sliced2_block.html" title="class vsip::impl::Sliced2_block">Sliced2_block</a>&lt;Block, D1, D2&gt; <a href="../../../Scopes/vsip/impl/Combine_return_type.LCombineT.cSliced2_block.LBlock.cD1.cD2.R.R.html#block_type" title="typedef vsip::impl::Combine_return_type&lt;CombineT,Sliced2_block&lt;Block,D1,D2&gt;&gt;::block_type">block_type</a>;</span>
<a id="line1896"></a><span class="lineno">1896</span><span class="line">  <span class="keyword">typedef</span> typename CombineT::template return_type&lt;block_type&gt;::type</span>
<a id="line1897"></a><span class="lineno">1897</span><span class="line">		<a href="../../../Scopes/vsip/impl/Combine_return_type.LCombineT.cSliced2_block.LBlock.cD1.cD2.R.R.html#type" title="typedef vsip::impl::Combine_return_type&lt;CombineT,Sliced2_block&lt;Block,D1,D2&gt;&gt;::type">type</a>;</span>
<a id="line1898"></a><span class="lineno">1898</span><span class="line">  <span class="keyword">typedef</span> typename CombineT::template tree_type&lt;block_type&gt;::type</span>
<a id="line1899"></a><span class="lineno">1899</span><span class="line">		<a href="../../../Scopes/vsip/impl/Combine_return_type.LCombineT.cSliced2_block.LBlock.cD1.cD2.R.R.html#tree_type" title="typedef vsip::impl::Combine_return_type&lt;CombineT,Sliced2_block&lt;Block,D1,D2&gt;&gt;::tree_type">tree_type</a>;</span>
<a id="line1900"></a><span class="lineno">1900</span><span class="line">};</span>
<a id="line1901"></a><span class="lineno">1901</span>
<a id="line1902"></a><span class="lineno">1902</span>
<a id="line1903"></a><span class="lineno">1903</span>
<a id="line1904"></a><span class="lineno">1904</span><span class="line"><span class="comment">/// Specialize apply_combine for Sliced_block leaves.</span></span>
<a id="line1905"></a><span class="lineno">1905</span><span class="line">template &lt;typename       CombineT,</span>
<a id="line1906"></a><span class="lineno">1906</span><span class="line">	  typename       Block,</span>
<a id="line1907"></a><span class="lineno">1907</span><span class="line">	  dimension_type D1,</span>
<a id="line1908"></a><span class="lineno">1908</span><span class="line">	  dimension_type D2&gt;</span>
<a id="line1909"></a><span class="lineno">1909</span><span class="line">typename Combine_return_type&lt;CombineT, Sliced2_block&lt;Block, D1, D2&gt; &gt;::type</span>
<a id="line1910"></a><span class="lineno">1910</span><span class="line"><a href="" title="function vsip::impl::apply_combine(const CombineT&amp;,const Sliced2_block&lt;Block,D1,D2&gt;&amp;)">apply_combine</a>(</span>
<a id="line1911"></a><span class="lineno">1911</span><span class="line">  CombineT const&amp;                     combine,</span>
<a id="line1912"></a><span class="lineno">1912</span><span class="line">  <a href="../../../Scopes/vsip/impl/Sliced2_block.html" title="class vsip::impl::Sliced2_block">Sliced2_block</a>&lt;Block, D1, D2&gt; const&amp; block)</span>
<a id="line1913"></a><span class="lineno">1913</span><span class="line">{</span>
<a id="line1914"></a><span class="lineno">1914</span><span class="line">  <span class="keyword">return</span> <a href="" title="parameter combine">combine</a>.apply(<a href="" title="parameter block">block</a>);</span>
<a id="line1915"></a><span class="lineno">1915</span><span class="line">}</span>
<a id="line1916"></a><span class="lineno">1916</span>
<a id="line1917"></a><span class="lineno">1917</span>
<a id="line1918"></a><span class="lineno">1918</span>
<a id="line1919"></a><span class="lineno">1919</span><span class="line"><span class="comment">/// Specialize Combine_return_type for Transposed_block leaves.</span></span>
<a id="line1920"></a><span class="lineno">1920</span><span class="line">template &lt;typename       CombineT,</span>
<a id="line1921"></a><span class="lineno">1921</span><span class="line">	  typename       Block&gt;</span>
<a id="line1922"></a><span class="lineno">1922</span><span class="line"><span class="keyword">struct</span> <a href="../../../Scopes/vsip/impl/Combine_return_type.LCombineT.cTransposed_block.LBlock.R.R.html" title="struct vsip::impl::Combine_return_type&lt;CombineT,Transposed_block&lt;Block&gt;&gt;">Combine_return_type&lt;CombineT, Transposed_block&lt;Block&gt; &gt;</a></span>
<a id="line1923"></a><span class="lineno">1923</span><span class="line">{</span>
<a id="line1924"></a><span class="lineno">1924</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Transposed_block.html" title="class vsip::impl::Transposed_block">Transposed_block</a>&lt;Block&gt; <a href="../../../Scopes/vsip/impl/Combine_return_type.LCombineT.cTransposed_block.LBlock.R.R.html#block_type" title="typedef vsip::impl::Combine_return_type&lt;CombineT,Transposed_block&lt;Block&gt;&gt;::block_type">block_type</a>;</span>
<a id="line1925"></a><span class="lineno">1925</span><span class="line">  <span class="keyword">typedef</span> typename CombineT::template return_type&lt;block_type&gt;::type</span>
<a id="line1926"></a><span class="lineno">1926</span><span class="line">		<a href="../../../Scopes/vsip/impl/Combine_return_type.LCombineT.cTransposed_block.LBlock.R.R.html#type" title="typedef vsip::impl::Combine_return_type&lt;CombineT,Transposed_block&lt;Block&gt;&gt;::type">type</a>;</span>
<a id="line1927"></a><span class="lineno">1927</span><span class="line">  <span class="keyword">typedef</span> typename CombineT::template tree_type&lt;block_type&gt;::type</span>
<a id="line1928"></a><span class="lineno">1928</span><span class="line">		<a href="../../../Scopes/vsip/impl/Combine_return_type.LCombineT.cTransposed_block.LBlock.R.R.html#tree_type" title="typedef vsip::impl::Combine_return_type&lt;CombineT,Transposed_block&lt;Block&gt;&gt;::tree_type">tree_type</a>;</span>
<a id="line1929"></a><span class="lineno">1929</span><span class="line">};</span>
<a id="line1930"></a><span class="lineno">1930</span>
<a id="line1931"></a><span class="lineno">1931</span>
<a id="line1932"></a><span class="lineno">1932</span>
<a id="line1933"></a><span class="lineno">1933</span><span class="line"><span class="comment">/// Specialize apply_combine for Transposed_block leaves.</span></span>
<a id="line1934"></a><span class="lineno">1934</span><span class="line">template &lt;typename       CombineT,</span>
<a id="line1935"></a><span class="lineno">1935</span><span class="line">	  typename       Block&gt;</span>
<a id="line1936"></a><span class="lineno">1936</span><span class="line">typename Combine_return_type&lt;CombineT, Transposed_block&lt;Block&gt; &gt;::type</span>
<a id="line1937"></a><span class="lineno">1937</span><span class="line"><a href="" title="function vsip::impl::apply_combine(const CombineT&amp;,const Transposed_block&lt;Block&gt;&amp;)">apply_combine</a>(</span>
<a id="line1938"></a><span class="lineno">1938</span><span class="line">  CombineT const&amp;                combine,</span>
<a id="line1939"></a><span class="lineno">1939</span><span class="line">  <a href="../../../Scopes/vsip/impl/Transposed_block.html" title="class vsip::impl::Transposed_block">Transposed_block</a>&lt;Block&gt; const&amp; block)</span>
<a id="line1940"></a><span class="lineno">1940</span><span class="line">{</span>
<a id="line1941"></a><span class="lineno">1941</span><span class="line">  <span class="keyword">return</span> <a href="" title="parameter combine">combine</a>.apply(<a href="" title="parameter block">block</a>);</span>
<a id="line1942"></a><span class="lineno">1942</span><span class="line">}</span>
<a id="line1943"></a><span class="lineno">1943</span><span class="line">#endif</span>
<a id="line1944"></a><span class="lineno">1944</span>
<a id="line1945"></a><span class="lineno">1945</span>
<a id="line1946"></a><span class="lineno">1946</span>
<a id="line1947"></a><span class="lineno">1947</span>
<a id="line1948"></a><span class="lineno">1948</span>
<a id="line1949"></a><span class="lineno">1949</span><span class="line"><span class="comment">/// The Diag_block class is similar to the Sliced_block class, </span></span>
<a id="line1950"></a><span class="lineno">1950</span><span class="line"><span class="comment">/// producing diagonal slices based on an offset.  The center diagonal</span></span>
<a id="line1951"></a><span class="lineno">1951</span><span class="line"><span class="comment">/// is obtained with offset zero.   Positive values refer to diagonals</span></span>
<a id="line1952"></a><span class="lineno">1952</span><span class="line"><span class="comment">/// above the center and negative values to diagonals below.</span></span>
<a id="line1953"></a><span class="lineno">1953</span><span class="line"><span class="comment">/// Note the length of the resultant vector is affected by the size of</span></span>
<a id="line1954"></a><span class="lineno">1954</span><span class="line"><span class="comment">/// the original matrix as well as the offset from the main diagonal.</span></span>
<a id="line1955"></a><span class="lineno">1955</span><span class="line">template &lt;typename Block&gt; </span>
<a id="line1956"></a><span class="lineno">1956</span><span class="line">class Diag_block;</span>
<a id="line1957"></a><span class="lineno">1957</span>
<a id="line1958"></a><span class="lineno">1958</span>
<a id="line1959"></a><span class="lineno">1959</span><span class="line"><span class="comment">/// Store Diag_block by-value.</span></span>
<a id="line1960"></a><span class="lineno">1960</span><span class="line">template &lt;typename Block&gt;</span>
<a id="line1961"></a><span class="lineno">1961</span><span class="line"><span class="keyword">struct</span> <a href="../../../Scopes/vsip/impl/View_block_storage.LDiag_block.LBlock.R.R.html" title="struct vsip::impl::View_block_storage&lt;Diag_block&lt;Block&gt;&gt;">View_block_storage&lt;Diag_block&lt;Block&gt; &gt;</a></span>
<a id="line1962"></a><span class="lineno">1962</span><span class="line">  : <a href="../../../Scopes/vsip/impl/By_value_block_storage.html" title="struct vsip::impl::By_value_block_storage">By_value_block_storage</a>&lt;<a href="../../../Scopes/vsip/impl/Diag_block.html" title="class vsip::impl::Diag_block">Diag_block</a>&lt;Block&gt; &gt;</span>
<a id="line1963"></a><span class="lineno">1963</span><span class="line">{};</span>
<a id="line1964"></a><span class="lineno">1964</span>
<a id="line1965"></a><span class="lineno">1965</span><span class="line">template &lt;typename Block&gt;</span>
<a id="line1966"></a><span class="lineno">1966</span><span class="line"><span class="keyword">struct</span> <a href="../../../Scopes/vsip/impl/Block_layout.LDiag_block.LBlock.R.R.html" title="struct vsip::impl::Block_layout&lt;Diag_block&lt;Block&gt;&gt;">Block_layout&lt;Diag_block&lt;Block&gt; &gt;</a></span>
<a id="line1967"></a><span class="lineno">1967</span><span class="line">{</span>
<a id="line1968"></a><span class="lineno">1968</span><span class="line">  <span class="comment">// Dimension: Same</span></span>
<a id="line1969"></a><span class="lineno">1969</span><span class="line"><span class="comment">  // Access   : Same</span></span>
<a id="line1970"></a><span class="lineno">1970</span><span class="line"><span class="comment">  // Order    : Same</span></span>
<a id="line1971"></a><span class="lineno">1971</span><span class="line"><span class="comment">  // Stride   : Stride_unknown</span></span>
<a id="line1972"></a><span class="lineno">1972</span><span class="line"><span class="comment">  // Cmplx    : Same</span></span>
<a id="line1973"></a><span class="lineno">1973</span>
<a id="line1974"></a><span class="lineno">1974</span><span class="line">  static <a href="../../../Scopes/vsip.html#dimension_type" title="typedef vsip::dimension_type">dimension_type const</a> <a href="../../../Scopes/vsip/impl/Block_layout.LDiag_block.LBlock.R.R.html#dim" title="data member vsip::impl::Block_layout&lt;Diag_block&lt;Block&gt;&gt;::dim">dim</a> = <span class="literal">1</span>;</span>
<a id="line1975"></a><span class="lineno">1975</span>
<a id="line1976"></a><span class="lineno">1976</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Block_layout.html#access_type" title="typedef vsip::impl::Block_layout::access_type">typename Block_layout&lt;Block&gt;::access_type</a>  <a href="../../../Scopes/vsip/impl/Block_layout.LDiag_block.LBlock.R.R.html#access_type" title="typedef vsip::impl::Block_layout&lt;Diag_block&lt;Block&gt;&gt;::access_type">access_type</a>;</span>
<a id="line1977"></a><span class="lineno">1977</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip.html#row1_type" title="typedef vsip::row1_type">row1_type</a>                                  <a href="../../../Scopes/vsip/impl/Block_layout.LDiag_block.LBlock.R.R.html#order_type" title="typedef vsip::impl::Block_layout&lt;Diag_block&lt;Block&gt;&gt;::order_type">order_type</a>;</span>
<a id="line1978"></a><span class="lineno">1978</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Stride_unknown.html" title="struct vsip::impl::Stride_unknown">Stride_unknown</a>                             <a href="../../../Scopes/vsip/impl/Block_layout.LDiag_block.LBlock.R.R.html#pack_type" title="typedef vsip::impl::Block_layout&lt;Diag_block&lt;Block&gt;&gt;::pack_type">pack_type</a>;</span>
<a id="line1979"></a><span class="lineno">1979</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Block_layout.html#complex_type" title="typedef vsip::impl::Block_layout::complex_type">typename Block_layout&lt;Block&gt;::complex_type</a> <a href="../../../Scopes/vsip/impl/Block_layout.LDiag_block.LBlock.R.R.html#complex_type" title="typedef vsip::impl::Block_layout&lt;Diag_block&lt;Block&gt;&gt;::complex_type">complex_type</a>;</span>
<a id="line1980"></a><span class="lineno">1980</span>
<a id="line1981"></a><span class="lineno">1981</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Layout.html" title="struct vsip::impl::Layout">Layout</a>&lt;<a href="../../../Scopes/vsip/impl/Block_layout.LDiag_block.LBlock.R.R.html#dim" title="data member vsip::impl::Block_layout&lt;Diag_block&lt;Block&gt;&gt;::dim">dim</a>, order_type, pack_type, complex_type&gt; <a href="../../../Scopes/vsip/impl/Block_layout.LDiag_block.LBlock.R.R.html#layout_type" title="typedef vsip::impl::Block_layout&lt;Diag_block&lt;Block&gt;&gt;::layout_type">layout_type</a>;</span>
<a id="line1982"></a><span class="lineno">1982</span><span class="line">};</span>
<a id="line1983"></a><span class="lineno">1983</span>
<a id="line1984"></a><span class="lineno">1984</span>
<a id="line1985"></a><span class="lineno">1985</span><span class="line"><span class="comment">/// Diag_block has impl_ref if the underlying block has impl_ref.</span></span>
<a id="line1986"></a><span class="lineno">1986</span><span class="line">template &lt;typename BlockT&gt;</span>
<a id="line1987"></a><span class="lineno">1987</span><span class="line"><span class="keyword">struct</span> <a href="../../../Scopes/vsip/impl/Lvalue_factory_type.LDiag_block.LBlockT.R.R.html" title="struct vsip::impl::Lvalue_factory_type&lt;Diag_block&lt;BlockT&gt;&gt;">Lvalue_factory_type&lt;Diag_block&lt;BlockT&gt; &gt;</a></span>
<a id="line1988"></a><span class="lineno">1988</span><span class="line">{</span>
<a id="line1989"></a><span class="lineno">1989</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Lvalue_factory_type/Rebind.html#type" title="typedef vsip::impl::Lvalue_factory_type::Rebind::type">typename Lvalue_factory_type&lt;BlockT&gt;</a></span>
<a id="line1990"></a><span class="lineno">1990</span><span class="line"><a href="../../../Scopes/vsip/impl/Lvalue_factory_type/Rebind.html#type" title="typedef vsip::impl::Lvalue_factory_type::Rebind::type">    ::template Rebind&lt;Diag_block&lt;BlockT&gt; &gt;::type</a> <a href="../../../Scopes/vsip/impl/Lvalue_factory_type.LDiag_block.LBlockT.R.R.html#type" title="typedef vsip::impl::Lvalue_factory_type&lt;Diag_block&lt;BlockT&gt;&gt;::type">type</a>;</span>
<a id="line1991"></a><span class="lineno">1991</span><span class="line">  template &lt;typename OtherBlock&gt;</span>
<a id="line1992"></a><span class="lineno">1992</span><span class="line">  <span class="keyword">struct</span> <a href="../../../Scopes/vsip/impl/Lvalue_factory_type.LDiag_block.LBlockT.R.R/Rebind.html" title="struct vsip::impl::Lvalue_factory_type&lt;Diag_block&lt;BlockT&gt;&gt;::Rebind">Rebind</a> {</span>
<a id="line1993"></a><span class="lineno">1993</span><span class="line">    <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Lvalue_factory_type/Rebind.html#type" title="typedef vsip::impl::Lvalue_factory_type::Rebind::type">typename Lvalue_factory_type&lt;BlockT&gt;</a></span>
<a id="line1994"></a><span class="lineno">1994</span><span class="line"><a href="../../../Scopes/vsip/impl/Lvalue_factory_type/Rebind.html#type" title="typedef vsip::impl::Lvalue_factory_type::Rebind::type">      ::template Rebind&lt;OtherBlock&gt;::type</a> <a href="../../../Scopes/vsip/impl/Lvalue_factory_type.LDiag_block.LBlockT.R.R/Rebind.html#type" title="typedef vsip::impl::Lvalue_factory_type&lt;Diag_block&lt;BlockT&gt;&gt;::Rebind::type">type</a>;</span>
<a id="line1995"></a><span class="lineno">1995</span><span class="line">  };</span>
<a id="line1996"></a><span class="lineno">1996</span><span class="line">};</span>
<a id="line1997"></a><span class="lineno">1997</span>
<a id="line1998"></a><span class="lineno">1998</span><span class="line">template &lt;typename BlockT&gt;</span>
<a id="line1999"></a><span class="lineno">1999</span><span class="line"><span class="keyword">struct</span> <a href="../../../Scopes/vsip/impl/Is_modifiable_block.LDiag_block.LBlockT.R.R.html" title="struct vsip::impl::Is_modifiable_block&lt;Diag_block&lt;BlockT&gt;&gt;">Is_modifiable_block&lt;Diag_block&lt;BlockT&gt; &gt;</a></span>
<a id="line2000"></a><span class="lineno">2000</span><span class="line">  : <a href="../../../Scopes/vsip/impl/Is_modifiable_block.html" title="struct vsip::impl::Is_modifiable_block">Is_modifiable_block</a>&lt;BlockT&gt;</span>
<a id="line2001"></a><span class="lineno">2001</span><span class="line">{};</span>
<a id="line2002"></a><span class="lineno">2002</span>
<a id="line2003"></a><span class="lineno">2003</span><span class="line">template &lt;typename Block&gt; </span>
<a id="line2004"></a><span class="lineno">2004</span><span class="line"><span class="keyword">class</span> <a href="../../../Scopes/vsip/impl/Diag_block.html" title="class vsip::impl::Diag_block">Diag_block</a> </span>
<a id="line2005"></a><span class="lineno">2005</span><span class="line">    : <span class="keyword">public</span> <a href="../../../Scopes/vsip/impl/Compile_time_assert.html" title="struct vsip::impl::Compile_time_assert">impl::Compile_time_assert&lt;(Block::dim == 2)&gt;</a>,</span>
<a id="line2006"></a><span class="lineno">2006</span><span class="line">      <span class="keyword">public</span> <a href="../../../Scopes/vsip/impl/Non_assignable.html" title="class vsip::impl::Non_assignable">impl::Non_assignable</a></span>
<a id="line2007"></a><span class="lineno">2007</span><span class="line">{</span>
<a id="line2008"></a><span class="lineno">2008</span><span class="line"> <span class="keyword">public</span>:</span>
<a id="line2009"></a><span class="lineno">2009</span><span class="line">  <span class="comment">// Compile-time values and types.</span></span>
<a id="line2010"></a><span class="lineno">2010</span><span class="line">  static <a href="../../../Scopes/vsip.html#dimension_type" title="typedef vsip::dimension_type">dimension_type const</a> <a href="../../../Scopes/vsip/impl/Diag_block.html#dim" title="data member vsip::impl::Diag_block::dim">dim</a> = Block::dim - <span class="literal">1</span>;</span>
<a id="line2011"></a><span class="lineno">2011</span><span class="line">  <span class="keyword">typedef</span> typename Block::value_type <a href="../../../Scopes/vsip/impl/Diag_block.html#value_type" title="typedef vsip::impl::Diag_block::value_type">value_type</a>;</span>
<a id="line2012"></a><span class="lineno">2012</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Diag_block.html#value_type" title="typedef vsip::impl::Diag_block::value_type">value_type</a>&amp;       <a href="../../../Scopes/vsip/impl/Diag_block.html#reference_type" title="typedef vsip::impl::Diag_block::reference_type">reference_type</a>;</span>
<a id="line2013"></a><span class="lineno">2013</span><span class="line">  <span class="keyword">typedef</span> <a href="../../../Scopes/vsip/impl/Diag_block.html#value_type" title="typedef vsip::impl::Diag_block::value_type">value_type const</a>&amp; <a href="../../../Scopes/vsip/impl/Diag_block.html#const_reference_type" title="typedef vsip::impl::Diag_block::const_reference_type">const_reference_type</a>;</span>
<a id="line2014"></a><span class="lineno">2014</span><span class="line">  <span class="keyword">typedef</span> typename Block::map_type <a href="../../../Scopes/vsip/impl/Diag_block.html#map_type" title="typedef vsip::impl::Diag_block::map_type">map_type</a>;</span>
<a id="line2015"></a><span class="lineno">2015</span>
<a id="line2016"></a><span class="lineno">2016</span>
<a id="line2017"></a><span class="lineno">2017</span><span class="line">  <span class="comment">// Constructors and destructors.</span></span>
<a id="line2018"></a><span class="lineno">2018</span><span class="line">  <a href="../../../Scopes/vsip/impl/Diag_block.html#Diag_block_lconst.Diag_block_A_r" title="member function vsip::impl::Diag_block::Diag_block(const Diag_block&amp;)">Diag_block</a>(<a href="../../../Scopes/vsip/impl/Diag_block.html" title="class vsip::impl::Diag_block">Diag_block const</a>&amp; sb) <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line2019"></a><span class="lineno">2019</span><span class="line">    : blk_(&amp;*sb.blk_), offset_(sb.offset_)</span>
<a id="line2020"></a><span class="lineno">2020</span><span class="line">    { }</span>
<a id="line2021"></a><span class="lineno">2021</span><span class="line">  <a href="../../../Scopes/vsip/impl/Diag_block.html#Diag_block_lBlock_A_cindex_difference_type_r" title="member function vsip::impl::Diag_block::Diag_block(Block&amp;,index_difference_type)">Diag_block</a>(Block &amp;blk, <a href="../../../Scopes/vsip.html#index_difference_type" title="typedef vsip::index_difference_type">index_difference_type</a> offset) <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line2022"></a><span class="lineno">2022</span><span class="line">    : blk_(&amp;blk), offset_(offset)</span>
<a id="line2023"></a><span class="lineno">2023</span><span class="line">    { }</span>
<a id="line2024"></a><span class="lineno">2024</span><span class="line">  <a href="../../../Scopes/vsip/impl/Diag_block.html#_tDiag_block_l_r" title="member function vsip::impl::Diag_block::~Diag_block()">~Diag_block</a>() <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a> {}</span>
<a id="line2025"></a><span class="lineno">2025</span>
<a id="line2026"></a><span class="lineno">2026</span>
<a id="line2027"></a><span class="lineno">2027</span><span class="line">  <span class="comment">// Accessors.</span></span>
<a id="line2028"></a><span class="lineno">2028</span><span class="line"><span class="comment">  // The total size of a diagonal is...</span></span>
<a id="line2029"></a><span class="lineno">2029</span><span class="line">  <a href="../../../Scopes/vsip.html#length_type" title="typedef vsip::length_type">length_type</a> <a href="../../../Scopes/vsip/impl/Diag_block.html#size_l_rconst" title="member function vsip::impl::Diag_block::size()const">size</a>() const <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line2030"></a><span class="lineno">2030</span><span class="line">    { </span>
<a id="line2031"></a><span class="lineno">2031</span><span class="line">      <a href="" title="macro call">assert</a>(dim == 1);</span>
<a id="line2032"></a><span class="lineno">2032</span><span class="line">      <a href="../../../Scopes/vsip.html#length_type" title="typedef vsip::length_type">length_type</a> <a href="" title="local variable size">size</a> = <span class="literal">0</span>;</span>
<a id="line2033"></a><span class="lineno">2033</span><span class="line">      <a href="../../../Scopes/vsip.html#length_type" title="typedef vsip::length_type">length_type</a> <a href="" title="local variable limit">limit</a> = std::min(<span class="keyword">this</span>-&gt;blk_-&gt;size(<span class="literal">2</span>, <span class="literal">0</span>), <span class="keyword">this</span>-&gt;blk_-&gt;size(<span class="literal">2</span>, <span class="literal">1</span>));</span>
<a id="line2034"></a><span class="lineno">2034</span><span class="line">      <span class="keyword">if</span> ( <span class="keyword">this</span>-&gt;offset_ &gt;= <span class="literal">0</span> )</span>
<a id="line2035"></a><span class="lineno">2035</span><span class="line">        <a href="" title="local variable size">size</a> = std::min( <a href="" title="local variable limit">limit</a>, <span class="keyword">this</span>-&gt;blk_-&gt;size(<span class="literal">2</span>, <span class="literal">1</span>) - <span class="keyword">this</span>-&gt;offset_ );</span>
<a id="line2036"></a><span class="lineno">2036</span><span class="line">      <span class="keyword">else</span></span>
<a id="line2037"></a><span class="lineno">2037</span><span class="line">        <a href="" title="local variable size">size</a> = std::min( <a href="" title="local variable limit">limit</a>, <span class="keyword">this</span>-&gt;blk_-&gt;size(<span class="literal">2</span>, <span class="literal">0</span>) + <span class="keyword">this</span>-&gt;offset_ );</span>
<a id="line2038"></a><span class="lineno">2038</span>
<a id="line2039"></a><span class="lineno">2039</span><span class="line">      <span class="keyword">return</span> <a href="" title="local variable size">size</a>;</span>
<a id="line2040"></a><span class="lineno">2040</span><span class="line">    }</span>
<a id="line2041"></a><span class="lineno">2041</span><span class="line">  <a href="../../../Scopes/vsip.html#length_type" title="typedef vsip::length_type">length_type</a> <a href="../../../Scopes/vsip/impl/Diag_block.html#size_ldimension_type_cdimension_type_rconst" title="member function vsip::impl::Diag_block::size(dimension_type,dimension_type)const">size</a>(<a href="../../../Scopes/vsip.html#dimension_type" title="typedef vsip::dimension_type">dimension_type</a> block_d, <a href="../../../Scopes/vsip.html#dimension_type" title="typedef vsip::dimension_type">dimension_type</a> d) const <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line2042"></a><span class="lineno">2042</span><span class="line">    { </span>
<a id="line2043"></a><span class="lineno">2043</span><span class="line">      <a href="" title="macro call">assert</a>(block_d == 1 &amp;&amp; dim == 1 &amp;&amp; d == 0);</span>
<a id="line2044"></a><span class="lineno">2044</span><span class="line">      <span class="keyword">return</span> <span class="keyword">this</span>-&gt;size();</span>
<a id="line2045"></a><span class="lineno">2045</span><span class="line">    }</span>
<a id="line2046"></a><span class="lineno">2046</span>
<a id="line2047"></a><span class="lineno">2047</span><span class="line">  <span class="comment">// These are noops as Diag_block is held by-value.</span></span>
<a id="line2048"></a><span class="lineno">2048</span><span class="line">  <span class="keyword">void</span> <a href="../../../Scopes/vsip/impl/Diag_block.html#increment_count_l_rconst" title="member function vsip::impl::Diag_block::increment_count()const">increment_count</a>() const <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a> {}</span>
<a id="line2049"></a><span class="lineno">2049</span><span class="line">  <span class="keyword">void</span> <a href="../../../Scopes/vsip/impl/Diag_block.html#decrement_count_l_rconst" title="member function vsip::impl::Diag_block::decrement_count()const">decrement_count</a>() const <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a> {}</span>
<a id="line2050"></a><span class="lineno">2050</span><span class="line">  <a href="../../../Scopes/vsip/impl/Diag_block.html#map_type" title="typedef vsip::impl::Diag_block::map_type">map_type const</a>&amp; <a href="../../../Scopes/vsip/impl/Diag_block.html#map_l_rconst" title="member function vsip::impl::Diag_block::map()const">map</a>() const { <span class="keyword">return</span> <span class="keyword">this</span>-&gt;blk_-&gt;map(); }</span>
<a id="line2051"></a><span class="lineno">2051</span>
<a id="line2052"></a><span class="lineno">2052</span><span class="line">  <span class="comment">// Data accessors.</span></span>
<a id="line2053"></a><span class="lineno">2053</span><span class="line">  <a href="../../../Scopes/vsip/impl/Diag_block.html#value_type" title="typedef vsip::impl::Diag_block::value_type">value_type</a> <a href="../../../Scopes/vsip/impl/Diag_block.html#get_lindex_type_rconst" title="member function vsip::impl::Diag_block::get(index_type)const">get</a>(<a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> i) const <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line2054"></a><span class="lineno">2054</span><span class="line">    { </span>
<a id="line2055"></a><span class="lineno">2055</span><span class="line">      <span class="keyword">if</span> ( <span class="keyword">this</span>-&gt;offset_ &gt;= <span class="literal">0</span> )</span>
<a id="line2056"></a><span class="lineno">2056</span><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>-&gt;blk_-&gt;get(<a href="" title="parameter i">i</a>, <a href="" title="parameter i">i</a> + <span class="keyword">this</span>-&gt;offset_);</span>
<a id="line2057"></a><span class="lineno">2057</span><span class="line">      <span class="keyword">else</span> </span>
<a id="line2058"></a><span class="lineno">2058</span><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>-&gt;blk_-&gt;get(<a href="" title="parameter i">i</a> - <span class="keyword">this</span>-&gt;offset_, <a href="" title="parameter i">i</a>);</span>
<a id="line2059"></a><span class="lineno">2059</span><span class="line">    }</span>
<a id="line2060"></a><span class="lineno">2060</span>
<a id="line2061"></a><span class="lineno">2061</span><span class="line">  <span class="keyword">void</span> <a href="../../../Scopes/vsip/impl/Diag_block.html#put_lindex_type_cvalue_type_r" title="member function vsip::impl::Diag_block::put(index_type,value_type)">put</a>(<a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> i, <a href="../../../Scopes/vsip/impl/Diag_block.html#value_type" title="typedef vsip::impl::Diag_block::value_type">value_type</a> val) <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line2062"></a><span class="lineno">2062</span><span class="line">    {</span>
<a id="line2063"></a><span class="lineno">2063</span><span class="line">      <span class="keyword">if</span> ( <span class="keyword">this</span>-&gt;offset_ &gt;= <span class="literal">0</span> )</span>
<a id="line2064"></a><span class="lineno">2064</span><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>-&gt;blk_-&gt;put(<a href="" title="parameter i">i</a>, <a href="" title="parameter i">i</a> + <span class="keyword">this</span>-&gt;offset_, <a href="" title="parameter val">val</a>);</span>
<a id="line2065"></a><span class="lineno">2065</span><span class="line">      <span class="keyword">else</span> </span>
<a id="line2066"></a><span class="lineno">2066</span><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>-&gt;blk_-&gt;put(<a href="" title="parameter i">i</a> - <span class="keyword">this</span>-&gt;offset_, <a href="" title="parameter i">i</a>, <a href="" title="parameter val">val</a>);</span>
<a id="line2067"></a><span class="lineno">2067</span><span class="line">    }</span>
<a id="line2068"></a><span class="lineno">2068</span><span class="line">  </span>
<a id="line2069"></a><span class="lineno">2069</span><span class="line">  <a href="../../../Scopes/vsip/impl/Diag_block.html#reference_type" title="typedef vsip::impl::Diag_block::reference_type">reference_type</a> <a href="../../../Scopes/vsip/impl/Diag_block.html#impl_ref_lindex_type_r" title="member function vsip::impl::Diag_block::impl_ref(index_type)">impl_ref</a>(<a href="../../../Scopes/vsip.html#index_type" title="typedef vsip::index_type">index_type</a> i) <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line2070"></a><span class="lineno">2070</span><span class="line">    {</span>
<a id="line2071"></a><span class="lineno">2071</span><span class="line">      <span class="keyword">if</span> ( <span class="keyword">this</span>-&gt;offset_ &gt;= <span class="literal">0</span> )</span>
<a id="line2072"></a><span class="lineno">2072</span><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>-&gt;blk_-&gt;impl_ref(<a href="" title="parameter i">i</a>, <a href="" title="parameter i">i</a> + <span class="keyword">this</span>-&gt;offset_);</span>
<a id="line2073"></a><span class="lineno">2073</span><span class="line">      <span class="keyword">else</span></span>
<a id="line2074"></a><span class="lineno">2074</span><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>-&gt;blk_-&gt;impl_ref(<a href="" title="parameter i">i</a> - <span class="keyword">this</span>-&gt;offset_, <a href="" title="parameter i">i</a>);</span>
<a id="line2075"></a><span class="lineno">2075</span><span class="line">    }</span>
<a id="line2076"></a><span class="lineno">2076</span><span class="line">  </span>
<a id="line2077"></a><span class="lineno">2077</span><span class="line">  <span class="comment">// Support Direct_data interface.</span></span>
<a id="line2078"></a><span class="lineno">2078</span><span class="line"> <span class="keyword">public</span>:</span>
<a id="line2079"></a><span class="lineno">2079</span><span class="line">  <span class="keyword">typedef</span> impl::<a href="../../../Scopes/vsip/impl/Storage.html" title="struct vsip::impl::Storage">Storage</a>&lt;<a href="../../../Scopes/vsip/impl/Block_layout.html#complex_type" title="typedef vsip::impl::Block_layout::complex_type">typename Block_layout&lt;Block&gt;::complex_type</a>, value_type&gt;</span>
<a id="line2080"></a><span class="lineno">2080</span><span class="line">    <a href="../../../Scopes/vsip/impl/Diag_block.html#storage_type" title="typedef vsip::impl::Diag_block::storage_type">storage_type</a>;</span>
<a id="line2081"></a><span class="lineno">2081</span><span class="line">  <span class="keyword">typedef</span> typename storage_type::type       <a href="../../../Scopes/vsip/impl/Diag_block.html#data_type" title="typedef vsip::impl::Diag_block::data_type">data_type</a>;</span>
<a id="line2082"></a><span class="lineno">2082</span><span class="line">  <span class="keyword">typedef</span> typename storage_type::const_type <a href="../../../Scopes/vsip/impl/Diag_block.html#const_data_type" title="typedef vsip::impl::Diag_block::const_data_type">const_data_type</a>;</span>
<a id="line2083"></a><span class="lineno">2083</span>
<a id="line2084"></a><span class="lineno">2084</span><span class="line">  <a href="../../../Scopes/vsip/impl/Diag_block.html#data_type" title="typedef vsip::impl::Diag_block::data_type">data_type</a>       <a href="../../../Scopes/vsip/impl/Diag_block.html#impl_data_l_r" title="member function vsip::impl::Diag_block::impl_data()">impl_data</a>()       <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line2085"></a><span class="lineno">2085</span><span class="line">    { </span>
<a id="line2086"></a><span class="lineno">2086</span><span class="line">      <span class="keyword">if</span> ( <span class="keyword">this</span>-&gt;offset_ &gt;= <span class="literal">0</span> )</span>
<a id="line2087"></a><span class="lineno">2087</span><span class="line">        <span class="keyword">return</span> storage_type::offset(</span>
<a id="line2088"></a><span class="lineno">2088</span><span class="line">		<span class="keyword">this</span>-&gt;blk_-&gt;impl_data(),</span>
<a id="line2089"></a><span class="lineno">2089</span><span class="line">		+ <span class="keyword">this</span>-&gt;offset_ * <span class="keyword">this</span>-&gt;blk_-&gt;impl_stride(<span class="literal">2</span>, <span class="literal">1</span>));</span>
<a id="line2090"></a><span class="lineno">2090</span><span class="line">      <span class="keyword">else</span></span>
<a id="line2091"></a><span class="lineno">2091</span><span class="line">        <span class="keyword">return</span> storage_type::offset(</span>
<a id="line2092"></a><span class="lineno">2092</span><span class="line">		<span class="keyword">this</span>-&gt;blk_-&gt;impl_data(),</span>
<a id="line2093"></a><span class="lineno">2093</span><span class="line">		- <span class="keyword">this</span>-&gt;offset_ * <span class="keyword">this</span>-&gt;blk_-&gt;impl_stride(<span class="literal">2</span>, <span class="literal">0</span>));</span>
<a id="line2094"></a><span class="lineno">2094</span><span class="line">    }</span>
<a id="line2095"></a><span class="lineno">2095</span>
<a id="line2096"></a><span class="lineno">2096</span><span class="line">  <a href="../../../Scopes/vsip/impl/Diag_block.html#const_data_type" title="typedef vsip::impl::Diag_block::const_data_type">const_data_type</a> <a href="../../../Scopes/vsip/impl/Diag_block.html#impl_data_l_rconst" title="member function vsip::impl::Diag_block::impl_data()const">impl_data</a>() const <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line2097"></a><span class="lineno">2097</span><span class="line">    { </span>
<a id="line2098"></a><span class="lineno">2098</span><span class="line">      <span class="keyword">if</span> ( <span class="keyword">this</span>-&gt;offset_ &gt;= <span class="literal">0</span> )</span>
<a id="line2099"></a><span class="lineno">2099</span><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>-&gt;blk_-&gt;impl_data() + <span class="keyword">this</span>-&gt;offset_ * <span class="keyword">this</span>-&gt;blk_-&gt;impl_stride(<span class="literal">2</span>, <span class="literal">1</span>);</span>
<a id="line2100"></a><span class="lineno">2100</span><span class="line">      <span class="keyword">else</span></span>
<a id="line2101"></a><span class="lineno">2101</span><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>-&gt;blk_-&gt;impl_data() - <span class="keyword">this</span>-&gt;offset_ * <span class="keyword">this</span>-&gt;blk_-&gt;impl_stride(<span class="literal">2</span>, <span class="literal">0</span>);</span>
<a id="line2102"></a><span class="lineno">2102</span><span class="line">    }</span>
<a id="line2103"></a><span class="lineno">2103</span>
<a id="line2104"></a><span class="lineno">2104</span><span class="line">  <a href="../../../Scopes/vsip.html#stride_type" title="typedef vsip::stride_type">stride_type</a> <a href="../../../Scopes/vsip/impl/Diag_block.html#impl_stride_ldimension_type_cdimension_type_rconst" title="member function vsip::impl::Diag_block::impl_stride(dimension_type,dimension_type)const">impl_stride</a>(<a href="../../../Scopes/vsip.html#dimension_type" title="typedef vsip::dimension_type">dimension_type</a> Dim, <a href="../../../Scopes/vsip.html#dimension_type" title="typedef vsip::dimension_type">dimension_type</a> d)</span>
<a id="line2105"></a><span class="lineno">2105</span><span class="line">    const <a href="../../../Scopes/global.html#VSIP_NOTHROW" title="macro call">VSIP_NOTHROW</a></span>
<a id="line2106"></a><span class="lineno">2106</span><span class="line">    {</span>
<a id="line2107"></a><span class="lineno">2107</span><span class="line">      <a href="" title="macro call">assert</a>(Dim == dim &amp;&amp; d&lt;dim);</span>
<a id="line2108"></a><span class="lineno">2108</span><span class="line">      <span class="keyword">return</span> <span class="keyword">this</span>-&gt;blk_-&gt;impl_stride(<span class="literal">2</span>, <span class="literal">0</span>) + <span class="keyword">this</span>-&gt;blk_-&gt;impl_stride(<span class="literal">2</span>, <span class="literal">1</span>);</span>
<a id="line2109"></a><span class="lineno">2109</span><span class="line">    }</span>
<a id="line2110"></a><span class="lineno">2110</span><span class="line">  </span>
<a id="line2111"></a><span class="lineno">2111</span><span class="line"> <span class="keyword">private</span>:</span>
<a id="line2112"></a><span class="lineno">2112</span><span class="line">  <span class="comment">// Data members.</span></span>
<a id="line2113"></a><span class="lineno">2113</span><span class="line">  typename View_block_storage&lt;Block&gt;::type <a href="../../../Scopes/vsip/impl/Diag_block.html#blk_" title="data member vsip::impl::Diag_block::blk_">blk_</a>;</span>
<a id="line2114"></a><span class="lineno">2114</span><span class="line">  <a href="../../../Scopes/vsip.html#index_difference_type" title="typedef vsip::index_difference_type">index_difference_type const</a>              <a href="../../../Scopes/vsip/impl/Diag_block.html#offset_" title="data member vsip::impl::Diag_block::offset_">offset_</a>;</span>
<a id="line2115"></a><span class="lineno">2115</span><span class="line">};</span>
<a id="line2116"></a><span class="lineno">2116</span>
<a id="line2117"></a><span class="lineno">2117</span>
<a id="line2118"></a><span class="lineno">2118</span>
<a id="line2119"></a><span class="lineno">2119</span>
<a id="line2120"></a><span class="lineno">2120</span><span class="line">} <span class="comment">// namespace vsip::impl</span></span>
<a id="line2121"></a><span class="lineno">2121</span><span class="line">} <span class="comment">// namespace vsip</span></span>
<a id="line2122"></a><span class="lineno">2122</span>
<a id="line2123"></a><span class="lineno">2123</span><span class="line">#endif // vsip/core/subblock.hpp</span>
</pre>
<div class="logo">Generated on Sat Apr 17 11:14:41 2010 by 
<br/>
<a href="http://synopsis.fresco.org" target="_blank"><img src="../../../synopsis.png" alt="logo"/> synopsis</a> (version 0.12)</div>
</body>
</html>
